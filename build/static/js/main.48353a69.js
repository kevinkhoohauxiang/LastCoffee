/*! For license information please see main.48353a69.js.LICENSE.txt */
!function(){var e={8446:function(e,t,n){"use strict";var r=n(5637),i=n(826),o=n(9388),a=n(9971),s=n(9386);function u(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var c,l=u(r),f=((c={})["already-activated"]="You are trying to activate AppCheck for FirebaseApp {$appName}, while it is already activated. AppCheck can only be activated once.",c["use-before-activation"]="AppCheck is being used before activate() is called for FirebaseApp {$appName}. Please make sure you call activate() before instantiating other Firebase services.",c["fetch-network-error"]="Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",c["fetch-parse-error"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",c["fetch-status-error"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",c["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",c["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",c["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",c["recaptcha-error"]="ReCAPTCHA error.",c),h=new a.ErrorFactory("appCheck","AppCheck",f),d=new Map,p={activated:!1,tokenObservers:[]},v={enabled:!1};function g(e){return d.get(e)||p}function m(e,t){d.set(e,t)}function y(){return v}var b="https://content-firebaseappcheck.googleapis.com/v1beta",w=3e4,_=96e4,x=function(){function e(e,t,n,r,i){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=n,this.lowerBound=r,this.upperBound=i,this.pending=null,this.nextErrorWaitInterval=r,r>i)throw new Error("Proactive refresh lower bound greater than upper bound!")}return e.prototype.start=function(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch((function(){}))},e.prototype.stop=function(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)},e.prototype.isRunning=function(){return!!this.pending},e.prototype.process=function(e){return o.__awaiter(this,void 0,void 0,(function(){var t;return o.__generator(this,(function(n){switch(n.label){case 0:this.stop(),n.label=1;case 1:return n.trys.push([1,6,,7]),this.pending=new a.Deferred,[4,(r=this.getNextRun(e),new Promise((function(e){setTimeout(e,r)})))];case 2:return n.sent(),this.pending.resolve(),[4,this.pending.promise];case 3:return n.sent(),this.pending=new a.Deferred,[4,this.operation()];case 4:return n.sent(),this.pending.resolve(),[4,this.pending.promise];case 5:return n.sent(),this.process(!0).catch((function(){})),[3,7];case 6:return t=n.sent(),this.retryPolicy(t)?this.process(!1).catch((function(){})):this.stop(),[3,7];case 7:return[2]}var r}))}))},e.prototype.getNextRun=function(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();var t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t},e}();function S(){return self.grecaptcha}function E(e){if(!g(e).activated)throw h.create("use-before-activation",{appName:e.name})}function k(e){return a.base64.encodeString(JSON.stringify(e),!1)}function T(e,t){var n=e.url,r=e.body;return o.__awaiter(this,void 0,void 0,(function(){var e,i,a,s,u,c,l,f,d,p;return o.__generator(this,(function(o){switch(o.label){case 0:e={"Content-Type":"application/json"},(i=t.getImmediate({optional:!0}))&&(e["X-Firebase-Client"]=i.getPlatformInfoString()),a={method:"POST",body:JSON.stringify(r),headers:e},o.label=1;case 1:return o.trys.push([1,3,,4]),[4,fetch(n,a)];case 2:return s=o.sent(),[3,4];case 3:throw u=o.sent(),h.create("fetch-network-error",{originalErrorMessage:u.message});case 4:if(200!==s.status)throw h.create("fetch-status-error",{httpStatus:s.status});o.label=5;case 5:return o.trys.push([5,7,,8]),[4,s.json()];case 6:return c=o.sent(),[3,8];case 7:throw l=o.sent(),h.create("fetch-parse-error",{originalErrorMessage:l.message});case 8:if(!(f=c.ttl.match(/^([\d.]+)(s)$/))||!f[2]||isNaN(Number(f[1])))throw h.create("fetch-parse-error",{originalErrorMessage:"ttl field (timeToLive) is not in standard Protobuf Duration format: "+c.ttl});return d=1e3*Number(f[1]),p=Date.now(),[2,{token:c.attestationToken,expireTimeMillis:p+d,issuedAtTimeMillis:p}]}}))}))}function C(e,t){var n=e.options,r=n.projectId,i=n.appId,o=n.apiKey;return{url:b+"/projects/"+r+"/apps/"+i+":exchangeRecaptchaToken?key="+o,body:{recaptcha_token:t}}}function I(e,t){var n=e.options,r=n.projectId,i=n.appId,o=n.apiKey;return{url:b+"/projects/"+r+"/apps/"+i+":exchangeDebugToken?key="+o,body:{debug_token:t}}}var P="firebase-app-check-store",O="debug-token",A=null;function D(){return A||(A=new Promise((function(e,t){try{var n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=function(t){e(t.target.result)},n.onerror=function(e){var n;t(h.create("storage-open",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))},n.onupgradeneeded=function(e){var t=e.target.result;if(0===e.oldVersion)t.createObjectStore(P,{keyPath:"compositeKey"})}}catch(r){t(h.create("storage-open",{originalErrorMessage:r.message}))}})),A)}function N(e){return j(M(e))}function R(e,t){return o.__awaiter(this,void 0,void 0,(function(){var n,r,i,a;return o.__generator(this,(function(o){switch(o.label){case 0:return[4,D()];case 1:return n=o.sent(),r=n.transaction(P,"readwrite"),i=r.objectStore(P),a=i.put({compositeKey:e,value:t}),[2,new Promise((function(e,t){a.onsuccess=function(t){e()},r.onerror=function(e){var n;t(h.create("storage-set",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))}}))]}}))}))}function j(e){return o.__awaiter(this,void 0,void 0,(function(){var t,n,r,i;return o.__generator(this,(function(o){switch(o.label){case 0:return[4,D()];case 1:return t=o.sent(),n=t.transaction(P,"readonly"),r=n.objectStore(P),i=r.get(e),[2,new Promise((function(e,t){i.onsuccess=function(t){var n=t.target.result;e(n?n.value:void 0)},n.onerror=function(e){var n;t(h.create("storage-get",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))}}))]}}))}))}function M(e){return e.options.appId+"-"+e.name}var L=new s.Logger("@firebase/app-check");function F(e,t){return a.isIndexedDBAvailable()?function(e,t){return R(M(e),t)}(e,t).catch((function(e){L.warn("Failed to write token to indexeddb. Error: "+e)})):Promise.resolve()}function U(){return o.__awaiter(this,void 0,void 0,(function(){var e,t;return o.__generator(this,(function(n){switch(n.label){case 0:e=void 0,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,j(O)];case 2:return e=n.sent(),[3,4];case 3:return n.sent(),[3,4];case 4:return e?[2,e]:(t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})),(r=t,R(O,r)).catch((function(e){return L.warn("Failed to persist debug token to indexeddb. Error: "+e)})),console.log("AppCheck debug token: "+t+". You will need to whitelist it in the Firebase console for it to work"),[2,t])}var r}))}))}function B(){return o.__awaiter(this,void 0,void 0,(function(){var e;return o.__generator(this,(function(t){if((e=y()).enabled&&e.token)return[2,e.token.promise];throw Error("\n            Can't get debug token in production mode.\n        ")}))}))}var q={error:"UNKNOWN_ERROR"};function V(e,t,n){return void 0===n&&(n=!1),o.__awaiter(this,void 0,void 0,(function(){var r,i,a,s,u,c,l,f,h,d;return o.__generator(this,(function(p){switch(p.label){case 0:return E(e),r=g(e),i=r.token,a=void 0,i?[3,2]:[4,r.cachedTokenPromise];case 1:(s=p.sent())&&K(s)&&(i=s,m(e,o.__assign(o.__assign({},r),{token:i})),H(e,{token:i.token})),p.label=2;case 2:return!n&&i&&K(i)?[2,{token:i.token}]:y().enabled?(c=T,l=I,f=[e],[4,B()]):[3,6];case 3:return[4,c.apply(void 0,[l.apply(void 0,f.concat([p.sent()])),t])];case 4:return u=p.sent(),[4,F(e,u)];case 5:return p.sent(),m(e,o.__assign(o.__assign({},r),{token:u})),[2,{token:u.token}];case 6:return p.trys.push([6,8,,9]),[4,r.provider.getToken()];case 7:return i=p.sent(),[3,9];case 8:return h=p.sent(),L.error(h),a=h,[3,9];case 9:return i?[3,10]:(d=function(e){return{token:k(q),error:e}}(a),[3,12]);case 10:return d={token:i.token},m(e,o.__assign(o.__assign({},r),{token:i})),[4,F(e,i)];case 11:p.sent(),p.label=12;case 12:return H(e,d),[2,d]}}))}))}function z(e,t,n,r,i){var a=g(e),s={next:r,error:i,type:n},u=o.__assign(o.__assign({},a),{tokenObservers:o.__spreadArray(o.__spreadArray([],a.tokenObservers),[s])});if(!u.tokenRefresher){var c=function(e,t){var n=this;return new x((function(){return o.__awaiter(n,void 0,void 0,(function(){var n;return o.__generator(this,(function(r){switch(r.label){case 0:return g(e).token?[3,2]:[4,V(e,t)];case 1:return n=r.sent(),[3,4];case 2:return[4,V(e,t,!0)];case 3:n=r.sent(),r.label=4;case 4:if(n.error)throw n.error;return[2]}}))}))}),(function(){return!0}),(function(){var t=g(e);if(t.token){var n=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5,r=t.token.expireTimeMillis-3e5;return n=Math.min(n,r),Math.max(0,n-Date.now())}return 0}),w,_)}(e,t);u.tokenRefresher=c}if(!u.tokenRefresher.isRunning()&&a.isTokenAutoRefreshEnabled&&u.tokenRefresher.start(),a.token&&K(a.token)){var l=a.token;Promise.resolve().then((function(){return r({token:l.token})})).catch((function(){}))}else null==a.token&&a.cachedTokenPromise.then((function(e){e&&K(e)&&r({token:e.token})})).catch((function(){}));m(e,u)}function W(e,t){var n=g(e),r=n.tokenObservers.filter((function(e){return e.next!==t}));0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),m(e,o.__assign(o.__assign({},n),{tokenObservers:r}))}function H(e,t){for(var n=0,r=g(e).tokenObservers;n<r.length;n++){var i=r[n];try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch(o){}}}function K(e){return e.expireTimeMillis-Date.now()>0}var G="https://www.google.com/recaptcha/api.js";function Y(e,t){var n=g(e),r=new a.Deferred;m(e,o.__assign(o.__assign({},n),{reCAPTCHAState:{initialized:r}}));var i="fire_app_check_"+e.name,s=document.createElement("div");s.id=i,s.style.display="none",document.body.appendChild(s);var u=S();return u?u.ready((function(){Q(e,t,u,i),r.resolve(u)})):function(e){var t=document.createElement("script");t.src=""+G,t.onload=e,document.head.appendChild(t)}((function(){var n=S();if(!n)throw new Error("no recaptcha");n.ready((function(){Q(e,t,n,i),r.resolve(n)}))})),r.promise}function $(e){return o.__awaiter(this,void 0,void 0,(function(){var t;return o.__generator(this,(function(n){switch(n.label){case 0:return E(e),[4,g(e).reCAPTCHAState.initialized.promise];case 1:return t=n.sent(),[2,new Promise((function(n,r){var i=g(e).reCAPTCHAState;t.ready((function(){n(t.execute(i.widgetId,{action:"fire_app_check"}))}))}))]}}))}))}function Q(e,t,n,r){var i=n.render(r,{sitekey:t,size:"invisible"}),a=g(e);m(e,o.__assign(o.__assign({},a),{reCAPTCHAState:o.__assign(o.__assign({},a.reCAPTCHAState),{widgetId:i})}))}var X=function(){function e(e){this._siteKey=e}return e.prototype.getToken=function(){return o.__awaiter(this,void 0,void 0,(function(){var e;return o.__generator(this,(function(t){switch(t.label){case 0:if(!this._app||!this._platformLoggerProvider)throw h.create("use-before-activation",{appName:""});t.label=1;case 1:return t.trys.push([1,3,,4]),[4,$(this._app)];case 2:return e=t.sent(),[3,4];case 3:throw t.sent(),h.create("recaptcha-error");case 4:return[2,T(C(this._app,e),this._platformLoggerProvider)]}}))}))},e.prototype.initialize=function(e,t){this._app=e,this._platformLoggerProvider=t,Y(e,this._siteKey).catch((function(){}))},e}(),J=function(){function e(e){this._customProviderOptions=e}return e.prototype.getToken=function(){return o.__awaiter(this,void 0,void 0,(function(){var e,t,n;return o.__generator(this,(function(r){switch(r.label){case 0:if(!this._app)throw h.create("use-before-activation",{appName:""});return[4,this._customProviderOptions.getToken()];case 1:return e=r.sent(),t=a.issuedAtTime(e.token),n=null!==t&&t<Date.now()&&t>0?1e3*t:Date.now(),[2,o.__assign(o.__assign({},e),{issuedAtTimeMillis:n})]}}))}))},e.prototype.initialize=function(e){this._app=e},e}();function Z(e,t,n,r){var i=g(e);if(i.activated)throw h.create("already-activated",{appName:e.name});var s=o.__assign(o.__assign({},i),{activated:!0});s.cachedTokenPromise=function(e){return o.__awaiter(this,void 0,void 0,(function(){var t,n;return o.__generator(this,(function(r){switch(r.label){case 0:if(!a.isIndexedDBAvailable())return[3,5];t=void 0,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,N(e)];case 2:return t=r.sent(),[3,4];case 3:return n=r.sent(),L.warn("Failed to read token from indexeddb. Error: "+n),[3,4];case 4:return[2,t];case 5:return[2,void 0]}}))}))}(e).then((function(t){return t&&K(t)&&m(e,o.__assign(o.__assign({},g(e)),{token:t})),t})),s.provider="string"===typeof t?new X(t):t instanceof X||t instanceof J?t:new J({getToken:t.getToken}),s.isTokenAutoRefreshEnabled=void 0===r?e.automaticDataCollectionEnabled:r,m(e,s),s.provider.initialize(e,n)}function ee(e,t){return{app:e,activate:function(n,r){return Z(e,n,t,r)},setTokenAutoRefreshEnabled:function(t){return function(e,t){var n=g(e);n.tokenRefresher&&(!0===t?n.tokenRefresher.start():n.tokenRefresher.stop()),m(e,o.__assign(o.__assign({},n),{isTokenAutoRefreshEnabled:t}))}(e,t)},getToken:function(n){return function(e,t,n){return o.__awaiter(this,void 0,void 0,(function(){var r;return o.__generator(this,(function(i){switch(i.label){case 0:return[4,V(e,t,n)];case 1:if((r=i.sent()).error)throw r.error;return[2,{token:r.token}]}}))}))}(e,t,n)},onTokenChanged:function(n,r,i){return function(e,t,n,r,i){var o=function(){},a=function(){};return o=null!=n.next?n.next.bind(n):n,null!=n.error?a=n.error.bind(n):r&&(a=r),z(e,t,"EXTERNAL",o,a),function(){return W(e,o)}}(e,t,n,r)},INTERNAL:{delete:function(){for(var t=0,n=g(e).tokenObservers;t<n.length;t++){var r=n[t];W(e,r.next)}return Promise.resolve()}}}}var te="app-check-internal";!function(e){e.INTERNAL.registerComponent(new i.Component("appCheck",(function(e){return ee(e.getProvider("app").getImmediate(),e.getProvider("platform-logger"))}),"PUBLIC").setServiceProps({ReCaptchaV3Provider:X,CustomProvider:J}).setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider(te).initialize()}))),e.INTERNAL.registerComponent(new i.Component(te,(function(e){return function(e,t){return{getToken:function(n){return V(e,t,n)},addTokenListener:function(n){return z(e,t,"INTERNAL",n)},removeTokenListener:function(t){return W(e,t)}}}(e.getProvider("app").getImmediate(),e.getProvider("platform-logger"))}),"PUBLIC").setInstantiationMode("EXPLICIT")),e.registerVersion("@firebase/app-check","0.3.2")}(l.default),function(){var e=a.getGlobal();if("string"===typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN||!0===e.FIREBASE_APPCHECK_DEBUG_TOKEN){var t=y();t.enabled=!0;var n=new a.Deferred;t.token=n,"string"===typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN?n.resolve(e.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(U())}}()},5637:function(e,t,n){"use strict";n.r(t),n.d(t,{firebase:function(){return w}});var r,i,o=n(9388),a=n(9971),s=n(826),u=n(9386),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new a.ErrorFactory("app","Firebase",c),f="@firebase/app",h="[DEFAULT]",d=((i={})[f]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/app-check"]="fire-app-check",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.Logger("@firebase/app"),v=function(){function e(e,t,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=(0,a.deepCopy)(e),this.container=new s.ComponentContainer(t.name),this._addComponent(new s.Component("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(e){return r._addComponent(e)}))}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},e.prototype._getService=function(e,t){var n;void 0===t&&(t=h),this.checkDestroyed_();var r=this.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=h),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(t){p.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,t)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},e}();v.prototype.name&&v.prototype.options||v.prototype.delete||console.log("dc");var g=function e(){var t=function(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"===typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=h);var s=o.name;if("string"!==typeof s||!s)throw l.create("bad-app-name",{appName:String(s)});if((0,a.contains)(t,s))throw l.create("duplicate-app",{appName:s});var u=new e(n,o,r);return t[s]=u,u},app:i,registerVersion:function(e,t,n){var r,i=null!==(r=d[e])&&void 0!==r?r:e;n&&(i+="-"+n);var a=i.match(/\s|\//),u=t.match(/\s|\//);if(a||u){var c=['Unable to register library "'+i+'" with version "'+t+'":'];return a&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&u&&c.push("and"),u&&c.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}o(new s.Component(i+"-version",(function(){return{library:i,version:t}}),"VERSION"))},setLogLevel:u.setLogLevel,onLog:function(e,t){if(null!==e&&"function"!==typeof e)throw l.create("invalid-log-argument");(0,u.setUserLogHandler)(e,t)},apps:null,SDK_VERSION:"8.10.0",INTERNAL:{registerComponent:o,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){return"serverAuth"===t?null:t}}};function i(e){if(e=e||h,!(0,a.contains)(t,e))throw l.create("no-app",{appName:e});return t[e]}function o(o){var s=o.name;if(n.has(s))return p.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===o.type?r[s]:null;if(n.set(s,o),"PUBLIC"===o.type){var u=function(e){if(void 0===e&&(e=i()),"function"!==typeof e[s])throw l.create("invalid-app-argument",{appName:s});return e[s]()};void 0!==o.serviceProps&&(0,a.deepExtend)(u,o.serviceProps),r[s]=u,e.prototype[s]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._getService.bind(this,s).apply(this,o.multipleInstances?e:[])}}for(var c=0,f=Object.keys(t);c<f.length;c++){var h=f[c];t[h]._addComponent(o)}return"PUBLIC"===o.type?r[s]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),i.App=e,r}(v);return t.INTERNAL=(0,o.__assign)((0,o.__assign)({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){(0,a.deepExtend)(t,e)},createSubscribe:a.createSubscribe,ErrorFactory:a.ErrorFactory,deepExtend:a.deepExtend}),t}(),m=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null})).filter((function(e){return e})).join(" ")},e}();if((0,a.isBrowser)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var y=self.firebase.SDK_VERSION;y&&y.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=g.initializeApp;g.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,a.isNode)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,e)};var w=g;!function(e,t){e.INTERNAL.registerComponent(new s.Component("platform-logger",(function(e){return new m(e)}),"PRIVATE")),e.registerVersion(f,"0.6.30",t),e.registerVersion("fire-js","")}(w),t.default=w},826:function(e,t,n){"use strict";n.r(t),n.d(t,{Component:function(){return o},ComponentContainer:function(){return u},Provider:function(){return s}});var r=n(9388),i=n(9971),o=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),a="[DEFAULT]",s=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new i.Deferred;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:a})}catch(h){}try{for(var i=(0,r.__values)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var s=(0,r.__read)(o.value,2),u=s[0],c=s[1],l=this.normalizeInstanceIdentifier(u);try{var f=this.getOrInitializeService({instanceIdentifier:l});c.resolve(f)}catch(h){}}}catch(d){t={error:d}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e=a),this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){var e;return(0,r.__generator)(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all((0,r.__spreadArray)((0,r.__spreadArray)([],(0,r.__read)(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))),(0,r.__read)(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e=a),this.instances.has(e)},e.prototype.getOptions=function(e){return void 0===e&&(e=a),this.instancesOptions.get(e)||{}},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var i=e.options,o=void 0===i?{}:i,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var s=this.getOrInitializeService({instanceIdentifier:a,options:o});try{for(var u=(0,r.__values)(this.instancesDeferred.entries()),c=u.next();!c.done;c=u.next()){var l=(0,r.__read)(c.value,2),f=l[0],h=l[1];a===this.normalizeInstanceIdentifier(f)&&h.resolve(s)}}catch(d){t={error:d}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return s},e.prototype.onInit=function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&e(o,r),function(){i.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var n,i,o=this.onInitCallbacks.get(t);if(o)try{for(var a=(0,r.__values)(o),s=a.next();!s.done;s=a.next()){var u=s.value;try{u(e,t)}catch(c){}}}catch(l){n={error:l}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===a?void 0:t),options:i}),this.instances.set(n,o),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(s){}return o||null},e.prototype.normalizeInstanceIdentifier=function(e){return void 0===e&&(e=a),this.component?this.component.multipleInstances?e:a:e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}();var u=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new s(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}()},6895:function(e,t,n){"use strict";var r=n(5637),i=n(826),o=n(9971),a=n(9388),s=n(9386);e=n.hmd(e);var u="";function c(e){u=e}var l=function(){function e(e){this.domStorage_=e,this.prefix_="firebase:"}return e.prototype.set=function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,o.stringify)(t))},e.prototype.get=function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,o.jsonEval)(t)},e.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},e.prototype.prefixedName_=function(e){return this.prefix_+e},e.prototype.toString=function(){return this.domStorage_.toString()},e}(),f=function(){function e(){this.cache_={},this.isInMemoryStorage=!0}return e.prototype.set=function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t},e.prototype.get=function(e){return(0,o.contains)(this.cache_,e)?this.cache_[e]:null},e.prototype.remove=function(e){delete this.cache_[e]},e}(),h=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new l(t)}}catch(n){}return new f},d=h("localStorage"),p=h("sessionStorage"),v=new s.Logger("@firebase/database"),g=function(){var e=1;return function(){return e++}}(),m=function(e){var t=(0,o.stringToByteArray)(e),n=new o.Sha1;n.update(t);var r=n.digest();return o.base64.encodeByteArray(r)},y=function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r="",i=0;i<t.length;i++){var a=t[i];Array.isArray(a)||a&&"object"===typeof a&&"number"===typeof a.length?r+=e.apply(null,a):r+="object"===typeof a?(0,o.stringify)(a):a,r+=" "}return r},b=null,w=!0,_=function(e,t){(0,o.assert)(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(v.logLevel=s.LogLevel.VERBOSE,b=v.log.bind(v),t&&p.set("logging_enabled",!0)):"function"===typeof e?b=e:(b=null,p.remove("logging_enabled"))},x=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!0===w&&(w=!1,null===b&&!0===p.get("logging_enabled")&&_(!0)),b){var n=y.apply(null,e);b(n)}},S=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];x.apply(void 0,(0,a.__spreadArray)([e],(0,a.__read)(t)))}},E=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+y.apply(void 0,(0,a.__spreadArray)([],(0,a.__read)(e)));v.error(n)},k=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+y.apply(void 0,(0,a.__spreadArray)([],(0,a.__read)(e)));throw v.error(n),new Error(n)},T=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+y.apply(void 0,(0,a.__spreadArray)([],(0,a.__read)(e)));v.warn(n)},C=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},I="[MIN_NAME]",P="[MAX_NAME]",O=function(e,t){if(e===t)return 0;if(e===I||t===P)return-1;if(t===I||e===P)return 1;var n=B(e),r=B(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},A=function(e,t){return e===t?0:e<t?-1:1},D=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+(0,o.stringify)(t))},N=function e(t){if("object"!==typeof t||null===t)return(0,o.stringify)(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=(0,o.stringify)(n[a]),i+=":",i+=e(t[n[a]]);return i+="}"},R=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function j(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var M=function(e){(0,o.assert)(!C(e),"Invalid JSON number");var t,n,r,i,a,s=1023;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),s))+s,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var u=[];for(a=52;a;a-=1)u.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)u.push(n%2?1:0),n=Math.floor(n/2);u.push(t?1:0),u.reverse();var c=u.join(""),l="";for(a=0;a<64;a+=8){var f=parseInt(c.substr(a,8),2).toString(16);1===f.length&&(f="0"+f),l+=f}return l.toLowerCase()};var L=new RegExp("^-?(0*)\\d{1,10}$"),F=-2147483648,U=2147483647,B=function(e){if(L.test(e)){var t=Number(e);if(t>=F&&t<=U)return t}return null},q=function(e){try{e()}catch(t){setTimeout((function(){var e=t.stack||"";throw T("Exception was thrown by user callback.",e),t}),Math.floor(0))}},V=function(e,t){var n=setTimeout(e,t);return"object"===typeof n&&n.unref&&n.unref(),n},z=function(){function e(e,t){var n=this;this.appName_=e,this.appCheckProvider=t,this.appCheck=null===t||void 0===t?void 0:t.getImmediate({optional:!0}),this.appCheck||null===t||void 0===t||t.get().then((function(e){return n.appCheck=e}))}return e.prototype.getToken=function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))},e.prototype.addTokenChangeListener=function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))},e.prototype.notifyForInvalidToken=function(){T('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},e}(),W=function(){function e(e,t,n){var r=this;this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((function(e){return r.auth_=e}))}return e.prototype.getToken=function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(x("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))},e.prototype.addTokenChangeListener=function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))},e.prototype.removeTokenChangeListener=function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))},e.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',T(e)},e}(),H=function(){function e(e){this.accessToken=e}return e.prototype.getToken=function(e){return Promise.resolve({accessToken:this.accessToken})},e.prototype.addTokenChangeListener=function(e){e(this.accessToken)},e.prototype.removeTokenChangeListener=function(e){},e.prototype.notifyForInvalidToken=function(){},e.OWNER="owner",e}(),K="5",G=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Y="websocket",$="long_polling",Q=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===a&&(a=!1),this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=d.get("host:"+e)||this._host}return e.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},e.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&d.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),e.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},e.prototype.toURLString=function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+e+this.host+"/"+t},e}();function X(e,t,n){var r;if((0,o.assert)("string"===typeof t,"typeof type must == string"),(0,o.assert)("object"===typeof n,"typeof params must == object"),t===Y)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==$)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return j(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var J=function(){function e(){this.counters_={}}return e.prototype.incrementCounter=function(e,t){void 0===t&&(t=1),(0,o.contains)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t},e.prototype.get=function(){return(0,o.deepCopy)(this.counters_)},e}(),Z={},ee={};function te(e){var t=e.toString();return Z[t]||(Z[t]=new J),Z[t]}var ne=function(){function e(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e.prototype.closeAfter=function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},e.prototype.handleResponse=function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var t=function(t){e[t]&&q((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum];){if("break"===r())break}},e}(),re="start",ie="close",oe=function(){function e(e,t,n,r,i,o,a){var s=this;this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=S(e),this.stats_=te(t),this.urlFn=function(e){return s.appCheckToken&&(e.ac=s.appCheckToken),X(t,$,e)}}return e.prototype.open=function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new ne(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if((0,o.isNodeSdk)()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new ae((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=(0,a.__read)(e,5),i=r[0],o=r[1],s=r[2];if(r[3],r[4],n.incrementIncomingBytes_(e),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===re)n.id=o,n.password=s;else{if(i!==ie)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=(0,a.__read)(e,2),i=r[0],o=r[1];n.incrementIncomingBytes_(e),n.myPacketOrderer.handleResponse(i,o)}),(function(){n.onClosed_()}),n.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v=K,n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e.ac=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&G.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))},e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.forceAllow_=!0},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){return!(0,o.isNodeSdk)()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))},e.prototype.markConnectionHealthy=function(){},e.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},e.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},e.prototype.send=function(e){var t=(0,o.stringify)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=(0,o.base64Encode)(t),r=R(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},e.prototype.addDisconnectPingFrame=function(e,t){if(!(0,o.isNodeSdk)()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},e.prototype.incrementIncomingBytes_=function(e){var t=(0,o.stringify)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)},e}(),ae=function(){function e(t,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,o.isNodeSdk)())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=g(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))a='<script>document.domain="'+document.domain+'";<\/script>';var s="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(u){x("frame writing exception"),u.stack&&x(u.stack),x(u)}}}return e.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||x("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},e.prototype.close=function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())},e.prototype.startLongPoll=function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););},e.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1},e.prototype.enqueueSegment=function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()},e.prototype.addLongPollTag_=function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))},e.prototype.addTag=function(e,t){var n=this;(0,o.isNodeSdk)()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){x("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))},e}(),se=null;"undefined"!==typeof MozWebSocket?se=MozWebSocket:"undefined"!==typeof WebSocket&&(se=WebSocket);var ue=function(){function e(t,n,r,i,o,a,s){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=S(this.connId),this.stats_=te(n),this.connURL=e.connectionURL_(n,a,s,i),this.nodeAdmin=n.nodeAdmin}return e.connectionURL_=function(e,t,n,r){var i={};return i.v=K,!(0,o.isNodeSdk)()&&"undefined"!==typeof location&&location.hostname&&G.test(location.hostname)&&(i.r="f"),t&&(i.s=t),n&&(i.ls=n),r&&(i.ac=r),X(e,Y,i)},e.prototype.open=function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,d.set("previous_websocket_failure",!0);try{if((0,o.isNodeSdk)()){var r=this.nodeAdmin?"AdminNode":"Node",i={headers:{"User-Agent":"Firebase/5/"+u+"/"+process.platform+"/"+r,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(i.headers.Authorization="Bearer "+this.authToken),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);var a={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},s=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;s&&(i.proxy={origin:s}),this.mySock=new se(this.connURL,[],i)}else{i={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new se(this.connURL,[],i)}}catch(l){this.log_("Error instantiating WebSocket.");var c=l.message||l.data;return c&&this.log_(c),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==se&&!e.forceDisallow_},e.previouslyFailed=function(){return d.isInMemoryStorage||!0===d.get("previous_websocket_failure")},e.prototype.markConnectionHealthy=function(){d.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=(0,o.jsonEval)(t);this.onMessage(n)}},e.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},e.prototype.extractFrameCount_=function(e){if((0,o.assert)(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e},e.prototype.handleIncomingFrame=function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}},e.prototype.send=function(e){this.resetKeepAlive();var t=(0,o.stringify)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=R(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))},e.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}(),ce=function(){function e(e){this.initTransports_(e)}return Object.defineProperty(e,"ALL_TRANSPORTS",{get:function(){return[oe,ue]},enumerable:!1,configurable:!0}),e.prototype.initTransports_=function(t){var n,r,i=ue&&ue.isAvailable(),o=i&&!ue.previouslyFailed();if(t.webSocketOnly&&(i||T("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[ue];else{var s=this.transports_=[];try{for(var u=(0,a.__values)(e.ALL_TRANSPORTS),c=u.next();!c.done;c=u.next()){var l=c.value;l&&l.isAvailable()&&s.push(l)}}catch(f){n={error:f}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}},e.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},e.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},e}(),le=function(){function e(e,t,n,r,i,o,a,s,u,c){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=s,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=S("c:"+this.id+":"),this.transportManager_=new ce(t),this.log_("Connection created"),this.start_()}return e.prototype.start_=function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=V((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))},e.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},e.prototype.disconnReceiver_=function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}},e.prototype.connReceiver_=function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}},e.prototype.sendRequest=function(e){var t={t:"d",d:e};this.sendData_(t)},e.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},e.prototype.onSecondaryControl_=function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},e.prototype.onSecondaryMessageReceived_=function(e){var t=D("t",e),n=D("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}},e.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},e.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},e.prototype.onPrimaryMessageReceived_=function(e){var t=D("t",e),n=D("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)},e.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},e.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},e.prototype.onControl_=function(e){var t=D("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?E("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):E("Unknown control packet command: "+t)}},e.prototype.onHandshake_=function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),K!==n&&T("Protocol version mismatch detected"),this.tryStartUpgrade_())},e.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},e.prototype.startUpgrade_=function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),V((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))},e.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())},e.prototype.onConnectionEstablished_=function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):V((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},e.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},e.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()},e.prototype.onConnectionLost_=function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(d.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},e.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},e.prototype.sendData_=function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)},e.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},e.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},e}(),fe=function(){function e(){}return e.prototype.put=function(e,t,n,r){},e.prototype.merge=function(e,t,n,r){},e.prototype.refreshAuthToken=function(e){},e.prototype.refreshAppCheckToken=function(e){},e.prototype.onDisconnectPut=function(e,t,n){},e.prototype.onDisconnectMerge=function(e,t,n){},e.prototype.onDisconnectCancel=function(e,t){},e.prototype.reportStats=function(e){},e}(),he=function(){function e(e){this.allowedEvents_=e,this.listeners_={},(0,o.assert)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}return e.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Array.isArray(this.listeners_[e]))for(var r=(0,a.__spreadArray)([],(0,a.__read)(this.listeners_[e])),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)},e.prototype.on=function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)},e.prototype.off=function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)},e.prototype.validateEventType_=function(e){(0,o.assert)(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)},e}(),de=function(e){function t(){var t=e.call(this,["online"])||this;return t.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||(0,o.isMobileCordova)()||(window.addEventListener("online",(function(){t.online_||(t.online_=!0,t.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){t.online_&&(t.online_=!1,t.trigger("online",!1))}),!1)),t}return(0,a.__extends)(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return(0,o.assert)("online"===e,"Unknown event type: "+e),[this.online_]},t.prototype.currentlyOnline=function(){return this.online_},t}(he),pe=function(){function e(e,t){if(void 0===t){this.pieces_=e.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}return e.prototype.toString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"},e}();function ve(){return new pe("")}function ge(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function me(e){return e.pieces_.length-e.pieceNum_}function ye(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new pe(e.pieces_,t)}function be(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function we(e,t){return void 0===t&&(t=0),e.pieces_.slice(e.pieceNum_+t)}function _e(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new pe(t,0)}function xe(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof pe)for(r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{var i=t.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new pe(n,0)}function Se(e){return e.pieceNum_>=e.pieces_.length}function Ee(e,t){var n=ge(e),r=ge(t);if(null===n)return t;if(n===r)return Ee(ye(e),ye(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function ke(e,t){for(var n=we(e,0),r=we(t,0),i=0;i<n.length&&i<r.length;i++){var o=O(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function Te(e,t){if(me(e)!==me(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Ce(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(me(e)>me(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var Ie=function(e,t){this.errorPrefix_=t,this.parts_=we(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=(0,o.stringLength)(this.parts_[n]);Pe(this)};function Pe(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Oe(e))}function Oe(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var Ae,De,Ne=function(e){function t(){var t,n,r=e.call(this,["visible"])||this;return"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(n="visibilitychange",t="hidden"):"undefined"!==typeof document.mozHidden?(n="mozvisibilitychange",t="mozHidden"):"undefined"!==typeof document.msHidden?(n="msvisibilitychange",t="msHidden"):"undefined"!==typeof document.webkitHidden&&(n="webkitvisibilitychange",t="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var e=!document[t];e!==r.visible_&&(r.visible_=e,r.trigger("visible",e))}),!1),r}return(0,a.__extends)(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return(0,o.assert)("visible"===e,"Unknown event type: "+e),[this.visible_]},t}(he),Re=1e3,je=function(e){function t(n,r,i,a,s,u,c,l){var f=e.call(this)||this;if(f.repoInfo_=n,f.applicationId_=r,f.onDataUpdate_=i,f.onConnectStatus_=a,f.onServerInfoUpdate_=s,f.authTokenProvider_=u,f.appCheckTokenProvider_=c,f.authOverride_=l,f.id=t.nextPersistentConnectionId_++,f.log_=S("p:"+f.id+":"),f.interruptReasons_={},f.listens=new Map,f.outstandingPuts_=[],f.outstandingGets_=[],f.outstandingPutCount_=0,f.outstandingGetCount_=0,f.onDisconnectRequestQueue_=[],f.connected_=!1,f.reconnectDelay_=Re,f.maxReconnectDelay_=3e5,f.securityDebugCallback_=null,f.lastSessionId=null,f.establishConnectionTimer_=null,f.visible_=!1,f.requestCBHash_={},f.requestNumber_=0,f.realtime_=null,f.authToken_=null,f.appCheckToken_=null,f.forceTokenRefresh_=!1,f.invalidAuthTokenCount_=0,f.invalidAppCheckTokenCount_=0,f.firstConnection_=!0,f.lastConnectionAttemptTime_=null,f.lastConnectionEstablishedTime_=null,l&&!(0,o.isNodeSdk)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return Ne.getInstance().on("visible",f.onVisible_,f),-1===n.host.indexOf("fblocal")&&de.getInstance().on("online",f.onOnline_,f),f}return(0,a.__extends)(t,e),t.prototype.sendRequest=function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_((0,o.stringify)(i)),(0,o.assert)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},t.prototype.get=function(e){var t=this;this.initConnection_();var n=new o.Deferred,r={p:e._path.toString(),q:e._queryObject},i={action:"g",request:r,onComplete:function(e){var i=e.d;"ok"===e.s?(t.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var a=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var e=t.outstandingGets_[a];void 0!==e&&i===e&&(delete t.outstandingGets_[a],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),t.log_("get "+a+" timed out on connection"),n.reject(new Error("Client is offline.")))}),3e3),this.connected_&&this.sendGet_(a),n.promise},t.prototype.listen=function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),(0,o.assert)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,o.assert)(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var s={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,s),this.connected_&&this.sendListen_(s)},t.prototype.sendGet_=function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))},t.prototype.sendListen_=function(e){var n=this,r=e.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);var a={p:i};e.tag&&(a.q=r._queryObject,a.t=e.tag),a.h=e.hashFn(),this.sendRequest("q",a,(function(a){var s=a.d,u=a.s;t.warnOnListenWarnings_(s,r),(n.listens.get(i)&&n.listens.get(i).get(o))===e&&(n.log_("listen response",a),"ok"!==u&&n.removeListen_(i,o),e.onComplete&&e.onComplete(u,s))}))},t.warnOnListenWarnings_=function(e,t){if(e&&"object"===typeof e&&(0,o.contains)(e,"w")){var n=(0,o.safeGet)(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();T("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},t.prototype.refreshAuthToken=function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)},t.prototype.reduceReconnectDelayIfAdminCredential_=function(e){(e&&40===e.length||(0,o.isAdmin)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},t.prototype.refreshAppCheckToken=function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))},t.prototype.tryAuth=function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=(0,o.isValidFormat)(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}},t.prototype.tryAppCheck=function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))},t.prototype.unlisten=function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),(0,o.assert)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)},t.prototype.sendUnlisten_=function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},t.prototype.onDisconnectPut=function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})},t.prototype.onDisconnectMerge=function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})},t.prototype.onDisconnectCancel=function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})},t.prototype.sendOnDisconnect_=function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))},t.prototype.put=function(e,t,n,r){this.putInternal("p",e,t,n,r)},t.prototype.merge=function(e,t,n,r){this.putInternal("m",e,t,n,r)},t.prototype.putInternal=function(e,t,n,r,i){this.initConnection_();var o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;var a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+t)},t.prototype.sendPut_=function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))},t.prototype.reportStats=function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}},t.prototype.onDataMessage_=function(e){if("r"in e){this.log_("from server: "+(0,o.stringify)(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}},t.prototype.onDataPush_=function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):E("Unrecognized action received from server: "+(0,o.stringify)(e)+"\nAre you using the latest client?")},t.prototype.onReady_=function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},t.prototype.scheduleConnect_=function(e){var t=this;(0,o.assert)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))},t.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},t.prototype.onVisible_=function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Re,this.realtime_||this.scheduleConnect_(0)),this.visible_=e},t.prototype.onOnline_=function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Re,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},t.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Re),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},t.prototype.establishConnection_=function(){return(0,a.__awaiter)(this,void 0,void 0,(function(){var e,n,r,i,s,u,c,l,f,h,d,p,v,g,m=this;return(0,a.__generator)(this,(function(y){switch(y.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+t.nextConnectionId_++,s=this.lastSessionId,u=!1,c=null,l=function(){c?c.close():(u=!0,r())},f=function(e){(0,o.assert)(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(e)},this.realtime_={close:l,sendRequest:f},h=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,y.label=1;case 1:return y.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)])];case 2:return d=a.__read.apply(void 0,[y.sent(),2]),p=d[0],v=d[1],u?x("getToken() completed but was canceled"):(x("getToken() completed. Creating connection."),this.authToken_=p&&p.accessToken,this.appCheckToken_=v&&v.token,c=new le(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,(function(e){T(e+" ("+m.repoInfo_.toString()+")"),m.interrupt("server_kill")}),s)),[3,4];case 3:return g=y.sent(),this.log_("Failed to get token: "+g),u||(this.repoInfo_.nodeAdmin&&T(g),l()),[3,4];case 4:return[2]}}))}))},t.prototype.interrupt=function(e){x("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},t.prototype.resume=function(e){x("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,o.isEmpty)(this.interruptReasons_)&&(this.reconnectDelay_=Re,this.realtime_||this.scheduleConnect_(0))},t.prototype.handleTimestamp_=function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})},t.prototype.cancelSentTransactions_=function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},t.prototype.onListenRevoked_=function(e,t){var n;n=t?t.map((function(e){return N(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")},t.prototype.removeListen_=function(e,t){var n,r=new pe(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n},t.prototype.onAuthRevoked_=function(e,t){x("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},t.prototype.onAppCheckRevoked_=function(e,t){x("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())},t.prototype.onSecurityDebugPacket_=function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))},t.prototype.restoreState_=function(){var e,t,n,r;this.tryAuth(),this.tryAppCheck();try{for(var i=(0,a.__values)(this.listens.values()),o=i.next();!o.done;o=i.next()){var s=o.value;try{for(var u=(n=void 0,(0,a.__values)(s.values())),c=u.next();!c.done;c=u.next()){var l=c.value;this.sendListen_(l)}}catch(d){n={error:d}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(p){e={error:p}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}for(var f=0;f<this.outstandingPuts_.length;f++)this.outstandingPuts_[f]&&this.sendPut_(f);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}for(f=0;f<this.outstandingGets_.length;f++)this.outstandingGets_[f]&&this.sendGet_(f)},t.prototype.sendConnectStats_=function(){var e={},t="js";(0,o.isNodeSdk)()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+u.replace(/\./g,"-")]=1,(0,o.isMobileCordova)()?e["framework.cordova"]=1:(0,o.isReactNative)()&&(e["framework.reactnative"]=1),this.reportStats(e)},t.prototype.shouldReconnect_=function(){var e=de.getInstance().currentlyOnline();return(0,o.isEmpty)(this.interruptReasons_)&&e},t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t}(fe),Me=function(){function e(e,t){this.name=e,this.node=t}return e.Wrap=function(t,n){return new e(t,n)},e}(),Le=function(){function e(){}return e.prototype.getCompare=function(){return this.compare.bind(this)},e.prototype.indexedValueChanged=function(e,t){var n=new Me(I,e),r=new Me(I,t);return 0!==this.compare(n,r)},e.prototype.minPost=function(){return Me.MIN},e}(),Fe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.__extends)(t,e),Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return Ae},set:function(e){Ae=e},enumerable:!1,configurable:!0}),t.prototype.compare=function(e,t){return O(e.name,t.name)},t.prototype.isDefinedOn=function(e){throw(0,o.assertionError)("KeyIndex.isDefinedOn not expected to be called.")},t.prototype.indexedValueChanged=function(e,t){return!1},t.prototype.minPost=function(){return Me.MIN},t.prototype.maxPost=function(){return new Me(P,Ae)},t.prototype.makePost=function(e,t){return(0,o.assert)("string"===typeof e,"KeyIndex indexValue must always be a string."),new Me(e,Ae)},t.prototype.toString=function(){return".key"},t}(Le),Ue=new Fe,Be=function(){function e(e,t,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!e.isEmpty();)if(o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}return e.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e},e.prototype.hasNext=function(){return this.nodeStack_.length>0},e.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},e}(),qe=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:ze.EMPTY_NODE,this.right=null!=o?o:ze.EMPTY_NODE}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.count=function(){return this.left.count()+1+this.right.count()},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},e.prototype.minKey=function(){return this.min_().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()},e.prototype.removeMin_=function(){if(this.left.isEmpty())return ze.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()},e.prototype.remove=function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return ze.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()},e.prototype.isRed_=function(){return this.color},e.prototype.fixUp_=function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e},e.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e},e.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e},e.prototype.rotateLeft_=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight_=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},e.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},e.RED=!0,e.BLACK=!1,e}(),Ve=function(){function e(){}return e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new qe(e,t,null)},e.prototype.remove=function(e,t){return this},e.prototype.count=function(){return 0},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.check_=function(){return 0},e.prototype.isRed_=function(){return!1},e}(),ze=function(){function e(t,n){void 0===n&&(n=e.EMPTY_NODE),this.comparator_=t,this.root_=n}return e.prototype.insert=function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,qe.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,qe.BLACK,null,null))},e.prototype.get=function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null},e.prototype.getPredecessorKey=function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.isEmpty=function(){return this.root_.isEmpty()},e.prototype.count=function(){return this.root_.count()},e.prototype.minKey=function(){return this.root_.minKey()},e.prototype.maxKey=function(){return this.root_.maxKey()},e.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},e.prototype.getIterator=function(e){return new Be(this.root_,null,this.comparator_,!1,e)},e.prototype.getIteratorFrom=function(e,t){return new Be(this.root_,e,this.comparator_,!1,t)},e.prototype.getReverseIteratorFrom=function(e,t){return new Be(this.root_,e,this.comparator_,!0,t)},e.prototype.getReverseIterator=function(e){return new Be(this.root_,null,this.comparator_,!0,e)},e.EMPTY_NODE=new Ve,e}();function We(e,t){return O(e.name,t.name)}function He(e,t){return O(e,t)}var Ke,Ge,Ye,$e=function(e){return"number"===typeof e?"number:"+M(e):"string:"+e},Qe=function(e){if(e.isLeafNode()){var t=e.val();(0,o.assert)("string"===typeof t||"number"===typeof t||"object"===typeof t&&(0,o.contains)(t,".sv"),"Priority must be a string or number.")}else(0,o.assert)(e===De||e.isEmpty(),"priority of unexpected type.");(0,o.assert)(e===De||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Xe=function(){function e(t,n){void 0===n&&(n=e.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,(0,o.assert)(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Qe(this.priorityNode_)}return Object.defineProperty(e,"__childrenNodeConstructor",{get:function(){return Ke},set:function(e){Ke=e},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!0},e.prototype.getPriority=function(){return this.priorityNode_},e.prototype.updatePriority=function(t){return new e(this.value_,t)},e.prototype.getImmediateChild=function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.getChild=function(t){return Se(t)?this:".priority"===ge(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.hasChild=function(){return!1},e.prototype.getPredecessorChildName=function(e,t){return null},e.prototype.updateImmediateChild=function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)},e.prototype.updateChild=function(t,n){var r=ge(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:((0,o.assert)(".priority"!==r||1===me(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(ye(t),n)))},e.prototype.isEmpty=function(){return!1},e.prototype.numChildren=function(){return 0},e.prototype.forEachChild=function(e,t){return!1},e.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+$e(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?M(this.value_):this.value_,this.lazyHash_=m(e)}return this.lazyHash_},e.prototype.getValue=function(){return this.value_},e.prototype.compareTo=function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:((0,o.assert)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},e.prototype.compareToLeafNode_=function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return(0,o.assert)(i>=0,"Unknown leaf type: "+n),(0,o.assert)(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i},e.prototype.withIndex=function(){return this},e.prototype.isIndexed=function(){return!0},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1},e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e}();var Je,Ze,et=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.__extends)(t,e),t.prototype.compare=function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?O(e.name,t.name):i},t.prototype.isDefinedOn=function(e){return!e.getPriority().isEmpty()},t.prototype.indexedValueChanged=function(e,t){return!e.getPriority().equals(t.getPriority())},t.prototype.minPost=function(){return Me.MIN},t.prototype.maxPost=function(){return new Me(P,new Xe("[PRIORITY-POST]",Ye))},t.prototype.makePost=function(e,t){var n=Ge(e);return new Me(t,new Xe("[PRIORITY-POST]",n))},t.prototype.toString=function(){return".priority"},t}(Le),tt=new et,nt=Math.log(2),rt=function(){function e(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/nt,10)),this.current_=this.count-1;var n,r=(n=this.count,parseInt(Array(n+1).join("1"),2));this.bits_=e+1&r}return e.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},e}(),it=function(e,t,n,r){e.sort(t);var i=function t(r,i){var o,a,s=i-r;if(0===s)return null;if(1===s)return o=e[r],a=n?n(o):o,new qe(a,o.node,qe.BLACK,null,null);var u=parseInt(s/2,10)+r,c=t(r,u),l=t(u+1,i);return o=e[u],a=n?n(o):o,new qe(a,o.node,qe.BLACK,c,l)},o=function(t){for(var r=null,o=null,a=e.length,s=function(t,r){var o=a-t,s=a;a-=t;var c=i(o+1,s),l=e[o],f=n?n(l):l;u(new qe(f,l.node,r,null,c))},u=function(e){r?(r.left=e,r=e):(o=e,r=e)},c=0;c<t.count;++c){var l=t.nextBitIsOne(),f=Math.pow(2,t.count-(c+1));l?s(f,qe.BLACK):(s(f,qe.BLACK),s(f,qe.RED))}return o}(new rt(e.length));return new ze(r||t,o)},ot={},at=function(){function e(e,t){this.indexes_=e,this.indexSet_=t}return Object.defineProperty(e,"Default",{get:function(){return(0,o.assert)(ot&&tt,"ChildrenNode.ts has not been loaded"),Je=Je||new e({".priority":ot},{".priority":tt})},enumerable:!1,configurable:!0}),e.prototype.get=function(e){var t=(0,o.safeGet)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof ze?t:null},e.prototype.hasIndex=function(e){return(0,o.contains)(this.indexSet_,e.toString())},e.prototype.addIndex=function(t,n){(0,o.assert)(t!==Ue,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],s=!1,u=n.getIterator(Me.Wrap),c=u.getNext();c;)s=s||t.isDefinedOn(c.node),i.push(c),c=u.getNext();r=s?it(i,t.getCompare()):ot;var l=t.toString(),f=(0,a.__assign)({},this.indexSet_);f[l]=t;var h=(0,a.__assign)({},this.indexes_);return h[l]=r,new e(h,f)},e.prototype.addToIndexes=function(t,n){var r=this;return new e((0,o.map)(this.indexes_,(function(e,i){var a=(0,o.safeGet)(r.indexSet_,i);if((0,o.assert)(a,"Missing index implementation for "+i),e===ot){if(a.isDefinedOn(t.node)){for(var s=[],u=n.getIterator(Me.Wrap),c=u.getNext();c;)c.name!==t.name&&s.push(c),c=u.getNext();return s.push(t),it(s,a.getCompare())}return ot}var l=n.get(t.name),f=e;return l&&(f=f.remove(new Me(t.name,l))),f.insert(t,t.node)})),this.indexSet_)},e.prototype.removeFromIndexes=function(t,n){return new e((0,o.map)(this.indexes_,(function(e){if(e===ot)return e;var r=n.get(t.name);return r?e.remove(new Me(t.name,r)):e})),this.indexSet_)},e}(),st=function(){function e(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Qe(this.priorityNode_),this.children_.isEmpty()&&(0,o.assert)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(e,"EMPTY_NODE",{get:function(){return Ze||(Ze=new e(new ze(He),null,at.Default))},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!1},e.prototype.getPriority=function(){return this.priorityNode_||Ze},e.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)},e.prototype.getImmediateChild=function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?Ze:t},e.prototype.getChild=function(e){var t=ge(e);return null===t?this:this.getImmediateChild(t).getChild(ye(e))},e.prototype.hasChild=function(e){return null!==this.children_.get(e)},e.prototype.updateImmediateChild=function(t,n){if((0,o.assert)(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r=new Me(t,n),i=void 0,a=void 0;n.isEmpty()?(i=this.children_.remove(t),a=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),a=this.indexMap_.addToIndexes(r,this.children_));var s=i.isEmpty()?Ze:this.priorityNode_;return new e(i,s,a)},e.prototype.updateChild=function(e,t){var n=ge(e);if(null===n)return t;(0,o.assert)(".priority"!==ge(e)||1===me(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(ye(e),t);return this.updateImmediateChild(n,r)},e.prototype.isEmpty=function(){return this.children_.isEmpty()},e.prototype.numChildren=function(){return this.children_.count()},e.prototype.val=function(t){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(tt,(function(a,s){n[a]=s.val(t),r++,o&&e.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1})),!t&&o&&i<2*r){var a=[];for(var s in n)a[s]=n[s];return a}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+$e(this.getPriority().val())+":"),this.forEachChild(tt,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":m(e)}return this.lazyHash_},e.prototype.getPredecessorChildName=function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Me(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)},e.prototype.getFirstChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()},e.prototype.getFirstChild=function(e){var t=this.getFirstChildName(e);return t?new Me(t,this.children_.get(t)):null},e.prototype.getLastChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()},e.prototype.getLastChild=function(e){var t=this.getLastChildName(e);return t?new Me(t,this.children_.get(t)):null},e.prototype.forEachChild=function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)},e.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},e.prototype.getIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,Me.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r},e.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},e.prototype.getReverseIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,Me.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r},e.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===ut?-1:0},e.prototype.withIndex=function(t){if(t===Ue||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)},e.prototype.isIndexed=function(e){return e===Ue||this.indexMap_.hasIndex(e)},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(tt),r=t.getIterator(tt),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},e.prototype.resolveIndex_=function(e){return e===Ue?null:this.indexMap_.get(e.toString())},e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e}(),ut=new(function(e){function t(){return e.call(this,new ze(He),st.EMPTY_NODE,at.Default)||this}return(0,a.__extends)(t,e),t.prototype.compareTo=function(e){return e===this?0:1},t.prototype.equals=function(e){return e===this},t.prototype.getPriority=function(){return this},t.prototype.getImmediateChild=function(e){return st.EMPTY_NODE},t.prototype.isEmpty=function(){return!1},t}(st));Object.defineProperties(Me,{MIN:{value:new Me(I,st.EMPTY_NODE)},MAX:{value:new Me(P,ut)}}),Fe.__EMPTY_NODE=st.EMPTY_NODE,Xe.__childrenNodeConstructor=st,De=ut,function(e){Ye=e}(ut);function ct(e,t){if(void 0===t&&(t=null),null===e)return st.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),(0,o.assert)(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e)return new Xe(e,ct(t));if(e instanceof Array){var n=st.EMPTY_NODE;return j(e,(function(t,r){if((0,o.contains)(e,t)&&"."!==t.substring(0,1)){var i=ct(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(t,i))}})),n.updatePriority(ct(t))}var r=[],i=!1;if(j(e,(function(e,t){if("."!==e.substring(0,1)){var n=ct(t);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new Me(e,n)))}})),0===r.length)return st.EMPTY_NODE;var a=it(r,We,(function(e){return e.name}),He);if(i){var s=it(r,tt.getCompare());return new st(a,ct(t),new at({".priority":s},{".priority":tt}))}return new st(a,ct(t),at.Default)}!function(e){Ge=e}(ct);var lt=function(e){function t(t){var n=e.call(this)||this;return n.indexPath_=t,(0,o.assert)(!Se(t)&&".priority"!==ge(t),"Can't create PathIndex with empty path or .priority key"),n}return(0,a.__extends)(t,e),t.prototype.extractChild=function(e){return e.getChild(this.indexPath_)},t.prototype.isDefinedOn=function(e){return!e.getChild(this.indexPath_).isEmpty()},t.prototype.compare=function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?O(e.name,t.name):i},t.prototype.makePost=function(e,t){var n=ct(e),r=st.EMPTY_NODE.updateChild(this.indexPath_,n);return new Me(t,r)},t.prototype.maxPost=function(){var e=st.EMPTY_NODE.updateChild(this.indexPath_,ut);return new Me(P,e)},t.prototype.toString=function(){return we(this.indexPath_,0).join("/")},t}(Le),ft=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.__extends)(t,e),t.prototype.compare=function(e,t){var n=e.node.compareTo(t.node);return 0===n?O(e.name,t.name):n},t.prototype.isDefinedOn=function(e){return!0},t.prototype.indexedValueChanged=function(e,t){return!e.equals(t)},t.prototype.minPost=function(){return Me.MIN},t.prototype.maxPost=function(){return Me.MAX},t.prototype.makePost=function(e,t){var n=ct(e);return new Me(t,n)},t.prototype.toString=function(){return".value"},t}(Le),ht=new ft,dt="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",pt=function(){var e=0,t=[];return function(n){var r,i=n===e;e=n;var a=new Array(8);for(r=7;r>=0;r--)a[r]=dt.charAt(n%64),n=Math.floor(n/64);(0,o.assert)(0===n,"Cannot push at time == 0");var s=a.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)s+=dt.charAt(t[r]);return(0,o.assert)(20===s.length,"nextPushId: Length should be 20."),s}}(),vt=function(e){if("2147483647"===e)return"-";var t=B(e);if(null!=t)return""+(t+1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;i>=0&&"z"===n[i];)i--;if(-1===i)return P;var o=n[i],a=dt.charAt(dt.indexOf(o)+1);return n[i]=a,n.slice(0,i+1).join("")},gt=function(e){if("-2147483648"===e)return I;var t=B(e);if(null!=t)return""+(t-1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=dt.charAt(dt.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))};function mt(e){return{type:"value",snapshotNode:e}}function yt(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function bt(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function wt(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var _t=function(){function e(e){this.index_=e}return e.prototype.updateChild=function(e,t,n,r,i,a){(0,o.assert)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var s=e.getImmediateChild(t);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?e:(null!=a&&(n.isEmpty()?e.hasChild(t)?a.trackChildChange(bt(t,s)):(0,o.assert)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?a.trackChildChange(yt(t,n)):a.trackChildChange(wt(t,n,s))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))},e.prototype.updateFullNode=function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(tt,(function(e,r){t.hasChild(e)||n.trackChildChange(bt(e,r))})),t.isLeafNode()||t.forEachChild(tt,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(wt(t,r,i))}else n.trackChildChange(yt(t,r))}))),t.withIndex(this.index_)},e.prototype.updatePriority=function(e,t){return e.isEmpty()?st.EMPTY_NODE:e.updatePriority(t)},e.prototype.filtersNodes=function(){return!1},e.prototype.getIndexedFilter=function(){return this},e.prototype.getIndex=function(){return this.index_},e}(),xt=function(){function e(t){this.indexedFilter_=new _t(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return e.prototype.getStartPost=function(){return this.startPost_},e.prototype.getEndPost=function(){return this.endPost_},e.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},e.prototype.updateChild=function(e,t,n,r,i,o){return this.matches(new Me(t,n))||(n=st.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)},e.prototype.updateFullNode=function(e,t,n){t.isLeafNode()&&(t=st.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(st.EMPTY_NODE);var i=this;return t.forEachChild(tt,(function(e,t){i.matches(new Me(e,t))||(r=r.updateImmediateChild(e,st.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.indexedFilter_},e.prototype.getIndex=function(){return this.index_},e.getStartPost_=function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()},e.getEndPost_=function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()},e}(),St=function(){function e(e){this.rangedFilter_=new xt(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}return e.prototype.updateChild=function(e,t,n,r,i,o){return this.rangedFilter_.matches(new Me(t,n))||(n=st.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)},e.prototype.updateFullNode=function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=st.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){r=st.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),o++}}else{r=(r=t.withIndex(this.index_)).updatePriority(st.EMPTY_NODE);var s=void 0,u=void 0,c=void 0;i=void 0;if(this.reverse_){i=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();c=function(e,t){return l(t,e)}}else i=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();o=0;for(var f=!1;i.hasNext();){a=i.getNext();!f&&c(s,a)<=0&&(f=!0),f&&o<this.limit_&&c(a,u)<=0?o++:r=r.updateImmediateChild(a.name,st.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},e.prototype.getIndex=function(){return this.index_},e.prototype.fullLimitUpdateChild_=function(e,t,n,r,i){var a;if(this.reverse_){var s=this.index_.getCompare();a=function(e,t){return s(t,e)}}else a=this.index_.getCompare();var u=e;(0,o.assert)(u.numChildren()===this.limit_,"");var c=new Me(t,n),l=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),f=this.rangedFilter_.matches(c);if(u.hasChild(t)){for(var h=u.getImmediateChild(t),d=r.getChildAfterChild(this.index_,l,this.reverse_);null!=d&&(d.name===t||u.hasChild(d.name));)d=r.getChildAfterChild(this.index_,d,this.reverse_);var p=null==d?1:a(d,c);if(f&&!n.isEmpty()&&p>=0)return null!=i&&i.trackChildChange(wt(t,n,h)),u.updateImmediateChild(t,n);null!=i&&i.trackChildChange(bt(t,h));var v=u.updateImmediateChild(t,st.EMPTY_NODE);return null!=d&&this.rangedFilter_.matches(d)?(null!=i&&i.trackChildChange(yt(d.name,d.node)),v.updateImmediateChild(d.name,d.node)):v}return n.isEmpty()?e:f&&a(l,c)>=0?(null!=i&&(i.trackChildChange(bt(l.name,l.node)),i.trackChildChange(yt(t,n))),u.updateImmediateChild(t,n).updateImmediateChild(l.name,st.EMPTY_NODE)):e},e}(),Et=function(){function e(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=tt}return e.prototype.hasStart=function(){return this.startSet_},e.prototype.hasStartAfter=function(){return this.startAfterSet_},e.prototype.hasEndBefore=function(){return this.endBeforeSet_},e.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},e.prototype.getIndexStartValue=function(){return(0,o.assert)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},e.prototype.getIndexStartName=function(){return(0,o.assert)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:I},e.prototype.hasEnd=function(){return this.endSet_},e.prototype.getIndexEndValue=function(){return(0,o.assert)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},e.prototype.getIndexEndName=function(){return(0,o.assert)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:P},e.prototype.hasLimit=function(){return this.limitSet_},e.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},e.prototype.getLimit=function(){return(0,o.assert)(this.limitSet_,"Only valid if limit has been set"),this.limit_},e.prototype.getIndex=function(){return this.index_},e.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},e.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===tt},e.prototype.copy=function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},e}();function kt(e,t,n){var r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function Tt(e,t,n){var r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function Ct(e,t){var n=e.copy();return n.index_=t,n}function It(e){var t,n={};return e.isDefault()||(e.index_===tt?t="$priority":e.index_===ht?t="$value":e.index_===Ue?t="$key":((0,o.assert)(e.index_ instanceof lt,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=(0,o.stringify)(t),e.startSet_&&(n.startAt=(0,o.stringify)(e.indexStartValue_),e.startNameSet_&&(n.startAt+=","+(0,o.stringify)(e.indexStartName_))),e.endSet_&&(n.endAt=(0,o.stringify)(e.indexEndValue_),e.endNameSet_&&(n.endAt+=","+(0,o.stringify)(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_)),n}function Pt(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==tt&&(t.i=e.index_.toString()),t}var Ot=function(e){function t(t,n,r,i){var o=e.call(this)||this;return o.repoInfo_=t,o.onDataUpdate_=n,o.authTokenProvider_=r,o.appCheckTokenProvider_=i,o.log_=S("p:rest:"),o.listens_={},o}return(0,a.__extends)(t,e),t.prototype.reportStats=function(e){throw new Error("Method not implemented.")},t.getListenId_=function(e,t){return void 0!==t?"tag$"+t:((0,o.assert)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())},t.prototype.listen=function(e,n,r,i){var a=this,s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);var u=t.getListenId_(e,r),c={};this.listens_[u]=c;var l=It(e._queryParams);this.restRequest_(s+".json",l,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(s,n,!1,r),(0,o.safeGet)(a.listens_,u)===c)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))},t.prototype.unlisten=function(e,n){var r=t.getListenId_(e,n);delete this.listens_[r]},t.prototype.get=function(e){var t=this,n=It(e._queryParams),r=e._path.toString(),i=new o.Deferred;return this.restRequest_(r+".json",n,(function(e,n){var o=n;404===e&&(o=null,e=null),null===e?(t.onDataUpdate_(r,o,!1,null),i.resolve(o)):i.reject(new Error(o))})),i.promise},t.prototype.refreshAuthToken=function(e){},t.prototype.restRequest_=function(e,t,n){var r=this;return void 0===t&&(t={}),t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var s=(0,a.__read)(i,2),u=s[0],c=s[1];u&&u.accessToken&&(t.auth=u.accessToken),c&&c.token&&(t.ac=c.token);var l=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+e+"?ns="+r.repoInfo_.namespace+(0,o.querystring)(t);r.log_("Sending REST request for "+l);var f=new XMLHttpRequest;f.onreadystatechange=function(){if(n&&4===f.readyState){r.log_("REST Response for "+l+" received. status:",f.status,"response:",f.responseText);var e=null;if(f.status>=200&&f.status<300){try{e=(0,o.jsonEval)(f.responseText)}catch(t){T("Failed to parse JSON response for "+l+": "+f.responseText)}n(null,e)}else 401!==f.status&&404!==f.status&&T("Got unsuccessful REST response for "+l+" Status: "+f.status),n(f.status);n=null}},f.open("GET",l,!0),f.send()}))},t}(fe),At=function(){function e(){this.rootNode_=st.EMPTY_NODE}return e.prototype.getNode=function(e){return this.rootNode_.getChild(e)},e.prototype.updateSnapshot=function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)},e}();function Dt(){return{value:null,children:new Map}}function Nt(e,t,n){if(Se(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=ge(t);e.children.has(r)||e.children.set(r,Dt()),Nt(e.children.get(r),t=ye(t),n)}}function Rt(e,t){if(Se(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;var n=e.value;return e.value=null,n.forEachChild(tt,(function(t,n){Nt(e,new pe(t),n)})),Rt(e,t)}if(e.children.size>0){var r=ge(t);if(t=ye(t),e.children.has(r))Rt(e.children.get(r),t)&&e.children.delete(r);return 0===e.children.size}return!0}function jt(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){jt(r,new pe(t.toString()+"/"+e),n)}))}var Mt,Lt=function(){function e(e){this.collection_=e,this.last_=null}return e.prototype.get=function(){var e=this.collection_.get(),t=(0,a.__assign)({},e);return this.last_&&j(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t},e}(),Ft=function(){function e(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Lt(e);var n=1e4+2e4*Math.random();V(this.reportStats_.bind(this),Math.floor(n))}return e.prototype.reportStats_=function(){var e=this,t=this.statsListener_.get(),n={},r=!1;j(t,(function(t,i){i>0&&(0,o.contains)(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),V(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},e}();function Ut(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Mt||(Mt={}));var Bt,qt=function(){function e(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=Mt.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return e.prototype.operationForChild=function(t){if(Se(this.path)){if(null!=this.affectedTree.value)return(0,o.assert)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new pe(t));return new e(ve(),n,this.revert)}return(0,o.assert)(ge(this.path)===t,"operationForChild called for unrelated child."),new e(ye(this.path),this.affectedTree,this.revert)},e}(),Vt=function(){function e(e,t){this.source=e,this.path=t,this.type=Mt.LISTEN_COMPLETE}return e.prototype.operationForChild=function(t){return Se(this.path)?new e(this.source,ve()):new e(this.source,ye(this.path))},e}(),zt=function(){function e(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=Mt.OVERWRITE}return e.prototype.operationForChild=function(t){return Se(this.path)?new e(this.source,ve(),this.snap.getImmediateChild(t)):new e(this.source,ye(this.path),this.snap)},e}(),Wt=function(){function e(e,t,n){this.source=e,this.path=t,this.children=n,this.type=Mt.MERGE}return e.prototype.operationForChild=function(t){if(Se(this.path)){var n=this.children.subtree(new pe(t));return n.isEmpty()?null:n.value?new zt(this.source,ve(),n.value):new e(this.source,ve(),n)}return(0,o.assert)(ge(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,ye(this.path),this.children)},e.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},e}(),Ht=function(){function e(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}return e.prototype.isFullyInitialized=function(){return this.fullyInitialized_},e.prototype.isFiltered=function(){return this.filtered_},e.prototype.isCompleteForPath=function(e){if(Se(e))return this.isFullyInitialized()&&!this.filtered_;var t=ge(e);return this.isCompleteForChild(t)},e.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},e.prototype.getNode=function(){return this.node_},e}(),Kt=function(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()};function Gt(e,t,n,r,i,a){var s=r.filter((function(e){return e.type===n}));s.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw(0,o.assertionError)("Should only compare child_ events.");var r=new Me(t.childName,t.snapshotNode),i=new Me(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)})),s.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function Yt(e,t){return{eventCache:e,serverCache:t}}function $t(e,t,n,r){return Yt(new Ht(t,n,r),e.serverCache)}function Qt(e,t,n,r){return Yt(e.eventCache,new Ht(t,n,r))}function Xt(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Jt(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var Zt=function(){function e(e,t){void 0===t&&(Bt||(Bt=new ze(A)),t=Bt),this.value=e,this.children=t}return e.fromObject=function(t){var n=new e(null);return j(t,(function(e,t){n=n.set(new pe(e),t)})),n},e.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},e.prototype.findRootMostMatchingPathAndValue=function(e,t){if(null!=this.value&&t(this.value))return{path:ve(),value:this.value};if(Se(e))return null;var n=ge(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(ye(e),t);return null!=i?{path:xe(new pe(n),i.path),value:i.value}:null}return null},e.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))},e.prototype.subtree=function(t){if(Se(t))return this;var n=ge(t),r=this.children.get(n);return null!==r?r.subtree(ye(t)):new e(null)},e.prototype.set=function(t,n){if(Se(t))return new e(n,this.children);var r=ge(t),i=(this.children.get(r)||new e(null)).set(ye(t),n),o=this.children.insert(r,i);return new e(this.value,o)},e.prototype.remove=function(t){if(Se(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=ge(t),r=this.children.get(n);if(r){var i=r.remove(ye(t)),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new e(null):new e(this.value,o)}return this},e.prototype.get=function(e){if(Se(e))return this.value;var t=ge(e),n=this.children.get(t);return n?n.get(ye(e)):null},e.prototype.setTree=function(t,n){if(Se(t))return n;var r=ge(t),i=(this.children.get(r)||new e(null)).setTree(ye(t),n),o=void 0;return o=i.isEmpty()?this.children.remove(r):this.children.insert(r,i),new e(this.value,o)},e.prototype.fold=function(e){return this.fold_(ve(),e)},e.prototype.fold_=function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(xe(e,r),t)})),t(e,this.value,n)},e.prototype.findOnPath=function(e,t){return this.findOnPath_(e,ve(),t)},e.prototype.findOnPath_=function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(Se(e))return null;var i=ge(e),o=this.children.get(i);return o?o.findOnPath_(ye(e),xe(t,i),n):null},e.prototype.foreachOnPath=function(e,t){return this.foreachOnPath_(e,ve(),t)},e.prototype.foreachOnPath_=function(t,n,r){if(Se(t))return this;this.value&&r(n,this.value);var i=ge(t),o=this.children.get(i);return o?o.foreachOnPath_(ye(t),xe(n,i),r):new e(null)},e.prototype.foreach=function(e){this.foreach_(ve(),e)},e.prototype.foreach_=function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(xe(e,n),t)})),this.value&&t(e,this.value)},e.prototype.foreachChild=function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))},e}(),en=function(){function e(e){this.writeTree_=e}return e.empty=function(){return new e(new Zt(null))},e}();function tn(e,t,n){if(Se(t))return new en(new Zt(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,o=r.value,a=Ee(i,t);return o=o.updateChild(a,n),new en(e.writeTree_.set(i,o))}var s=new Zt(n),u=e.writeTree_.setTree(t,s);return new en(u)}function nn(e,t,n){var r=e;return j(n,(function(e,n){r=tn(r,xe(t,e),n)})),r}function rn(e,t){if(Se(t))return en.empty();var n=e.writeTree_.setTree(t,new Zt(null));return new en(n)}function on(e,t){return null!=an(e,t)}function an(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Ee(n.path,t)):null}function sn(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(tt,(function(e,n){t.push(new Me(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new Me(e,n.value))})),t}function un(e,t){if(Se(t))return e;var n=an(e,t);return new en(null!=n?new Zt(n):e.writeTree_.subtree(t))}function cn(e){return e.writeTree_.isEmpty()}function ln(e,t){return fn(ve(),e.writeTree_,t)}function fn(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?((0,o.assert)(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=fn(xe(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(xe(e,".priority"),r)),n}function hn(e,t){return kn(t,e)}function dn(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));(0,o.assert)(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,a=!1,s=e.allWrites.length-1;i&&s>=0;){var u=e.allWrites[s];u.visible&&(s>=n&&pn(u,r.path)?i=!1:Ce(r.path,u.path)&&(a=!0)),s--}if(i){if(a)return function(e){e.visibleWrites=gn(e.allWrites,vn,ve()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=rn(e.visibleWrites,r.path):j(r.children,(function(t){e.visibleWrites=rn(e.visibleWrites,xe(r.path,t))}));return!0}return!1}function pn(e,t){if(e.snap)return Ce(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&Ce(xe(e.path,n),t))return!0;return!1}function vn(e){return e.visible}function gn(e,t,n){for(var r=en.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var s=a.path,u=void 0;if(a.snap)Ce(n,s)?r=tn(r,u=Ee(n,s),a.snap):Ce(s,n)&&(u=Ee(s,n),r=tn(r,ve(),a.snap.getChild(u)));else{if(!a.children)throw(0,o.assertionError)("WriteRecord should have .snap or .children");if(Ce(n,s))r=nn(r,u=Ee(n,s),a.children);else if(Ce(s,n))if(Se(u=Ee(s,n)))r=nn(r,ve(),a.children);else{var c=(0,o.safeGet)(a.children,ge(u));if(c){var l=c.getChild(ye(u));r=tn(r,ve(),l)}}}}}return r}function mn(e,t,n,r,i){if(r||i){var o=un(e.visibleWrites,t);if(!i&&cn(o))return n;if(i||null!=n||on(o,ve())){return ln(gn(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(Ce(e.path,t)||Ce(t,e.path))}),t),n||st.EMPTY_NODE)}return null}var a=an(e.visibleWrites,t);if(null!=a)return a;var s=un(e.visibleWrites,t);return cn(s)?n:null!=n||on(s,ve())?ln(s,n||st.EMPTY_NODE):null}function yn(e,t,n,r){return mn(e.writeTree,e.treePath,t,n,r)}function bn(e,t){return function(e,t,n){var r=st.EMPTY_NODE,i=an(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(tt,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var o=un(e.visibleWrites,t);return n.forEachChild(tt,(function(e,t){var n=ln(un(o,new pe(e)),t);r=r.updateImmediateChild(e,n)})),sn(o).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return sn(un(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function wn(e,t,n,r){return function(e,t,n,r,i){(0,o.assert)(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=xe(t,n);if(on(e.visibleWrites,a))return null;var s=un(e.visibleWrites,a);return cn(s)?i.getChild(n):ln(s,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function _n(e,t){return function(e,t){return an(e.visibleWrites,t)}(e.writeTree,xe(e.treePath,t))}function xn(e,t,n,r,i,o){return function(e,t,n,r,i,o,a){var s,u=un(e.visibleWrites,t),c=an(u,ve());if(null!=c)s=c;else{if(null==n)return[];s=ln(u,n)}if((s=s.withIndex(a)).isEmpty()||s.isLeafNode())return[];for(var l=[],f=a.getCompare(),h=o?s.getReverseIteratorFrom(r,a):s.getIteratorFrom(r,a),d=h.getNext();d&&l.length<i;)0!==f(d,r)&&l.push(d),d=h.getNext();return l}(e.writeTree,e.treePath,t,n,r,i,o)}function Sn(e,t,n){return function(e,t,n,r){var i=xe(t,n),o=an(e.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?ln(un(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function En(e,t){return kn(xe(e.treePath,t),e.writeTree)}function kn(e,t){return{treePath:e,writeTree:t}}var Tn=function(){function e(){this.changeMap=new Map}return e.prototype.trackChildChange=function(e){var t=e.type,n=e.childName;(0,o.assert)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,o.assert)(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,wt(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,bt(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,yt(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw(0,o.assertionError)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,wt(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)},e.prototype.getChanges=function(){return Array.from(this.changeMap.values())},e}(),Cn=new(function(){function e(){}return e.prototype.getCompleteChild=function(e){return null},e.prototype.getChildAfterChild=function(e,t,n){return null},e}()),In=function(){function e(e,t,n){void 0===n&&(n=null),this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}return e.prototype.getCompleteChild=function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new Ht(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Sn(this.writes_,e,n)},e.prototype.getChildAfterChild=function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Jt(this.viewCache_),i=xn(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]},e}();function Pn(e,t,n,r,i){var a,s,u=new Tn;if(n.type===Mt.OVERWRITE){var c=n;c.source.fromUser?a=Dn(e,t,c.path,c.snap,r,i,u):((0,o.assert)(c.source.fromServer,"Unknown source."),s=c.source.tagged||t.serverCache.isFiltered()&&!Se(c.path),a=An(e,t,c.path,c.snap,r,i,s,u))}else if(n.type===Mt.MERGE){var l=n;l.source.fromUser?a=function(e,t,n,r,i,o,a){var s=t;return r.foreach((function(r,u){var c=xe(n,r);Nn(t,ge(c))&&(s=Dn(e,s,c,u,i,o,a))})),r.foreach((function(r,u){var c=xe(n,r);Nn(t,ge(c))||(s=Dn(e,s,c,u,i,o,a))})),s}(e,t,l.path,l.children,r,i,u):((0,o.assert)(l.source.fromServer,"Unknown source."),s=l.source.tagged||t.serverCache.isFiltered(),a=jn(e,t,l.path,l.children,r,i,s,u))}else if(n.type===Mt.ACK_USER_WRITE){var f=n;a=f.revert?function(e,t,n,r,i,a){var s;if(null!=_n(r,n))return t;var u=new In(r,t,i),c=t.eventCache.getNode(),l=void 0;if(Se(n)||".priority"===ge(n)){var f=void 0;if(t.serverCache.isFullyInitialized())f=yn(r,Jt(t));else{var h=t.serverCache.getNode();(0,o.assert)(h instanceof st,"serverChildren would be complete if leaf node"),f=bn(r,h)}l=e.filter.updateFullNode(c,f,a)}else{var d=ge(n),p=Sn(r,d,t.serverCache);null==p&&t.serverCache.isCompleteForChild(d)&&(p=c.getImmediateChild(d)),(l=null!=p?e.filter.updateChild(c,d,p,ye(n),u,a):t.eventCache.getNode().hasChild(d)?e.filter.updateChild(c,d,st.EMPTY_NODE,ye(n),u,a):c).isEmpty()&&t.serverCache.isFullyInitialized()&&(s=yn(r,Jt(t))).isLeafNode()&&(l=e.filter.updateFullNode(l,s,a))}return s=t.serverCache.isFullyInitialized()||null!=_n(r,ve()),$t(t,l,s,e.filter.filtersNodes())}(e,t,f.path,r,i,u):function(e,t,n,r,i,o,a){if(null!=_n(i,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(Se(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return An(e,t,n,u.getNode().getChild(n),i,o,s,a);if(Se(n)){var c=new Zt(null);return u.getNode().forEachChild(Ue,(function(e,t){c=c.set(new pe(e),t)})),jn(e,t,n,c,i,o,s,a)}return t}var l=new Zt(null);return r.foreach((function(e,t){var r=xe(n,e);u.isCompleteForPath(r)&&(l=l.set(e,u.getNode().getChild(r)))})),jn(e,t,n,l,i,o,s,a)}(e,t,f.path,f.affectedTree,r,i,u)}else{if(n.type!==Mt.LISTEN_COMPLETE)throw(0,o.assertionError)("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var o=t.serverCache,a=Qt(t,o.getNode(),o.isFullyInitialized()||Se(n),o.isFiltered());return On(e,a,n,r,Cn,i)}(e,t,n.path,r,u)}var h=u.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Xt(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(mt(Xt(t)))}}(t,a,h),{viewCache:a,changes:h}}function On(e,t,n,r,i,a){var s=t.eventCache;if(null!=_n(r,n))return t;var u=void 0,c=void 0;if(Se(n))if((0,o.assert)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var l=Jt(t),f=bn(r,l instanceof st?l:st.EMPTY_NODE);u=e.filter.updateFullNode(t.eventCache.getNode(),f,a)}else{var h=yn(r,Jt(t));u=e.filter.updateFullNode(t.eventCache.getNode(),h,a)}else{var d=ge(n);if(".priority"===d){(0,o.assert)(1===me(n),"Can't have a priority with additional path components");var p=s.getNode(),v=wn(r,n,p,c=t.serverCache.getNode());u=null!=v?e.filter.updatePriority(p,v):s.getNode()}else{var g=ye(n),m=void 0;if(s.isCompleteForChild(d)){c=t.serverCache.getNode();var y=wn(r,n,s.getNode(),c);m=null!=y?s.getNode().getImmediateChild(d).updateChild(g,y):s.getNode().getImmediateChild(d)}else m=Sn(r,d,t.serverCache);u=null!=m?e.filter.updateChild(s.getNode(),d,m,g,i,a):s.getNode()}}return $t(t,u,s.isFullyInitialized()||Se(n),e.filter.filtersNodes())}function An(e,t,n,r,i,o,a,s){var u,c=t.serverCache,l=a?e.filter:e.filter.getIndexedFilter();if(Se(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var f=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),f,null)}else{var h=ge(n);if(!c.isCompleteForPath(n)&&me(n)>1)return t;var d=ye(n),p=c.getNode().getImmediateChild(h).updateChild(d,r);u=".priority"===h?l.updatePriority(c.getNode(),p):l.updateChild(c.getNode(),h,p,d,Cn,null)}var v=Qt(t,u,c.isFullyInitialized()||Se(n),l.filtersNodes());return On(e,v,n,i,new In(i,v,o),s)}function Dn(e,t,n,r,i,o,a){var s,u,c=t.eventCache,l=new In(i,t,o);if(Se(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,a),s=$t(t,u,!0,e.filter.filtersNodes());else{var f=ge(n);if(".priority"===f)u=e.filter.updatePriority(t.eventCache.getNode(),r),s=$t(t,u,c.isFullyInitialized(),c.isFiltered());else{var h=ye(n),d=c.getNode().getImmediateChild(f),p=void 0;if(Se(h))p=r;else{var v=l.getCompleteChild(f);p=null!=v?".priority"===be(h)&&v.getChild(_e(h)).isEmpty()?v:v.updateChild(h,r):st.EMPTY_NODE}if(d.equals(p))s=t;else s=$t(t,e.filter.updateChild(c.getNode(),f,p,h,l,a),c.isFullyInitialized(),e.filter.filtersNodes())}}return s}function Nn(e,t){return e.eventCache.isCompleteForChild(t)}function Rn(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function jn(e,t,n,r,i,o,a,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,c=t;u=Se(n)?r:new Zt(null).setTree(n,r);var l=t.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(l.hasChild(n)){var u=Rn(0,t.serverCache.getNode().getImmediateChild(n),r);c=An(e,c,new pe(n),u,i,o,a,s)}})),u.children.inorderTraversal((function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!l.hasChild(n)&&!u){var f=Rn(0,t.serverCache.getNode().getImmediateChild(n),r);c=An(e,c,new pe(n),f,i,o,a,s)}})),c}var Mn,Ln=function(){function e(e,t){this.query_=e,this.eventRegistrations_=[];var n,r=this.query_._queryParams,i=new _t(r.getIndex()),o=(n=r).loadsAllData()?new _t(n.getIndex()):n.hasLimit()?new St(n):new xt(n);this.processor_=function(e){return{filter:e}}(o);var a=t.serverCache,s=t.eventCache,u=i.updateFullNode(st.EMPTY_NODE,a.getNode(),null),c=o.updateFullNode(st.EMPTY_NODE,s.getNode(),null),l=new Ht(u,a.isFullyInitialized(),i.filtersNodes()),f=new Ht(c,s.isFullyInitialized(),o.filtersNodes());this.viewCache_=Yt(f,l),this.eventGenerator_=new Kt(this.query_)}return Object.defineProperty(e.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),e}();function Fn(e,t){var n=Jt(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Se(t)&&!n.getImmediateChild(ge(t)).isEmpty())?n.getChild(t):null}function Un(e){return 0===e.eventRegistrations_.length}function Bn(e,t,n){var r=[];if(n){(0,o.assert)(null==t,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach((function(e){var t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){for(var a=[],s=0;s<e.eventRegistrations_.length;++s){var u=e.eventRegistrations_[s];if(u.matches(t)){if(t.hasAnyCallback()){a=a.concat(e.eventRegistrations_.slice(s+1));break}}else a.push(u)}e.eventRegistrations_=a}else e.eventRegistrations_=[];return r}function qn(e,t,n,r){t.type===Mt.MERGE&&null!==t.source.queryId&&((0,o.assert)(Jt(e.viewCache_),"We should always have a full cache before handling merges"),(0,o.assert)(Xt(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,s=e.viewCache_,u=Pn(e.processor_,s,t,n,r);return i=e.processor_,a=u.viewCache,(0,o.assert)(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),(0,o.assert)(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),(0,o.assert)(u.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=u.viewCache,Vn(e,u.changes,u.viewCache.eventCache.getNode(),null)}function Vn(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],o=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),Gt(e,i,"child_removed",t,r,n),Gt(e,i,"child_added",t,r,n),Gt(e,i,"child_moved",o,r,n),Gt(e,i,"child_changed",t,r,n),Gt(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var zn,Wn=function(){this.views=new Map};function Hn(e,t,n,r){var i,s,u=t.source.queryId;if(null!==u){var c=e.views.get(u);return(0,o.assert)(null!=c,"SyncTree gave us an op for an invalid query."),qn(c,t,n,r)}var l=[];try{for(var f=(0,a.__values)(e.views.values()),h=f.next();!h.done;h=f.next()){c=h.value;l=l.concat(qn(c,t,n,r))}}catch(d){i={error:d}}finally{try{h&&!h.done&&(s=f.return)&&s.call(f)}finally{if(i)throw i.error}}return l}function Kn(e,t,n,r,i){var o=t._queryIdentifier,a=e.views.get(o);if(!a){var s=yn(n,i?r:null),u=!1;s?u=!0:r instanceof st?(s=bn(n,r),u=!1):(s=st.EMPTY_NODE,u=!1);var c=Yt(new Ht(s,u,!1),new Ht(r,i,!1));return new Ln(t,c)}return a}function Gn(e,t,n,r,i,o){var a=Kn(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,a),function(e,t){e.eventRegistrations_.push(t)}(a,n),function(e,t){var n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(tt,(function(e,t){r.push(yt(e,t))})),n.isFullyInitialized()&&r.push(mt(n.getNode())),Vn(e,r,n.getNode(),t)}(a,n)}function Yn(e,t,n,r){var i,s,u=t._queryIdentifier,c=[],l=[],f=Zn(e);if("default"===u)try{for(var h=(0,a.__values)(e.views.entries()),d=h.next();!d.done;d=h.next()){var p=(0,a.__read)(d.value,2),v=p[0],g=p[1];l=l.concat(Bn(g,n,r)),Un(g)&&(e.views.delete(v),g.query._queryParams.loadsAllData()||c.push(g.query))}}catch(m){i={error:m}}finally{try{d&&!d.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}else(g=e.views.get(u))&&(l=l.concat(Bn(g,n,r)),Un(g)&&(e.views.delete(u),g.query._queryParams.loadsAllData()||c.push(g.query)));return f&&!Zn(e)&&c.push(new((0,o.assert)(Mn,"Reference.ts has not been loaded"),Mn)(t._repo,t._path)),{removed:c,events:l}}function $n(e){var t,n,r=[];try{for(var i=(0,a.__values)(e.views.values()),o=i.next();!o.done;o=i.next()){var s=o.value;s.query._queryParams.loadsAllData()||r.push(s)}}catch(u){t={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function Qn(e,t){var n,r,i=null;try{for(var o=(0,a.__values)(e.views.values()),s=o.next();!s.done;s=o.next()){var u=s.value;i=i||Fn(u,t)}}catch(c){n={error:c}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}function Xn(e,t){if(t._queryParams.loadsAllData())return er(e);var n=t._queryIdentifier;return e.views.get(n)}function Jn(e,t){return null!=Xn(e,t)}function Zn(e){return null!=er(e)}function er(e){var t,n;try{for(var r=(0,a.__values)(e.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;if(o.query._queryParams.loadsAllData())return o}}catch(s){t={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return null}var tr=1,nr=function(e){this.listenProvider_=e,this.syncPointTree_=new Zt(null),this.pendingWriteTree_={visibleWrites:en.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function rr(e,t,n,r,i){return function(e,t,n,r,i){(0,o.assert)(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=tn(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?fr(e,new zt({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function ir(e,t,n,r){!function(e,t,n,r){(0,o.assert)(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=nn(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);var i=Zt.fromObject(n);return fr(e,new Wt({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}function or(e,t,n){void 0===n&&(n=!1);var r=function(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(dn(e.pendingWriteTree_,t)){var i=new Zt(null);return null!=r.snap?i=i.set(ve(),!0):j(r.children,(function(e){i=i.set(new pe(e),!0)})),fr(e,new qt(r.path,i,n))}return[]}function ar(e,t,n){return fr(e,new zt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function sr(e,t,n,r){var i=t._path,o=e.syncPointTree_.get(i),a=[];if(o&&("default"===t._queryIdentifier||Jn(o,t))){var s=Yn(o,t,n,r);0===o.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(i));var u=s.removed;a=s.events;var c=-1!==u.findIndex((function(e){return e._queryParams.loadsAllData()})),l=e.syncPointTree_.findOnPath(i,(function(e,t){return Zn(t)}));if(c&&!l){var f=e.syncPointTree_.subtree(i);if(!f.isEmpty())for(var h=function(e){return e.fold((function(e,t,n){if(t&&Zn(t))return[er(t)];var r=[];return t&&(r=$n(t)),j(n,(function(e,t){r=r.concat(t)})),r}))}(f),d=0;d<h.length;++d){var p=h[d],v=p.query,g=pr(e,p);e.listenProvider_.startListening(wr(v),vr(e,v),g.hashFn,g.onComplete)}}if(!l&&u.length>0&&!r)if(c){e.listenProvider_.stopListening(wr(t),null)}else u.forEach((function(t){var n=e.queryToTagMap.get(gr(t));e.listenProvider_.stopListening(wr(t),n)}));!function(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=gr(r),o=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(o)}}}(e,u)}return a}function ur(e,t,n){var r=t._path,i=null,a=!1;e.syncPointTree_.foreachOnPath(r,(function(e,t){var n=Ee(e,r);i=i||Qn(t,n),a=a||Zn(t)}));var s,u=e.syncPointTree_.get(r);(u?(a=a||Zn(u),i=i||Qn(u,ve())):(u=new Wn,e.syncPointTree_=e.syncPointTree_.set(r,u)),null!=i)?s=!0:(s=!1,i=st.EMPTY_NODE,e.syncPointTree_.subtree(r).foreachChild((function(e,t){var n=Qn(t,ve());n&&(i=i.updateImmediateChild(e,n))})));var c=Jn(u,t);if(!c&&!t._queryParams.loadsAllData()){var l=gr(t);(0,o.assert)(!e.queryToTagMap.has(l),"View does not exist, but we have a tag");var f=tr++;e.queryToTagMap.set(l,f),e.tagToQueryMap.set(f,l)}var h=Gn(u,t,n,hn(e.pendingWriteTree_,r),i,s);if(!c&&!a){var d=Xn(u,t);h=h.concat(function(e,t,n){var r=t._path,i=vr(e,t),a=pr(e,n),s=e.listenProvider_.startListening(wr(t),i,a.hashFn,a.onComplete),u=e.syncPointTree_.subtree(r);if(i)(0,o.assert)(!Zn(u.value),"If we're adding a query, it shouldn't be shadowed");else for(var c=u.fold((function(e,t,n){if(!Se(e)&&t&&Zn(t))return[er(t).query];var r=[];return t&&(r=r.concat($n(t).map((function(e){return e.query})))),j(n,(function(e,t){r=r.concat(t)})),r})),l=0;l<c.length;++l){var f=c[l];e.listenProvider_.stopListening(wr(f),vr(e,f))}return s}(e,t,d))}return h}function cr(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=Qn(n,Ee(e,t));if(r)return r}));return mn(r,t,i,n,!0)}function lr(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,(function(e,t){var i=Ee(e,n);r=r||Qn(t,i)}));var i=e.syncPointTree_.get(n);i?r=r||Qn(i,ve()):(i=new Wn,e.syncPointTree_=e.syncPointTree_.set(n,i));var o=null!=r,a=o?new Ht(r,!0,!1):null;return function(e){return Xt(e.viewCache_)}(Kn(i,t,hn(e.pendingWriteTree_,t._path),o?a.getNode():st.EMPTY_NODE,o))}function fr(e,t){return hr(t,e.syncPointTree_,null,hn(e.pendingWriteTree_,ve()))}function hr(e,t,n,r){if(Se(e.path))return dr(e,t,n,r);var i=t.get(ve());null==n&&null!=i&&(n=Qn(i,ve()));var o=[],a=ge(e.path),s=e.operationForChild(a),u=t.children.get(a);if(u&&s){var c=n?n.getImmediateChild(a):null,l=En(r,a);o=o.concat(hr(s,u,c,l))}return i&&(o=o.concat(Hn(i,e,r,n))),o}function dr(e,t,n,r){var i=t.get(ve());null==n&&null!=i&&(n=Qn(i,ve()));var o=[];return t.children.inorderTraversal((function(t,i){var a=n?n.getImmediateChild(t):null,s=En(r,t),u=e.operationForChild(t);u&&(o=o.concat(dr(u,i,a,s)))})),i&&(o=o.concat(Hn(i,e,r,n))),o}function pr(e,t){var n=t.query,r=vr(e,n);return{hashFn:function(){var e=function(e){return e.viewCache_.serverCache.getNode()}(t)||st.EMPTY_NODE;return e.hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=mr(e,n);if(r){var i=yr(r),o=i.path,a=i.queryId,s=Ee(o,t);return br(e,o,new Vt(Ut(a),s))}return[]}(e,n._path,r):function(e,t){return fr(e,new Vt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return sr(e,n,null,i)}}}function vr(e,t){var n=gr(t);return e.queryToTagMap.get(n)}function gr(e){return e._path.toString()+"$"+e._queryIdentifier}function mr(e,t){return e.tagToQueryMap.get(t)}function yr(e){var t=e.indexOf("$");return(0,o.assert)(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new pe(e.substr(0,t))}}function br(e,t,n){var r=e.syncPointTree_.get(t);return(0,o.assert)(r,"Missing sync point for query tag that we're tracking"),Hn(r,n,hn(e.pendingWriteTree_,t),null)}function wr(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new((0,o.assert)(zn,"Reference.ts has not been loaded"),zn)(e._repo,e._path):e}var _r=function(){function e(e){this.node_=e}return e.prototype.getImmediateChild=function(t){return new e(this.node_.getImmediateChild(t))},e.prototype.node=function(){return this.node_},e}(),xr=function(){function e(e,t){this.syncTree_=e,this.path_=t}return e.prototype.getImmediateChild=function(t){var n=xe(this.path_,t);return new e(this.syncTree_,n)},e.prototype.node=function(){return cr(this.syncTree_,this.path_)},e}(),Sr=function(e,t,n){return e&&"object"===typeof e?((0,o.assert)(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?Er(e[".sv"],t,n):"object"===typeof e[".sv"]?kr(e[".sv"],t):void(0,o.assert)(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},Er=function(e,t,n){if("timestamp"===e)return n.timestamp;(0,o.assert)(!1,"Unexpected server value: "+e)},kr=function(e,t,n){e.hasOwnProperty("increment")||(0,o.assert)(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!==typeof r&&(0,o.assert)(!1,"Unexpected increment value: "+r);var i=t.node();if((0,o.assert)(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!==typeof a?r:a+r},Tr=function(e,t,n,r){return Ir(t,new xr(n,e),r)},Cr=function(e,t,n){return Ir(e,new _r(t),n)};function Ir(e,t,n){var r,i=e.getPriority().val(),o=Sr(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var a=e,s=Sr(a.getValue(),t,n);return s!==a.getValue()||o!==a.getPriority().val()?new Xe(s,ct(o)):e}var u=e;return r=u,o!==u.getPriority().val()&&(r=r.updatePriority(new Xe(o))),u.forEachChild(tt,(function(e,i){var o=Ir(i,t.getImmediateChild(e),n);o!==i&&(r=r.updateImmediateChild(e,o))})),r}var Pr=function(e,t,n){void 0===e&&(e=""),void 0===t&&(t=null),void 0===n&&(n={children:{},childCount:0}),this.name=e,this.parent=t,this.node=n};function Or(e,t){for(var n=t instanceof pe?t:new pe(t),r=e,i=ge(n);null!==i;){var a=(0,o.safeGet)(r.node.children,i)||{children:{},childCount:0};r=new Pr(i,r,a),i=ge(n=ye(n))}return r}function Ar(e){return e.node.value}function Dr(e,t){e.node.value=t,Lr(e)}function Nr(e){return e.node.childCount>0}function Rr(e,t){j(e.node.children,(function(n,r){t(new Pr(n,e,r))}))}function jr(e,t,n,r){n&&!r&&t(e),Rr(e,(function(e){jr(e,t,!0,r)})),n&&r&&t(e)}function Mr(e){return new pe(null===e.parent?e.name:Mr(e.parent)+"/"+e.name)}function Lr(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===Ar(e)&&!Nr(e)}(n),i=(0,o.contains)(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,Lr(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,Lr(e))}(e.parent,e.name,e)}var Fr=/[\[\].#$\/\u0000-\u001F\u007F]/,Ur=/[\[\].#$\u0000-\u001F\u007F]/,Br=10485760,qr=function(e){return"string"===typeof e&&0!==e.length&&!Fr.test(e)},Vr=function(e){return"string"===typeof e&&0!==e.length&&!Ur.test(e)},zr=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!C(e)||e&&"object"===typeof e&&(0,o.contains)(e,".sv")},Wr=function(e,t,n,r){r&&void 0===t||Hr((0,o.errorPrefix)(e,"value"),t,n)},Hr=function e(t,n,r){var i=r instanceof pe?new Ie(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+Oe(i));if("function"===typeof n)throw new Error(t+"contains a function "+Oe(i)+" with contents = "+n.toString());if(C(n))throw new Error(t+"contains "+n.toString()+" "+Oe(i));if("string"===typeof n&&n.length>Br/3&&(0,o.stringLength)(n)>Br)throw new Error(t+"contains a string greater than "+"10485760 utf8 bytes "+Oe(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var a=!1,s=!1;if(j(n,(function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(s=!0,!qr(n)))throw new Error(t+" contains an invalid key ("+n+") "+Oe(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=(0,o.stringLength)(t),Pe(e)}(i,n),e(t,r,i),function(e){var t=e.parts_.pop();e.byteLength_-=(0,o.stringLength)(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)})),a&&s)throw new Error(t+' contains ".value" child '+Oe(i)+" in addition to actual children.")}},Kr=function(e,t,n,r){if(!r||void 0!==t){var i=(0,o.errorPrefix)(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var a=[];j(t,(function(e,t){var r=new pe(e);if(Hr(i,t,xe(n,r)),".priority"===be(r)&&!zr(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(r)})),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var i=we(r=t[n]),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!qr(i[o]))throw new Error(e+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(ke);var a=null;for(n=0;n<t.length;n++){if(r=t[n],null!==a&&Ce(a,r))throw new Error(e+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}}(i,a)}},Gr=function(e,t,n){if(!n||void 0!==t){if(C(t))throw new Error((0,o.errorPrefix)(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!zr(t))throw new Error((0,o.errorPrefix)(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Yr=function(e,t,n){if(!n||void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,o.errorPrefix)(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},$r=function(e,t,n,r){if((!r||void 0!==n)&&!qr(n))throw new Error((0,o.errorPrefix)(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Qr=function(e,t,n,r){if((!r||void 0!==n)&&!Vr(n))throw new Error((0,o.errorPrefix)(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Xr=function(e,t){if(".info"===ge(t))throw new Error(e+" failed = Can't modify data under /.info/")},Jr=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!qr(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Vr(e)}(n))throw new Error((0,o.errorPrefix)(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Zr=function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!==typeof n)throw new Error((0,o.errorPrefix)(e,t)+"must be a boolean.")},ei=function(){this.eventLists_=[],this.recursionDepth_=0};function ti(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],o=i.getPath();null===n||Te(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function ni(e,t,n){ti(e,n),ii(e,(function(e){return Te(e,t)}))}function ri(e,t,n){ti(e,n),ii(e,(function(e){return Ce(e,t)||Ce(t,e)}))}function ii(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(oi(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function oi(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();b&&x("event: "+n.toString()),q(r)}}}var ai="repo_interrupt",si=function(){function e(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ei,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Dt(),this.transactionQueueTree_=new Pr,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},e}();function ui(e,t,n){if(e.stats_=te(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new Ot(e.repoInfo_,(function(t,n,r,i){fi(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return hi(e,!0)}),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,o.stringify)(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new je(e.repoInfo_,t,(function(t,n,r,i){fi(e,t,n,r,i)}),(function(t){hi(e,t)}),(function(t){!function(e,t){j(t,(function(t,n){di(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){var n=e.toString();return ee[n]||(ee[n]=t()),ee[n]}(e.repoInfo_,(function(){return new Ft(e.stats_,e.server_)})),e.infoData_=new At,e.infoSyncTree_=new nr({startListening:function(t,n,r,i){var o=[],a=e.infoData_.getNode(t._path);return a.isEmpty()||(o=ar(e.infoSyncTree_,t._path,a),setTimeout((function(){i("ok")}),0)),o},stopListening:function(){}}),di(e,"connected",!1),e.serverSyncTree_=new nr({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var o=i(n,r);ri(e.eventQueue_,t._path,o)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function ci(e){var t=e.infoData_.getNode(new pe(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function li(e){return(t=(t={timestamp:ci(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function fi(e,t,n,r,i){e.dataUpdateCount++;var a=new pe(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var s=[];if(i)if(r){var u=(0,o.map)(n,(function(e){return ct(e)}));s=function(e,t,n,r){var i=mr(e,r);if(i){var o=yr(i),a=o.path,s=o.queryId,u=Ee(a,t),c=Zt.fromObject(n);return br(e,a,new Wt(Ut(s),u,c))}return[]}(e.serverSyncTree_,a,u,i)}else{var c=ct(n);s=function(e,t,n,r){var i=mr(e,r);if(null!=i){var o=yr(i),a=o.path,s=o.queryId,u=Ee(a,t);return br(e,a,new zt(Ut(s),u,n))}return[]}(e.serverSyncTree_,a,c,i)}else if(r){var l=(0,o.map)(n,(function(e){return ct(e)}));s=function(e,t,n){var r=Zt.fromObject(n);return fr(e,new Wt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,l)}else{var f=ct(n);s=ar(e.serverSyncTree_,a,f)}var h=a;s.length>0&&(h=Ei(e,a)),ri(e.eventQueue_,h,s)}function hi(e,t){di(e,"connected",t),!1===t&&function(e){wi(e,"onDisconnectEvents");var t=li(e),n=Dt();jt(e.onDisconnect_,ve(),(function(r,i){var o=Tr(r,i,e.serverSyncTree_,t);Nt(n,r,o)}));var r=[];jt(n,ve(),(function(t,n){r=r.concat(ar(e.serverSyncTree_,t,n));var i=Pi(e,t);Ei(e,i)})),e.onDisconnect_=Dt(),ri(e.eventQueue_,ve(),r)}(e)}function di(e,t,n){var r=new pe("/.info/"+t),i=ct(n);e.infoData_.updateSnapshot(r,i);var o=ar(e.infoSyncTree_,r,i);ri(e.eventQueue_,r,o)}function pi(e){return e.nextWriteId_++}function vi(e,t,n,r,i){wi(e,"set",{path:t.toString(),value:n,priority:r});var o=li(e),a=ct(n,r),s=cr(e.serverSyncTree_,t),u=Cr(a,s,o),c=pi(e),l=rr(e.serverSyncTree_,t,u,c,!0);ti(e.eventQueue_,l),e.server_.put(t.toString(),a.val(!0),(function(n,r){var o="ok"===n;o||T("set at "+t+" failed: "+n);var a=or(e.serverSyncTree_,c,!o);ri(e.eventQueue_,t,a),_i(e,i,n,r)}));var f=Pi(e,t);Ei(e,f),ri(e.eventQueue_,f,[])}function gi(e,t,n){e.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&Rt(e.onDisconnect_,t),_i(e,n,r,i)}))}function mi(e,t,n,r){var i=ct(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(function(n,o){"ok"===n&&Nt(e.onDisconnect_,t,i),_i(e,r,n,o)}))}function yi(e,t,n){var r;r=".info"===ge(t._path)?sr(e.infoSyncTree_,t,n):sr(e.serverSyncTree_,t,n),ni(e.eventQueue_,t._path,r)}function bi(e){e.persistentConnection_&&e.persistentConnection_.interrupt(ai)}function wi(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r="";e.persistentConnection_&&(r=e.persistentConnection_.id+":"),x.apply(void 0,(0,a.__spreadArray)([r],(0,a.__read)(t)))}function _i(e,t,n,r){t&&q((function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var o=new Error(i);o.code=e,t(o)}}))}function xi(e,t,n){return cr(e.serverSyncTree_,t,n)||st.EMPTY_NODE}function Si(e,t){if(void 0===t&&(t=e.transactionQueueTree_),t||Ii(e,t),Ar(t)){var n=Ti(e,t);(0,o.assert)(n.length>0,"Sending zero length transaction queue"),n.every((function(e){return 0===e.status}))&&function(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=xi(e,t,r),a=i,s=i.hash(),u=0;u<n.length;u++){var c=n[u];(0,o.assert)(0===c.status,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;var l=Ee(t,c.path);a=a.updateChild(l,c.currentOutputSnapshotRaw)}var f=a.val(!0),h=t;e.server_.put(h.toString(),f,(function(r){wi(e,"transaction put response",{path:h.toString(),status:r});var i=[];if("ok"===r){for(var o=[],a=function(t){n[t].status=2,i=i.concat(or(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&o.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},s=0;s<n.length;s++)a(s);Ii(e,Or(e.transactionQueueTree_,t)),Si(e,e.transactionQueueTree_),ri(e.eventQueue_,t,i);for(s=0;s<o.length;s++)q(o[s])}else{if("datastale"===r)for(s=0;s<n.length;s++)3===n[s].status?n[s].status=4:n[s].status=0;else{T("transaction at "+h.toString()+" failed: "+r);for(s=0;s<n.length;s++)n[s].status=4,n[s].abortReason=r}Ei(e,t)}}),s)}(e,Mr(t),n)}else Nr(t)&&Rr(t,(function(t){Si(e,t)}))}function Ei(e,t){var n=ki(e,t),r=Mr(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],a=t.filter((function(e){return 0===e.status})).map((function(e){return e.currentWriteId})),s=function(s){var u,c,l=t[s],f=Ee(n,l.path),h=!1;if((0,o.assert)(null!==f,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)h=!0,u=l.abortReason,i=i.concat(or(e.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=25)h=!0,u="maxretry",i=i.concat(or(e.serverSyncTree_,l.currentWriteId,!0));else{var d=xi(e,l.path,a);l.currentInputSnapshot=d;var p=t[s].update(d.val());if(void 0!==p){Hr("transaction failed: Data returned ",p,l.path);var v=ct(p);"object"===typeof p&&null!=p&&(0,o.contains)(p,".priority")||(v=v.updatePriority(d.getPriority()));var g=l.currentWriteId,m=li(e),y=Cr(v,d,m);l.currentOutputSnapshotRaw=v,l.currentOutputSnapshotResolved=y,l.currentWriteId=pi(e),a.splice(a.indexOf(g),1),i=(i=i.concat(rr(e.serverSyncTree_,l.path,y,l.currentWriteId,l.applyLocally))).concat(or(e.serverSyncTree_,g,!0))}else h=!0,u="nodata",i=i.concat(or(e.serverSyncTree_,l.currentWriteId,!0))}ri(e.eventQueue_,n,i),i=[],h&&(t[s].status=2,c=t[s].unwatcher,setTimeout(c,Math.floor(0)),t[s].onComplete&&("nodata"===u?r.push((function(){return t[s].onComplete(null,!1,t[s].currentInputSnapshot)})):r.push((function(){return t[s].onComplete(new Error(u),!1,null)}))))},u=0;u<t.length;u++)s(u);Ii(e,e.transactionQueueTree_);for(u=0;u<r.length;u++)q(r[u]);Si(e,e.transactionQueueTree_)}(e,Ti(e,n),r),r}function ki(e,t){var n,r=e.transactionQueueTree_;for(n=ge(t);null!==n&&void 0===Ar(r);)r=Or(r,n),n=ge(t=ye(t));return r}function Ti(e,t){var n=[];return Ci(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function Ci(e,t,n){var r=Ar(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);Rr(t,(function(t){Ci(e,t,n)}))}function Ii(e,t){var n=Ar(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,Dr(t,n.length>0?n:void 0)}Rr(t,(function(t){Ii(e,t)}))}function Pi(e,t){var n=Mr(ki(e,t)),r=Or(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){Oi(e,t)})),Oi(e,r),jr(r,(function(t){Oi(e,t)})),n}function Oi(e,t){var n=Ar(t);if(n){for(var r=[],i=[],a=-1,s=0;s<n.length;s++)3===n[s].status||(1===n[s].status?((0,o.assert)(a===s-1,"All SENT items should be at beginning of queue."),a=s,n[s].status=3,n[s].abortReason="set"):((0,o.assert)(0===n[s].status,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(or(e.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));-1===a?Dr(t,void 0):n.length=a+1,ri(e.eventQueue_,Mr(t),i);for(s=0;s<r.length;s++)q(r[s])}}var Ai=function(e,t){var n=Di(e),r=n.namespace;"firebase.com"===n.domain&&k(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||k("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&T("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new Q(n.host,n.secure,r,t,i,"",r!==n.subdomain),path:new pe(n.pathString)}},Di=function(e){var t="",n="",r="",i="",o="",s=!0,u="https",c=443;if("string"===typeof e){var l=e.indexOf("//");l>=0&&(u=e.substring(0,l-1),e=e.substring(l+2));var f=e.indexOf("/");-1===f&&(f=e.length);var h=e.indexOf("?");-1===h&&(h=e.length),t=e.substring(0,Math.min(f,h)),f<h&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(o){}t+="/"+i}return t}(e.substring(f,h)));var d=function(e){var t,n,r={};"?"===e.charAt(0)&&(e=e.substring(1));try{for(var i=(0,a.__values)(e.split("&")),o=i.next();!o.done;o=i.next()){var s=o.value;if(0!==s.length){var u=s.split("=");2===u.length?r[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):T("Invalid query segment '"+s+"' in query '"+e+"'")}}}catch(c){t={error:c}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}(e.substring(Math.min(e.length,h)));(l=t.indexOf(":"))>=0?(s="https"===u||"wss"===u,c=parseInt(t.substring(l+1),10)):l=t.length;var p=t.slice(0,l);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{var v=t.indexOf(".");r=t.substring(0,v).toLowerCase(),n=t.substring(v+1),o=r}"ns"in d&&(o=d.ns)}return{host:t,port:c,domain:n,subdomain:r,secure:s,scheme:u,pathString:i,namespace:o}},Ni=function(){function e(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}return e.prototype.getPath=function(){var e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path},e.prototype.getEventType=function(){return this.eventType},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+(0,o.stringify)(this.snapshot.exportVal())},e}(),Ri=function(){function e(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}return e.prototype.getPath=function(){return this.path},e.prototype.getEventType=function(){return"cancel"},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.path.toString()+":cancel"},e}(),ji=function(){function e(e,t){this.snapshotCallback=e,this.cancelCallback=t}return e.prototype.onValue=function(e,t){this.snapshotCallback.call(null,e,t)},e.prototype.onCancel=function(e){return(0,o.assert)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)},Object.defineProperty(e.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),e.prototype.matches=function(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context},e}(),Mi=function(){function e(e,t){this._repo=e,this._path=t}return e.prototype.cancel=function(){var e=new o.Deferred;return gi(this._repo,this._path,e.wrapCallback((function(){}))),e.promise},e.prototype.remove=function(){Xr("OnDisconnect.remove",this._path);var e=new o.Deferred;return mi(this._repo,this._path,null,e.wrapCallback((function(){}))),e.promise},e.prototype.set=function(e){Xr("OnDisconnect.set",this._path),Wr("OnDisconnect.set",e,this._path,!1);var t=new o.Deferred;return mi(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise},e.prototype.setWithPriority=function(e,t){Xr("OnDisconnect.setWithPriority",this._path),Wr("OnDisconnect.setWithPriority",e,this._path,!1),Gr("OnDisconnect.setWithPriority",t,!1);var n=new o.Deferred;return function(e,t,n,r,i){var o=ct(n,r);e.server_.onDisconnectPut(t.toString(),o.val(!0),(function(n,r){"ok"===n&&Nt(e.onDisconnect_,t,o),_i(0,i,n,r)}))}(this._repo,this._path,e,t,n.wrapCallback((function(){}))),n.promise},e.prototype.update=function(e){Xr("OnDisconnect.update",this._path),Kr("OnDisconnect.update",e,this._path,!1);var t=new o.Deferred;return function(e,t,n,r){if((0,o.isEmpty)(n))return x("onDisconnect().update() called with empty data.  Don't do anything."),void _i(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(function(i,o){"ok"===i&&j(n,(function(n,r){var i=ct(r);Nt(e.onDisconnect_,xe(t,n),i)})),_i(0,r,i,o)}))}(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise},e}(),Li=function(){function e(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}return Object.defineProperty(e.prototype,"key",{get:function(){return Se(this._path)?null:be(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new qi(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryIdentifier",{get:function(){var e=Pt(this._queryParams),t=N(e);return"{}"===t?"default":t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryObject",{get:function(){return Pt(this._queryParams)},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!((t=(0,o.getModularInstance)(t))instanceof e))return!1;var n=this._repo===t._repo,r=Te(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i},e.prototype.toJSON=function(){return this.toString()},e.prototype.toString=function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)},e}();function Fi(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Ui(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===Ue){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==I)throw new Error(r);if("string"!==typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==P)throw new Error(r);if("string"!==typeof n)throw new Error(i)}}else if(e.getIndex()===tt){if(null!=t&&!zr(t)||null!=n&&!zr(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,o.assert)(e.getIndex()instanceof lt||e.getIndex()===ht,"unknown index type."),null!=t&&"object"===typeof t||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Bi(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var qi=function(e){function t(t,n){return e.call(this,t,n,new Et,!1)||this}return(0,a.__extends)(t,e),Object.defineProperty(t.prototype,"parent",{get:function(){var e=_e(this._path);return null===e?null:new t(this._repo,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e},enumerable:!1,configurable:!0}),t}(Li),Vi=function(){function e(e,t,n){this._node=e,this.ref=t,this._index=n}return Object.defineProperty(e.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),e.prototype.child=function(t){var n=new pe(t),r=Hi(this.ref,t);return new e(this._node.getChild(n),r,tt)},e.prototype.exists=function(){return!this._node.isEmpty()},e.prototype.exportVal=function(){return this._node.val(!0)},e.prototype.forEach=function(t){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,i){return t(new e(i,Hi(n.ref,r),tt))}))},e.prototype.hasChild=function(e){var t=new pe(e);return!this._node.getChild(t).isEmpty()},e.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},e.prototype.toJSON=function(){return this.exportVal()},e.prototype.val=function(){return this._node.val()},e}();function zi(e,t){return(e=(0,o.getModularInstance)(e))._checkNotDeleted("ref"),void 0!==t?Hi(e._root,t):e._root}function Wi(e,t){(e=(0,o.getModularInstance)(e))._checkNotDeleted("refFromURL");var n=Ai(t,e._repo.repoInfo_.nodeAdmin);Jr("refFromURL",n);var r=n.repoInfo;return e._repo.repoInfo_.isCustomHost()||r.host===e._repo.repoInfo_.host||k("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),zi(e,n.path.toString())}function Hi(e,t){var n,r,i,a;return null===ge((e=(0,o.getModularInstance)(e))._path)?(n="child",r="path",a=!1,(i=t)&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),Qr(n,r,i,a)):Qr("child","path",t,!1),new qi(e._repo,xe(e._path,t))}function Ki(e,t){e=(0,o.getModularInstance)(e),Xr("push",e._path),Wr("push",t,e._path,!0);var n,r=ci(e._repo),i=pt(r),a=Hi(e,i),s=Hi(e,i);return n=null!=t?Yi(s,t).then((function(){return s})):Promise.resolve(s),a.then=n.then.bind(n),a.catch=n.then.bind(n,void 0),a}function Gi(e){return Xr("remove",e._path),Yi(e,null)}function Yi(e,t){e=(0,o.getModularInstance)(e),Xr("set",e._path),Wr("set",t,e._path,!1);var n=new o.Deferred;return vi(e._repo,e._path,t,null,n.wrapCallback((function(){}))),n.promise}function $i(e,t){e=(0,o.getModularInstance)(e),Xr("setPriority",e._path),Gr("setPriority",t,!1);var n=new o.Deferred;return vi(e._repo,xe(e._path,".priority"),t,null,n.wrapCallback((function(){}))),n.promise}function Qi(e,t,n){if(Xr("setWithPriority",e._path),Wr("setWithPriority",t,e._path,!1),Gr("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";var r=new o.Deferred;return vi(e._repo,e._path,t,n,r.wrapCallback((function(){}))),r.promise}function Xi(e,t){Kr("update",t,e._path,!1);var n=new o.Deferred;return function(e,t,n,r){wi(e,"update",{path:t.toString(),value:n});var i=!0,o=li(e),a={};if(j(n,(function(n,r){i=!1,a[n]=Tr(xe(t,n),ct(r),e.serverSyncTree_,o)})),i)x("update() called with empty data.  Don't do anything."),_i(0,r,"ok",void 0);else{var s=pi(e),u=ir(e.serverSyncTree_,t,a,s);ti(e.eventQueue_,u),e.server_.merge(t.toString(),n,(function(n,i){var o="ok"===n;o||T("update at "+t+" failed: "+n);var a=or(e.serverSyncTree_,s,!o),u=a.length>0?Ei(e,t):t;ri(e.eventQueue_,u,a),_i(0,r,n,i)})),j(n,(function(n){var r=Pi(e,xe(t,n));Ei(e,r)})),ri(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback((function(){}))),n.promise}function Ji(e){return function(e,t){var n=lr(e.serverSyncTree_,t);return null!=n?Promise.resolve(n):e.server_.get(t).then((function(n){var r=ct(n).withIndex(t._queryParams.getIndex()),i=ar(e.serverSyncTree_,t._path,r);return ni(e.eventQueue_,t._path,i),Promise.resolve(r)}),(function(n){return wi(e,"get for query "+(0,o.stringify)(t)+" failed: "+n),Promise.reject(new Error(n))}))}((e=(0,o.getModularInstance)(e))._repo,e).then((function(t){return new Vi(t,new qi(e._repo,e._path),e._queryParams.getIndex())}))}var Zi=function(){function e(e){this.callbackContext=e}return e.prototype.respondsTo=function(e){return"value"===e},e.prototype.createEvent=function(e,t){var n=t._queryParams.getIndex();return new Ni("value",this,new Vi(e.snapshotNode,new qi(t._repo,t._path),n))},e.prototype.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}},e.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new Ri(this,e,t):null},e.prototype.matches=function(t){return t instanceof e&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))},e.prototype.hasAnyCallback=function(){return null!==this.callbackContext},e}(),eo=function(){function e(e,t){this.eventType=e,this.callbackContext=t}return e.prototype.respondsTo=function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t},e.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new Ri(this,e,t):null},e.prototype.createEvent=function(e,t){(0,o.assert)(null!=e.childName,"Child events should have a childName.");var n=Hi(new qi(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new Ni(e.type,this,new Vi(e.snapshotNode,n,r),e.prevName)},e.prototype.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,e.prevName)}},e.prototype.matches=function(t){return t instanceof e&&(this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)))},e.prototype.hasAnyCallback=function(){return!!this.callbackContext},e}();function to(e,t,n,r,i){var o;if("object"===typeof r&&(o=void 0,i=r),"function"===typeof r&&(o=r),i&&i.onlyOnce){var a=n,s=function(t,n){yi(e._repo,e,c),a(t,n)};s.userCallback=n.userCallback,s.context=n.context,n=s}var u=new ji(n,o||void 0),c="value"===t?new Zi(u):new eo(t,u);return function(e,t,n){var r;r=".info"===ge(t._path)?ur(e.infoSyncTree_,t,n):ur(e.serverSyncTree_,t,n),ni(e.eventQueue_,t._path,r)}(e._repo,e,c),function(){return yi(e._repo,e,c)}}function no(e,t,n,r){return to(e,"value",t,n,r)}function ro(e,t,n,r){return to(e,"child_added",t,n,r)}function io(e,t,n,r){return to(e,"child_changed",t,n,r)}function oo(e,t,n,r){return to(e,"child_moved",t,n,r)}function ao(e,t,n,r){return to(e,"child_removed",t,n,r)}function so(e,t,n){var r=null,i=n?new ji(n):null;"value"===t?r=new Zi(i):t&&(r=new eo(t,i)),yi(e._repo,e,r)}var uo=function(){},co=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,a.__extends)(t,e),t.prototype._apply=function(e){Wr("endAt",this._value,e._path,!0);var t=Tt(e._queryParams,this._value,this._key);if(Bi(t),Ui(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Li(e._repo,e._path,t,e._orderByCalled)},t}(uo);function lo(e,t){return $r("endAt","key",t,!0),new co(e,t)}var fo=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,a.__extends)(t,e),t.prototype._apply=function(e){Wr("endBefore",this._value,e._path,!1);var t=function(e,t,n){var r;return e.index_===Ue?("string"===typeof t&&(t=gt(t)),r=Tt(e,t,n)):r=Tt(e,t,null==n?I:gt(n)),r.endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(Bi(t),Ui(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Li(e._repo,e._path,t,e._orderByCalled)},t}(uo);function ho(e,t){return $r("endBefore","key",t,!0),new fo(e,t)}var po=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,a.__extends)(t,e),t.prototype._apply=function(e){Wr("startAt",this._value,e._path,!0);var t=kt(e._queryParams,this._value,this._key);if(Bi(t),Ui(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Li(e._repo,e._path,t,e._orderByCalled)},t}(uo);function vo(e,t){return void 0===e&&(e=null),$r("startAt","key",t,!0),new po(e,t)}var go=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,a.__extends)(t,e),t.prototype._apply=function(e){Wr("startAfter",this._value,e._path,!1);var t=function(e,t,n){var r;e.index_===Ue?("string"===typeof t&&(t=vt(t)),r=kt(e,t,n)):r=kt(e,t,null==n?P:vt(n));return r.startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(Bi(t),Ui(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Li(e._repo,e._path,t,e._orderByCalled)},t}(uo);function mo(e,t){return $r("startAfter","key",t,!0),new go(e,t)}var yo=function(e){function t(t){var n=e.call(this)||this;return n._limit=t,n}return(0,a.__extends)(t,e),t.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Li(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}(e._queryParams,this._limit),e._orderByCalled)},t}(uo);function bo(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new yo(e)}var wo=function(e){function t(t){var n=e.call(this)||this;return n._limit=t,n}return(0,a.__extends)(t,e),t.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Li(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}(e._queryParams,this._limit),e._orderByCalled)},t}(uo);function _o(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new wo(e)}var xo=function(e){function t(t){var n=e.call(this)||this;return n._path=t,n}return(0,a.__extends)(t,e),t.prototype._apply=function(e){Fi(e,"orderByChild");var t=new pe(this._path);if(Se(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new lt(t),r=Ct(e._queryParams,n);return Ui(r),new Li(e._repo,e._path,r,!0)},t}(uo);function So(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Qr("orderByChild","path",e,!1),new xo(e)}var Eo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.__extends)(t,e),t.prototype._apply=function(e){Fi(e,"orderByKey");var t=Ct(e._queryParams,Ue);return Ui(t),new Li(e._repo,e._path,t,!0)},t}(uo);function ko(){return new Eo}var To=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.__extends)(t,e),t.prototype._apply=function(e){Fi(e,"orderByPriority");var t=Ct(e._queryParams,tt);return Ui(t),new Li(e._repo,e._path,t,!0)},t}(uo);function Co(){return new To}var Io=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.__extends)(t,e),t.prototype._apply=function(e){Fi(e,"orderByValue");var t=Ct(e._queryParams,ht);return Ui(t),new Li(e._repo,e._path,t,!0)},t}(uo);function Po(){return new Io}var Oo=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,a.__extends)(t,e),t.prototype._apply=function(e){if(Wr("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new co(this._value,this._key)._apply(new po(this._value,this._key)._apply(e))},t}(uo);function Ao(e,t){return $r("equalTo","key",t,!0),new Oo(e,t)}function Do(e){for(var t,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var s=(0,o.getModularInstance)(e);try{for(var u=(0,a.__values)(r),c=u.next();!c.done;c=u.next()){var l=c.value;s=l._apply(s)}}catch(f){t={error:f}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return s}!function(e){(0,o.assert)(!Mn,"__referenceConstructor has already been defined"),Mn=e}(qi),function(e){(0,o.assert)(!zn,"__referenceConstructor has already been defined"),zn=e}(qi);var No={},Ro=!1;function jo(e,t,n,r,i){var o=r||e.options.databaseURL;void 0===o&&(e.options.projectId||k("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),x("Using default host for project ",e.options.projectId),o=e.options.projectId+"-default-rtdb.firebaseio.com");var a,s=Ai(o,i),u=s.repoInfo,c=void 0;"undefined"!==typeof process&&(c={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.FIREBASE_DATABASE_EMULATOR_HOST),c?(a=!0,o="http://"+c+"?ns="+u.namespace,u=(s=Ai(o,i)).repoInfo):a=!s.repoInfo.secure;var l=i&&a?new H(H.OWNER):new W(e.name,e.options,t);Jr("Invalid Firebase Database URL",s),Se(s.path)||k("Database URL must point to the root of a Firebase Database (not including a child path).");var f=function(e,t,n,r){var i=No[t.name];i||(i={},No[t.name]=i);var o=i[e.toURLString()];o&&k("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return o=new si(e,Ro,n,r),i[e.toURLString()]=o,o}(u,e,l,new z(e.name,n));return new Mo(f,e)}var Mo=function(){function e(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}return Object.defineProperty(e.prototype,"_repo",{get:function(){return this._instanceStarted||(ui(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new qi(this._repo,ve())),this._rootInternal},enumerable:!1,configurable:!0}),e.prototype._delete=function(){return null!==this._rootInternal&&(!function(e,t){var n=No[t];n&&n[e.key]===e||k("Database "+t+"("+e.repoInfo_+") has already been deleted."),bi(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()},e.prototype._checkNotDeleted=function(e){null===this._rootInternal&&k("Cannot call "+e+" on a deleted database.")},e}();function Lo(e,t,n,r){void 0===r&&(r={}),(e=(0,o.getModularInstance)(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&k("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,a=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&k('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new H(H.OWNER);else if(r.mockUserToken){var s="string"===typeof r.mockUserToken?r.mockUserToken:(0,o.createMockUserToken)(r.mockUserToken,e.app.options.projectId);a=new H(s)}!function(e,t,n,r){e.repoInfo_=new Q(t+":"+n,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),r&&(e.authTokenProvider_=r)}(i,t,n,a)}function Fo(e){(e=(0,o.getModularInstance)(e))._checkNotDeleted("goOffline"),bi(e._repo)}function Uo(e){var t;(e=(0,o.getModularInstance)(e))._checkNotDeleted("goOnline"),(t=e._repo).persistentConnection_&&t.persistentConnection_.resume(ai)}var Bo={".sv":"timestamp"};var qo=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}();function Vo(e,t,n){var r;if(e=(0,o.getModularInstance)(e),Xr("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";var i=null===(r=null===n||void 0===n?void 0:n.applyLocally)||void 0===r||r,a=new o.Deferred,s=no(e,(function(){}));return function(e,t,n,r,i,a){wi(e,"transaction on "+t);var s={path:t,update:n,onComplete:r,status:null,order:g(),applyLocally:a,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=xi(e,t,void 0);s.currentInputSnapshot=u;var c=s.update(u.val());if(void 0===c)s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot);else{Hr("transaction failed: Data returned ",c,s.path),s.status=0;var l=Or(e.transactionQueueTree_,t),f=Ar(l)||[];f.push(s),Dr(l,f);var h=void 0;"object"===typeof c&&null!==c&&(0,o.contains)(c,".priority")?(h=(0,o.safeGet)(c,".priority"),(0,o.assert)(zr(h),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):h=(cr(e.serverSyncTree_,t)||st.EMPTY_NODE).getPriority().val();var d=li(e),p=ct(c,h),v=Cr(p,u,d);s.currentOutputSnapshotRaw=p,s.currentOutputSnapshotResolved=v,s.currentWriteId=pi(e);var m=rr(e.serverSyncTree_,t,v,s.currentWriteId,s.applyLocally);ri(e.eventQueue_,t,m),Si(e,e.transactionQueueTree_)}}(e._repo,e._path,t,(function(t,n,r){var i=null;t?a.reject(t):(i=new Vi(r,new qi(e._repo,e._path),tt),a.resolve(new qo(n,i)))}),s,i),a.promise}var zo=function(){function e(e){this._delegate=e}return e.prototype.cancel=function(e){(0,o.validateArgCount)("OnDisconnect.cancel",0,1,arguments.length),(0,o.validateCallback)("OnDisconnect.cancel","onComplete",e,!0);var t=this._delegate.cancel();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},e.prototype.remove=function(e){(0,o.validateArgCount)("OnDisconnect.remove",0,1,arguments.length),(0,o.validateCallback)("OnDisconnect.remove","onComplete",e,!0);var t=this._delegate.remove();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},e.prototype.set=function(e,t){(0,o.validateArgCount)("OnDisconnect.set",1,2,arguments.length),(0,o.validateCallback)("OnDisconnect.set","onComplete",t,!0);var n=this._delegate.set(e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},e.prototype.setWithPriority=function(e,t,n){(0,o.validateArgCount)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,o.validateCallback)("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r},e.prototype.update=function(e,t){if((0,o.validateArgCount)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,T("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,o.validateCallback)("OnDisconnect.update","onComplete",t,!0);var i=this._delegate.update(e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i},e}(),Wo=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return(0,o.validateArgCount)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}(),Ho=function(){function e(e,t){this._database=e,this._delegate=t}return e.prototype.val=function(){return(0,o.validateArgCount)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},e.prototype.exportVal=function(){return(0,o.validateArgCount)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},e.prototype.toJSON=function(){return(0,o.validateArgCount)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.exists=function(){return(0,o.validateArgCount)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},e.prototype.child=function(t){return(0,o.validateArgCount)("DataSnapshot.child",0,1,arguments.length),t=String(t),Qr("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))},e.prototype.hasChild=function(e){return(0,o.validateArgCount)("DataSnapshot.hasChild",1,1,arguments.length),Qr("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)},e.prototype.getPriority=function(){return(0,o.validateArgCount)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},e.prototype.forEach=function(t){var n=this;return(0,o.validateArgCount)("DataSnapshot.forEach",1,1,arguments.length),(0,o.validateCallback)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach((function(r){return t(new e(n._database,r))}))},e.prototype.hasChildren=function(){return(0,o.validateArgCount)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(e.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),e.prototype.numChildren=function(){return(0,o.validateArgCount)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},e.prototype.getRef=function(){return(0,o.validateArgCount)("DataSnapshot.ref",0,0,arguments.length),new Go(this._database,this._delegate.ref)},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),e}(),Ko=function(){function e(e,t){this.database=e,this._delegate=t}return e.prototype.on=function(t,n,r,i){var a,s=this;(0,o.validateArgCount)("Query.on",2,4,arguments.length),(0,o.validateCallback)("Query.on","callback",n,!1);var u=e.getCancelAndContextArgs_("Query.on",r,i),c=function(e,t){n.call(u.context,new Ho(s.database,e),t)};c.userCallback=n,c.context=u.context;var l=null===(a=u.cancel)||void 0===a?void 0:a.bind(u.context);switch(t){case"value":return no(this._delegate,c,l),n;case"child_added":return ro(this._delegate,c,l),n;case"child_removed":return ao(this._delegate,c,l),n;case"child_changed":return io(this._delegate,c,l),n;case"child_moved":return oo(this._delegate,c,l),n;default:throw new Error((0,o.errorPrefix)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},e.prototype.off=function(e,t,n){if((0,o.validateArgCount)("Query.off",0,3,arguments.length),Yr("Query.off",e,!0),(0,o.validateCallback)("Query.off","callback",t,!0),(0,o.validateContextObject)("Query.off","context",n,!0),t){var r=function(){};r.userCallback=t,r.context=n,so(this._delegate,e,r)}else so(this._delegate,e)},e.prototype.get=function(){var e=this;return Ji(this._delegate).then((function(t){return new Ho(e.database,t)}))},e.prototype.once=function(t,n,r,i){var a=this;(0,o.validateArgCount)("Query.once",1,4,arguments.length),(0,o.validateCallback)("Query.once","callback",n,!0);var s=e.getCancelAndContextArgs_("Query.once",r,i),u=new o.Deferred,c=function(e,t){var r=new Ho(a.database,e);n&&n.call(s.context,r,t),u.resolve(r)};c.userCallback=n,c.context=s.context;var l=function(e){s.cancel&&s.cancel.call(s.context,e),u.reject(e)};switch(t){case"value":no(this._delegate,c,l,{onlyOnce:!0});break;case"child_added":ro(this._delegate,c,l,{onlyOnce:!0});break;case"child_removed":ao(this._delegate,c,l,{onlyOnce:!0});break;case"child_changed":io(this._delegate,c,l,{onlyOnce:!0});break;case"child_moved":oo(this._delegate,c,l,{onlyOnce:!0});break;default:throw new Error((0,o.errorPrefix)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return u.promise},e.prototype.limitToFirst=function(t){return(0,o.validateArgCount)("Query.limitToFirst",1,1,arguments.length),new e(this.database,Do(this._delegate,bo(t)))},e.prototype.limitToLast=function(t){return(0,o.validateArgCount)("Query.limitToLast",1,1,arguments.length),new e(this.database,Do(this._delegate,_o(t)))},e.prototype.orderByChild=function(t){return(0,o.validateArgCount)("Query.orderByChild",1,1,arguments.length),new e(this.database,Do(this._delegate,So(t)))},e.prototype.orderByKey=function(){return(0,o.validateArgCount)("Query.orderByKey",0,0,arguments.length),new e(this.database,Do(this._delegate,ko()))},e.prototype.orderByPriority=function(){return(0,o.validateArgCount)("Query.orderByPriority",0,0,arguments.length),new e(this.database,Do(this._delegate,Co()))},e.prototype.orderByValue=function(){return(0,o.validateArgCount)("Query.orderByValue",0,0,arguments.length),new e(this.database,Do(this._delegate,Po()))},e.prototype.startAt=function(t,n){return void 0===t&&(t=null),(0,o.validateArgCount)("Query.startAt",0,2,arguments.length),new e(this.database,Do(this._delegate,vo(t,n)))},e.prototype.startAfter=function(t,n){return void 0===t&&(t=null),(0,o.validateArgCount)("Query.startAfter",0,2,arguments.length),new e(this.database,Do(this._delegate,mo(t,n)))},e.prototype.endAt=function(t,n){return void 0===t&&(t=null),(0,o.validateArgCount)("Query.endAt",0,2,arguments.length),new e(this.database,Do(this._delegate,lo(t,n)))},e.prototype.endBefore=function(t,n){return void 0===t&&(t=null),(0,o.validateArgCount)("Query.endBefore",0,2,arguments.length),new e(this.database,Do(this._delegate,ho(t,n)))},e.prototype.equalTo=function(t,n){return(0,o.validateArgCount)("Query.equalTo",1,2,arguments.length),new e(this.database,Do(this._delegate,Ao(t,n)))},e.prototype.toString=function(){return(0,o.validateArgCount)("Query.toString",0,0,arguments.length),this._delegate.toString()},e.prototype.toJSON=function(){return(0,o.validateArgCount)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.isEqual=function(t){if((0,o.validateArgCount)("Query.isEqual",1,1,arguments.length),!(t instanceof e)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(t._delegate)},e.getCancelAndContextArgs_=function(e,t,n){var r={cancel:void 0,context:void 0};if(t&&n)r.cancel=t,(0,o.validateCallback)(e,"cancel",r.cancel,!0),r.context=n,(0,o.validateContextObject)(e,"context",r.context,!0);else if(t)if("object"===typeof t&&null!==t)r.context=t;else{if("function"!==typeof t)throw new Error((0,o.errorPrefix)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r},Object.defineProperty(e.prototype,"ref",{get:function(){return new Go(this.database,new qi(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),e}(),Go=function(e){function t(t,n){var r=e.call(this,t,new Li(n._repo,n._path,new Et,!1))||this;return r.database=t,r._delegate=n,r}return(0,a.__extends)(t,e),t.prototype.getKey=function(){return(0,o.validateArgCount)("Reference.key",0,0,arguments.length),this._delegate.key},t.prototype.child=function(e){return(0,o.validateArgCount)("Reference.child",1,1,arguments.length),"number"===typeof e&&(e=String(e)),new t(this.database,Hi(this._delegate,e))},t.prototype.getParent=function(){(0,o.validateArgCount)("Reference.parent",0,0,arguments.length);var e=this._delegate.parent;return e?new t(this.database,e):null},t.prototype.getRoot=function(){return(0,o.validateArgCount)("Reference.root",0,0,arguments.length),new t(this.database,this._delegate.root)},t.prototype.set=function(e,t){(0,o.validateArgCount)("Reference.set",1,2,arguments.length),(0,o.validateCallback)("Reference.set","onComplete",t,!0);var n=Yi(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},t.prototype.update=function(e,t){if((0,o.validateArgCount)("Reference.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,T("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Xr("Reference.update",this._delegate._path),(0,o.validateCallback)("Reference.update","onComplete",t,!0);var i=Xi(this._delegate,e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i},t.prototype.setWithPriority=function(e,t,n){(0,o.validateArgCount)("Reference.setWithPriority",2,3,arguments.length),(0,o.validateCallback)("Reference.setWithPriority","onComplete",n,!0);var r=Qi(this._delegate,e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r},t.prototype.remove=function(e){(0,o.validateArgCount)("Reference.remove",0,1,arguments.length),(0,o.validateCallback)("Reference.remove","onComplete",e,!0);var t=Gi(this._delegate);return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},t.prototype.transaction=function(e,t,n){var r=this;(0,o.validateArgCount)("Reference.transaction",1,3,arguments.length),(0,o.validateCallback)("Reference.transaction","transactionUpdate",e,!1),(0,o.validateCallback)("Reference.transaction","onComplete",t,!0),Zr("Reference.transaction","applyLocally",n,!0);var i=Vo(this._delegate,e,{applyLocally:n}).then((function(e){return new Wo(e.committed,new Ho(r.database,e.snapshot))}));return t&&i.then((function(e){return t(null,e.committed,e.snapshot)}),(function(e){return t(e,!1,null)})),i},t.prototype.setPriority=function(e,t){(0,o.validateArgCount)("Reference.setPriority",1,2,arguments.length),(0,o.validateCallback)("Reference.setPriority","onComplete",t,!0);var n=$i(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},t.prototype.push=function(e,n){var r=this;(0,o.validateArgCount)("Reference.push",0,2,arguments.length),(0,o.validateCallback)("Reference.push","onComplete",n,!0);var i=Ki(this._delegate,e),a=i.then((function(e){return new t(r.database,e)}));n&&a.then((function(){return n(null)}),(function(e){return n(e)}));var s=new t(this.database,i);return s.then=a.then.bind(a),s.catch=a.catch.bind(a,void 0),s},t.prototype.onDisconnect=function(){return Xr("Reference.onDisconnect",this._delegate._path),new zo(new Mi(this._delegate._repo,this._delegate._path))},Object.defineProperty(t.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),t}(Ko),Yo=function(){function e(e,t){var n=this;this._delegate=e,this.app=t,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),Lo(this._delegate,e,t,n)},e.prototype.ref=function(e){if((0,o.validateArgCount)("database.ref",0,1,arguments.length),e instanceof Go){var t=Wi(this._delegate,e.toString());return new Go(this,t)}t=zi(this._delegate,e);return new Go(this,t)},e.prototype.refFromURL=function(e){var t="database.refFromURL";(0,o.validateArgCount)(t,1,1,arguments.length);var n=Wi(this._delegate,e);return new Go(this,n)},e.prototype.goOffline=function(){return(0,o.validateArgCount)("database.goOffline",0,0,arguments.length),Fo(this._delegate)},e.prototype.goOnline=function(){return(0,o.validateArgCount)("database.goOnline",0,0,arguments.length),Uo(this._delegate)},e.ServerValue={TIMESTAMP:Bo,increment:function(e){return function(e){return{".sv":{increment:e}}}(e)}},e}();var $o=Object.freeze({__proto__:null,forceLongPolling:function(){ue.forceDisallow(),oe.forceAllow()},forceWebSockets:function(){oe.forceDisallow()},isWebSocketsAvailable:function(){return ue.isAvailable()},setSecurityDebugCallback:function(e,t){e._delegate._repo.persistentConnection_.securityDebugCallback_=t},stats:function(e,t){!function(e,t){if(void 0===t&&(t=!1),"undefined"!==typeof console){var n;t?(e.statsListener_||(e.statsListener_=new Lt(e.stats_)),n=e.statsListener_.get()):n=e.stats_.get();var r=Object.keys(n).reduce((function(e,t){return Math.max(t.length,e)}),0);j(n,(function(e,t){for(var n=e,i=e.length;i<r+2;i++)n+=" ";console.log(n+t)}))}}(e._delegate._repo,t)},statsIncrementCounter:function(e,t){!function(e,t){var n,r;e.stats_.incrementCounter(t),n=e.statsReporter_,r=t,n.statsToReport_[r]=!0}(e._delegate._repo,t)},dataUpdateCount:function(e){return e._delegate._repo.dataUpdateCount},interceptServerData:function(e,t){return function(e,t){e.interceptServerDataCallback_=t}(e._delegate._repo,t)},initStandalone:function(e){var t=e.app,n=e.url,r=e.version,o=e.customAuthImpl,a=e.namespace,s=e.nodeAdmin,u=void 0!==s&&s;c(r);var l=new i.Provider("auth-internal",new i.ComponentContainer("database-standalone"));return l.setComponent(new i.Component("auth-internal",(function(){return o}),"PRIVATE")),{instance:new Yo(jo(t,l,void 0,n,u),t),namespace:a}}}),Qo=je;je.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},je.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var Xo=le,Jo=Q,Zo=Object.freeze({__proto__:null,DataConnection:Qo,RealTimeConnection:Xo,hijackHash:function(e){var t=je.prototype.put;return je.prototype.put=function(n,r,i,o){void 0!==o&&(o=e()),t.call(this,n,r,i,o)},function(){je.prototype.put=t}},ConnectionTarget:Jo,queryIdentifier:function(e){return e._delegate._queryIdentifier},forceRestClient:function(e){!function(e){Ro=e}(e)}}),ea=Yo.ServerValue;!function(t){c(t.SDK_VERSION);var n=t.INTERNAL.registerComponent(new i.Component("database",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new Yo(jo(r,i,o,n),r)}),"PUBLIC").setServiceProps({Reference:Go,Query:Ko,Database:Yo,DataSnapshot:Ho,enableLogging:_,INTERNAL:$o,ServerValue:ea,TEST_ACCESS:Zo}).setMultipleInstances(!0));t.registerVersion("@firebase/database","0.11.0"),(0,o.isNodeSdk)()&&(e.exports=n)}(r.default)},9386:function(e,t,n){"use strict";function r(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var i;n.r(t),n.d(t,{LogLevel:function(){return o},Logger:function(){return f},setLogLevel:function(){return h},setUserLogHandler:function(){return d}});var o,a=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(o||(o={}));var s={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var o=(new Date).toISOString(),a=c[t];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[a].apply(console,r(["["+o+"]  "+e.name+":"],n))}},f=function(){function e(e){this.name=e,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,a.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in o))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"===typeof e?s[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],e)),this._logHandler.apply(this,r([this,o.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],e)),this._logHandler.apply(this,r([this,o.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],e)),this._logHandler.apply(this,r([this,o.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],e)),this._logHandler.apply(this,r([this,o.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],e)),this._logHandler.apply(this,r([this,o.ERROR],e))},e}();function h(e){a.forEach((function(t){t.setLogLevel(e)}))}function d(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=s[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];var s=i.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:o[n].toLowerCase(),message:s,args:i,type:t.name})}},r=0,i=a;r<i.length;r++){n(i[r])}}},9971:function(e,t,n){"use strict";n.r(t),n.d(t,{CONSTANTS:function(){return i},Deferred:function(){return p},ErrorFactory:function(){return D},FirebaseError:function(){return A},MAX_VALUE_MILLIS:function(){return ce},RANDOM_FACTOR:function(){return le},Sha1:function(){return X},areCookiesEnabled:function(){return P},assert:function(){return o},assertionError:function(){return a},async:function(){return ee},base64:function(){return u},base64Decode:function(){return f},base64Encode:function(){return c},base64urlEncodeWithoutPadding:function(){return l},calculateBackoffMillis:function(){return fe},contains:function(){return V},createMockUserToken:function(){return v},createSubscribe:function(){return J},decode:function(){return L},deepCopy:function(){return h},deepEqual:function(){return K},deepExtend:function(){return d},errorPrefix:function(){return re},extractQuerystring:function(){return Q},getGlobal:function(){return O},getModularInstance:function(){return de},getUA:function(){return g},isAdmin:function(){return q},isBrowser:function(){return b},isBrowserExtension:function(){return w},isElectron:function(){return x},isEmpty:function(){return W},isIE:function(){return S},isIndexedDBAvailable:function(){return C},isMobileCordova:function(){return m},isNode:function(){return y},isNodeSdk:function(){return k},isReactNative:function(){return _},isSafari:function(){return T},isUWP:function(){return E},isValidFormat:function(){return B},isValidTimestamp:function(){return F},issuedAtTime:function(){return U},jsonEval:function(){return j},map:function(){return H},ordinal:function(){return he},querystring:function(){return Y},querystringDecode:function(){return $},safeGet:function(){return z},stringLength:function(){return ue},stringToByteArray:function(){return se},stringify:function(){return M},validateArgCount:function(){return ne},validateCallback:function(){return oe},validateContextObject:function(){return ae},validateIndexedDBOpenable:function(){return I},validateNamespace:function(){return ie}});var r=n(9388),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(e,t){if(!e)throw a(t)},a=function(e){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},s=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=o>>2,f=(3&o)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,a||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(s(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=e[n++]))<<12|(63&(s=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{o=e[n++];var s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();var c=o<<2|a>>4;if(r.push(c),64!==s){var l=a<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},c=function(e){var t=s(e);return u.encodeByteArray(t,!0)},l=function(e){return c(e).replace(/\./g,"")},f=function(e){try{return u.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function h(e){return d(void 0,e)}function d(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=d(e[n],t[n]));return e}var p=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();function v(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",i=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=(0,r.__assign)({iss:"https://securetoken.google.com/"+n,aud:n,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[l(JSON.stringify({alg:"none",type:"JWT"})),l(JSON.stringify(a)),""].join(".")}function g(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function m(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(g())}function y(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function b(){return"object"===typeof self&&self.self===self}function w(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function _(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function x(){return g().indexOf("Electron/")>=0}function S(){var e=g();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function E(){return g().indexOf("MSAppHost/")>=0}function k(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN}function T(){return!y()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function C(){return"indexedDB"in self&&null!=indexedDB}function I(){return new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(o){t(o)}}))}function P(){return!(!navigator||!navigator.cookieEnabled)}function O(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}var A=function(e){function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,D.prototype.create),o}return(0,r.__extends)(t,e),t}(Error),D=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?N(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new A(i,s,r);return u},e}();function N(e,t){return e.replace(R,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}var R=/\{\$([^}]+)}/g;function j(e){return JSON.parse(e)}function M(e){return JSON.stringify(e)}var L=function(e){var t={},n={},r={},i="";try{var o=e.split(".");t=j(f(o[0])||""),n=j(f(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(a){}return{header:t,claims:n,data:r,signature:i}},F=function(e){var t=L(e).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"===typeof t&&(t.hasOwnProperty("nbf")?r=t.nbf:t.hasOwnProperty("iat")&&(r=t.iat),i=t.hasOwnProperty("exp")?t.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},U=function(e){var t=L(e).claims;return"object"===typeof t&&t.hasOwnProperty("iat")?t.iat:null},B=function(e){var t=L(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")},q=function(e){var t=L(e).claims;return"object"===typeof t&&!0===t.admin};function V(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function z(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function W(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function H(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function K(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,o=n;i<o.length;i++){var a=o[i];if(!r.includes(a))return!1;var s=e[a],u=t[a];if(G(s)&&G(u)){if(!K(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){a=l[c];if(!n.includes(a))return!1}return!0}function G(e){return null!==e&&"object"===typeof e}function Y(e){for(var t=[],n=function(e,n){Array.isArray(n)?n.forEach((function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))},r=0,i=Object.entries(e);r<i.length;r++){var o=i[r];n(o[0],o[1])}return t.length?"&"+t.join("&"):""}function $(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=e.split("="),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Q(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var X=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],f=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):r<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782);i=(s<<5|s>>>27)+o+f+a+n[r]&4294967295;f=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e},e}();function J(e,t){var n=new Z(e,t);return n.subscribe.bind(n)}var Z=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&"function"===typeof e[i])return!0}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=te),void 0===r.error&&(r.error=te),void 0===r.complete&&(r.complete=te);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function ee(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){e.apply(void 0,n)})).catch((function(e){t&&t(e)}))}}function te(){}var ne=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function re(e,t){return e+" failed: "+t+" argument "}function ie(e,t,n){if((!n||t)&&"string"!==typeof t)throw new Error(re(e,"namespace")+"must be a valid firebase namespace.")}function oe(e,t,n,r){if((!r||n)&&"function"!==typeof n)throw new Error(re(e,t)+"must be a valid function.")}function ae(e,t,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error(re(e,t)+"must be a valid context object.")}var se=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,o(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ue=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t},ce=144e5,le=.5;function fe(e,t,n){void 0===t&&(t=1e3),void 0===n&&(n=2);var r=t*Math.pow(n,e),i=Math.round(le*r*(Math.random()-.5)*2);return Math.min(ce,r+i)}function he(e){return Number.isFinite(e)?e+function(e){var t=(e=Math.abs(e))%100;if(t>=10&&t<=20)return"th";var n=e%10;if(1===n)return"st";if(2===n)return"nd";if(3===n)return"rd";return"th"}(e):""+e}function de(e){return e&&e._delegate?e._delegate:e}},6704:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var r={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},i=function(e,t,n){var i,o=r[e];return i="string"===typeof o?o:1===t?o.one:o.other.replace("{{count}}",t.toString()),null!==n&&void 0!==n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i};function o(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,r=e.formats[n]||e.formats[e.defaultWidth];return r}}var a={date:o({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:o({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:o({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},s={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},u=function(e,t,n,r){return s[e]};function c(e){return function(t,n){var r,i=n||{};if("formatting"===(i.context?String(i.context):"standalone")&&e.formattingValues){var o=e.defaultFormattingWidth||e.defaultWidth,a=i.width?String(i.width):o;r=e.formattingValues[a]||e.formattingValues[o]}else{var s=e.defaultWidth,u=i.width?String(i.width):e.defaultWidth;r=e.values[u]||e.values[s]}return r[e.argumentCallback?e.argumentCallback(t):t]}}var l={ordinalNumber:function(e,t){var n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:c({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:c({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:c({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:c({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:c({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function f(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(i);if(!o)return null;var a,s=o[0],u=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(u)?d(u,(function(e){return e.test(s)})):h(u,(function(e){return e.test(s)}));a=e.valueCallback?e.valueCallback(c):c,a=n.valueCallback?n.valueCallback(a):a;var l=t.slice(s.length);return{value:a,rest:l}}}function h(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function d(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}var p,v={ordinalNumber:(p={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.match(p.matchPattern);if(!n)return null;var r=n[0],i=e.match(p.parsePattern);if(!i)return null;var o=p.valueCallback?p.valueCallback(i[0]):i[0];o=t.valueCallback?t.valueCallback(o):o;var a=e.slice(r.length);return{value:o,rest:a}}),era:f({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:f({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:f({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:f({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:f({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},g={code:"en-US",formatDistance:i,formatLong:a,formatRelative:u,localize:l,match:v,options:{weekStartsOn:0,firstWeekContainsDate:1}}},9948:function(e){"use strict";var t=function(e){return function(e){return!!e&&"object"===typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===n}(e)}(e)};var n="function"===typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function r(e,t){return!1!==t.clone&&t.isMergeableObject(e)?u((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function i(e,t,n){return e.concat(t).map((function(e){return r(e,n)}))}function o(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return e.propertyIsEnumerable(t)})):[]}(e))}function a(e,t){try{return t in e}catch(n){return!1}}function s(e,t,n){var i={};return n.isMergeableObject(e)&&o(e).forEach((function(t){i[t]=r(e[t],n)})),o(t).forEach((function(o){(function(e,t){return a(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,o)||(a(e,o)&&n.isMergeableObject(t[o])?i[o]=function(e,t){if(!t.customMerge)return u;var n=t.customMerge(e);return"function"===typeof n?n:u}(o,n)(e[o],t[o],n):i[o]=r(t[o],n))})),i}function u(e,n,o){(o=o||{}).arrayMerge=o.arrayMerge||i,o.isMergeableObject=o.isMergeableObject||t,o.cloneUnlessOtherwiseSpecified=r;var a=Array.isArray(n);return a===Array.isArray(e)?a?o.arrayMerge(e,n,o):s(e,n,o):r(n,o)}u.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return u(e,n,t)}),{})};var c=u;e.exports=c},2110:function(e,t,n){"use strict";var r=n(8309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var a=l(n);f&&(a=a.concat(f(n)));for(var s=u(t),v=u(n),g=0;g<a.length;++g){var m=a[g];if(!o[m]&&(!r||!r[m])&&(!v||!v[m])&&(!s||!s[m])){var y=h(n,m);try{c(t,m,y)}catch(b){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,m=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function _(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case o:case s:case a:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case g:case v:case u:return e;default:return t}}case i:return t}}}function x(e){return _(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=u,t.Element=r,t.ForwardRef=h,t.Fragment=o,t.Lazy=g,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=a,t.Suspense=d,t.isAsyncMode=function(e){return x(e)||_(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return _(e)===c},t.isContextProvider=function(e){return _(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return _(e)===h},t.isFragment=function(e){return _(e)===o},t.isLazy=function(e){return _(e)===g},t.isMemo=function(e){return _(e)===v},t.isPortal=function(e){return _(e)===i},t.isProfiler=function(e){return _(e)===s},t.isStrictMode=function(e){return _(e)===a},t.isSuspense=function(e){return _(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===f||e===s||e===a||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===v||e.$$typeof===u||e.$$typeof===c||e.$$typeof===h||e.$$typeof===y||e.$$typeof===b||e.$$typeof===w||e.$$typeof===m)},t.typeOf=_},8309:function(e,t,n){"use strict";e.exports=n(746)},348:function(e,t){!function(e){"use strict";function t(e){return Array.prototype.slice.call(e)}function n(e){return new Promise((function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function r(e,t,r){var i,o=new Promise((function(o,a){n(i=e[t].apply(e,r)).then(o,a)}));return o.request=i,o}function i(e,t,n){var i=r(e,t,n);return i.then((function(e){if(e)return new l(e,i.request)}))}function o(e,t,n){n.forEach((function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})}))}function a(e,t,n,i){i.forEach((function(i){i in n.prototype&&(e.prototype[i]=function(){return r(this[t],i,arguments)})}))}function s(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})}))}function u(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return i(this[t],r,arguments)})}))}function c(e){this._index=e}function l(e,t){this._cursor=e,this._request=t}function f(e){this._store=e}function h(e){this._tx=e,this.complete=new Promise((function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}}))}function d(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new h(n)}function p(e){this._db=e}function v(e,t,n){var i=r(indexedDB,"open",[e,t]),o=i.request;return o&&(o.onupgradeneeded=function(e){n&&n(new d(o.result,e.oldVersion,o.transaction))}),i.then((function(e){return new p(e)}))}function g(e){return r(indexedDB,"deleteDatabase",[e])}o(c,"_index",["name","keyPath","multiEntry","unique"]),a(c,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),u(c,"_index",IDBIndex,["openCursor","openKeyCursor"]),o(l,"_cursor",["direction","key","primaryKey","value"]),a(l,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(e){e in IDBCursor.prototype&&(l.prototype[e]=function(){var t=this,r=arguments;return Promise.resolve().then((function(){return t._cursor[e].apply(t._cursor,r),n(t._request).then((function(e){if(e)return new l(e,t._request)}))}))})})),f.prototype.createIndex=function(){return new c(this._store.createIndex.apply(this._store,arguments))},f.prototype.index=function(){return new c(this._store.index.apply(this._store,arguments))},o(f,"_store",["name","keyPath","indexNames","autoIncrement"]),a(f,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),u(f,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),s(f,"_store",IDBObjectStore,["deleteIndex"]),h.prototype.objectStore=function(){return new f(this._tx.objectStore.apply(this._tx,arguments))},o(h,"_tx",["objectStoreNames","mode"]),s(h,"_tx",IDBTransaction,["abort"]),d.prototype.createObjectStore=function(){return new f(this._db.createObjectStore.apply(this._db,arguments))},o(d,"_db",["name","version","objectStoreNames"]),s(d,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new h(this._db.transaction.apply(this._db,arguments))},o(p,"_db",["name","version","objectStoreNames"]),s(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(e){[f,c].forEach((function(n){e in n.prototype&&(n.prototype[e.replace("open","iterate")]=function(){var n=t(arguments),r=n[n.length-1],i=this._store||this._index,o=i[e].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})}))})),[c,f].forEach((function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise((function(i){n.iterateCursor(e,(function(e){e?(r.push(e.value),void 0===t||r.length!=t?e.continue():i(r)):i(r)}))}))})})),e.openDb=v,e.deleteDb=g,Object.defineProperty(e,"__esModule",{value:!0})}(t)},2176:function(e){"use strict";e.exports=function(e,t,n,r,i,o,a,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,a,s],l=0;(u=new Error(t.replace(/%s/g,(function(){return c[l++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}}},5102:function(e){function t(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),e)}}function n(e,t){e.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,t(null,e))}}e.exports=function(e,r,i){var o=document.head||document.getElementsByTagName("head")[0],a=document.createElement("script");"function"===typeof r&&(i=r,r={}),r=r||{},i=i||function(){},a.type=r.type||"text/javascript",a.charset=r.charset||"utf8",a.async=!("async"in r)||!!r.async,a.src=e,r.attrs&&function(e,t){for(var n in t)e.setAttribute(n,t[n])}(a,r.attrs),r.text&&(a.text=""+r.text),("onload"in a?t:n)(a,i),a.onload||t(a,i),o.appendChild(a)}},5781:function(e,t,n){"use strict";n.r(t);var r=Number.isNaN||function(e){return"number"===typeof e&&e!==e};function i(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(i=e[n],o=t[n],!(i===o||r(i)&&r(o)))return!1;var i,o;return!0}t.default=function(e,t){var n;void 0===t&&(t=i);var r,o=[],a=!1;return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return a&&n===this&&t(i,o)||(r=e.apply(this,i),a=!0,n=this,o=i),r}}},1725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,o){for(var a,s,u=i(e),c=1;c<arguments.length;c++){for(var l in a=Object(arguments[c]))n.call(a,l)&&(u[l]=a[l]);if(t){s=t(a);for(var f=0;f<s.length;f++)r.call(a,s[f])&&(u[s[f]]=a[s[f]])}}return u}},888:function(e,t,n){"use strict";var r=n(9047);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},2007:function(e,t,n){e.exports=n(888)()},9047:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},4463:function(e,t,n){"use strict";var r=n(2791),i=n(1725),o=n(5296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var s=new Set,u={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function g(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(v,e)||!d.call(p,e)&&(h.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,b);m[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,b);m[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,b);m[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var _=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=60103,S=60106,E=60107,k=60108,T=60114,C=60109,I=60110,P=60112,O=60113,A=60120,D=60115,N=60116,R=60121,j=60128,M=60129,L=60130,F=60131;if("function"===typeof Symbol&&Symbol.for){var U=Symbol.for;x=U("react.element"),S=U("react.portal"),E=U("react.fragment"),k=U("react.strict_mode"),T=U("react.profiler"),C=U("react.provider"),I=U("react.context"),P=U("react.forward_ref"),O=U("react.suspense"),A=U("react.suspense_list"),D=U("react.memo"),N=U("react.lazy"),R=U("react.block"),U("react.scope"),j=U("react.opaque.id"),M=U("react.debug_trace_mode"),L=U("react.offscreen"),F=U("react.legacy_hidden")}var B,q="function"===typeof Symbol&&Symbol.iterator;function V(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=q&&e[q]||e["@@iterator"])?e:null}function z(e){if(void 0===B)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);B=t&&t[1]||""}return"\n"+B+e}var W=!1;function H(e,t){if(!e||W)return"";W=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{W=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function K(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=H(e.type,!1);case 11:return e=H(e.type.render,!1);case 22:return e=H(e.type._render,!1);case 1:return e=H(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case S:return"Portal";case T:return"Profiler";case k:return"StrictMode";case O:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case P:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case D:return G(e.type);case R:return G(e._render);case N:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function Y(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function $(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Q(e){e._valueTracker||(e._valueTracker=function(e){var t=$(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=$(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Y(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Y(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Y(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function oe(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ae(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Y(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Y(n)}}function ce(e,t){var n=Y(t.value),r=Y(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",he="http://www.w3.org/2000/svg";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,ge,me=(ge=function(e,t){if(e.namespaceURI!==he||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ge(e,t)}))}:ge);function ye(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var be={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},we=["Webkit","ms","Moz","O"];function _e(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||be.hasOwnProperty(e)&&be[e]?(""+t).trim():t+"px"}function xe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=_e(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(be).forEach((function(e){we.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),be[t]=be[e]}))}));var Se=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ee(e,t){if(t){if(Se[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Te(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ce=null,Ie=null,Pe=null;function Oe(e){if(e=ri(e)){if("function"!==typeof Ce)throw Error(a(280));var t=e.stateNode;t&&(t=oi(t),Ce(e.stateNode,e.type,t))}}function Ae(e){Ie?Pe?Pe.push(e):Pe=[e]:Ie=e}function De(){if(Ie){var e=Ie,t=Pe;if(Pe=Ie=null,Oe(e),t)for(e=0;e<t.length;e++)Oe(t[e])}}function Ne(e,t){return e(t)}function Re(e,t,n,r,i){return e(t,n,r,i)}function je(){}var Me=Ne,Le=!1,Fe=!1;function Ue(){null===Ie&&null===Pe||(je(),De())}function Be(e,t){var n=e.stateNode;if(null===n)return null;var r=oi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var qe=!1;if(f)try{var Ve={};Object.defineProperty(Ve,"passive",{get:function(){qe=!0}}),window.addEventListener("test",Ve,Ve),window.removeEventListener("test",Ve,Ve)}catch(ge){qe=!1}function ze(e,t,n,r,i,o,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var We=!1,He=null,Ke=!1,Ge=null,Ye={onError:function(e){We=!0,He=e}};function $e(e,t,n,r,i,o,a,s,u){We=!1,He=null,ze.apply(Ye,arguments)}function Qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Xe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Je(e){if(Qe(e)!==e)throw Error(a(188))}function Ze(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Qe(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Je(i),e;if(o===r)return Je(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,ot=!1,at=[],st=null,ut=null,ct=null,lt=new Map,ft=new Map,ht=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function vt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":ut=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function gt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=pt(t,n,r,i,o),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function mt(e){var t=ni(e.target);if(null!==t){var n=Qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Xe(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){o.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function yt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function bt(e,t,n){yt(e)&&n.delete(t)}function wt(){for(ot=!1;0<at.length;){var e=at[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&at.shift()}null!==st&&yt(st)&&(st=null),null!==ut&&yt(ut)&&(ut=null),null!==ct&&yt(ct)&&(ct=null),lt.forEach(bt),ft.forEach(bt)}function _t(e,t){e.blockedOn===t&&(e.blockedOn=null,ot||(ot=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,wt)))}function xt(e){function t(t){return _t(t,e)}if(0<at.length){_t(at[0],e);for(var n=1;n<at.length;n++){var r=at[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==st&&_t(st,e),null!==ut&&_t(ut,e),null!==ct&&_t(ct,e),lt.forEach(t),ft.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)mt(n),null===n.blockedOn&&ht.shift()}function St(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Et={animationend:St("Animation","AnimationEnd"),animationiteration:St("Animation","AnimationIteration"),animationstart:St("Animation","AnimationStart"),transitionend:St("Transition","TransitionEnd")},kt={},Tt={};function Ct(e){if(kt[e])return kt[e];if(!Et[e])return e;var t,n=Et[e];for(t in n)if(n.hasOwnProperty(t)&&t in Tt)return kt[e]=n[t];return e}f&&(Tt=document.createElement("div").style,"AnimationEvent"in window||(delete Et.animationend.animation,delete Et.animationiteration.animation,delete Et.animationstart.animation),"TransitionEvent"in window||delete Et.transitionend.transition);var It=Ct("animationend"),Pt=Ct("animationiteration"),Ot=Ct("animationstart"),At=Ct("transitionend"),Dt=new Map,Nt=new Map,Rt=["abort","abort",It,"animationEnd",Pt,"animationIteration",Ot,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",At,"transitionEnd","waiting","waiting"];function jt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Nt.set(r,t),Dt.set(r,i),c(i,[r])}}(0,o.unstable_now)();var Mt=8;function Lt(e){if(0!==(1&e))return Mt=15,1;if(0!==(2&e))return Mt=14,2;if(0!==(4&e))return Mt=13,4;var t=24&e;return 0!==t?(Mt=12,t):0!==(32&e)?(Mt=11,32):0!==(t=192&e)?(Mt=10,t):0!==(256&e)?(Mt=9,256):0!==(t=3584&e)?(Mt=8,t):0!==(4096&e)?(Mt=7,4096):0!==(t=4186112&e)?(Mt=6,t):0!==(t=62914560&e)?(Mt=5,t):67108864&e?(Mt=4,67108864):0!==(134217728&e)?(Mt=3,134217728):0!==(t=805306368&e)?(Mt=2,t):0!==(1073741824&e)?(Mt=1,1073741824):(Mt=8,e)}function Ft(e,t){var n=e.pendingLanes;if(0===n)return Mt=0;var r=0,i=0,o=e.expiredLanes,a=e.suspendedLanes,s=e.pingedLanes;if(0!==o)r=o,i=Mt=15;else if(0!==(o=134217727&n)){var u=o&~a;0!==u?(r=Lt(u),i=Mt):0!==(s&=o)&&(r=Lt(s),i=Mt)}else 0!==(o=n&~a)?(r=Lt(o),i=Mt):0!==s&&(r=Lt(s),i=Mt);if(0===r)return 0;if(r=n&((0>(r=31-Wt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&a)){if(Lt(t),i<=Mt)return t;Mt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Wt(t)),r|=e[n],t&=~i;return r}function Ut(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Bt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=qt(24&~t))?Bt(10,t):e;case 10:return 0===(e=qt(192&~t))?Bt(8,t):e;case 8:return 0===(e=qt(3584&~t))&&(0===(e=qt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=qt(805306368&~t))&&(t=268435456),t}throw Error(a(358,e))}function qt(e){return e&-e}function Vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function zt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Wt(t)]=n}var Wt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Ht(e)/Kt|0)|0},Ht=Math.log,Kt=Math.LN2;var Gt=o.unstable_UserBlockingPriority,Yt=o.unstable_runWithPriority,$t=!0;function Qt(e,t,n,r){Le||je();var i=Jt,o=Le;Le=!0;try{Re(i,e,t,n,r)}finally{(Le=o)||Ue()}}function Xt(e,t,n,r){Yt(Gt,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){var i;if($t)if((i=0===(4&t))&&0<at.length&&-1<dt.indexOf(e))e=pt(null,e,t,n,r),at.push(e);else{var o=Zt(e,t,n,r);if(null===o)i&&vt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=pt(o,e,t,n,r),void at.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return st=gt(st,e,t,n,r,i),!0;case"dragenter":return ut=gt(ut,e,t,n,r,i),!0;case"mouseover":return ct=gt(ct,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return lt.set(o,gt(lt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ft.set(o,gt(ft.get(o)||null,e,t,n,r,i)),!0}return!1}(o,e,t,n,r))return;vt(e,r)}jr(e,t,r,null,n)}}}function Zt(e,t,n,r){var i=Te(r);if(null!==(i=ni(i))){var o=Qe(i);if(null===o)i=null;else{var a=o.tag;if(13===a){if(null!==(i=Xe(o)))return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return jr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function on(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function an(){return!0}function sn(){return!1}function un(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?an:sn,this.isPropagationStopped=sn,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=an)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=an)},persist:function(){},isPersistent:an}),t}var cn,ln,fn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=un(hn),pn=i({},hn,{view:0,detail:0}),vn=un(pn),gn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:In,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&"mousemove"===e.type?(cn=e.screenX-fn.screenX,ln=e.screenY-fn.screenY):ln=cn=0,fn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),mn=un(gn),yn=un(i({},gn,{dataTransfer:0})),bn=un(i({},pn,{relatedTarget:0})),wn=un(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),_n=i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=un(_n),Sn=un(i({},hn,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Tn[e])&&!!t[e]}function In(){return Cn}var Pn=i({},pn,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=on(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:In,charCode:function(e){return"keypress"===e.type?on(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?on(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),On=un(Pn),An=un(i({},gn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Dn=un(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:In})),Nn=un(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=i({},gn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),jn=un(Rn),Mn=[9,13,27,32],Ln=f&&"CompositionEvent"in window,Fn=null;f&&"documentMode"in document&&(Fn=document.documentMode);var Un=f&&"TextEvent"in window&&!Fn,Bn=f&&(!Ln||Fn&&8<Fn&&11>=Fn),qn=String.fromCharCode(32),Vn=!1;function zn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1;var Kn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Kn[e.type]:"textarea"===t}function Yn(e,t,n,r){Ae(r),0<(t=Lr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var $n=null,Qn=null;function Xn(e){Pr(e,0)}function Jn(e){if(X(ii(e)))return e}function Zn(e,t){if("change"===e)return t}var er=!1;if(f){var tr;if(f){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){$n&&($n.detachEvent("onpropertychange",or),Qn=$n=null)}function or(e){if("value"===e.propertyName&&Jn(Qn)){var t=[];if(Yn(t,Qn,e,Te(e)),e=Xn,Le)e(t);else{Le=!0;try{Ne(e,t)}finally{Le=!1,Ue()}}}}function ar(e,t,n){"focusin"===e?(ir(),Qn=n,($n=t).attachEvent("onpropertychange",or)):"focusout"===e&&ir()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Qn)}function ur(e,t){if("click"===e)return Jn(t)}function cr(e,t){if("input"===e||"change"===e)return Jn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},fr=Object.prototype.hasOwnProperty;function hr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!fr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function vr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?vr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function gr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function mr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var yr=f&&"documentMode"in document&&11>=document.documentMode,br=null,wr=null,_r=null,xr=!1;function Sr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xr||null==br||br!==J(r)||("selectionStart"in(r=br)&&mr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},_r&&hr(_r,r)||(_r=r,0<(r=Lr(wr,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=br)))}jt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),jt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),jt(Rt,2);for(var Er="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),kr=0;kr<Er.length;kr++)Nt.set(Er[kr],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tr));function Ir(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,c){if($e.apply(this,arguments),We){if(!We)throw Error(a(198));var l=He;We=!1,He=null,Ke||(Ke=!0,Ge=l)}}(r,t,void 0,e),e.currentTarget=null}function Pr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break e;Ir(i,s,c),o=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,c=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break e;Ir(i,s,c),o=u}}}if(Ke)throw e=Ge,Ke=!1,Ge=null,e}function Or(e,t){var n=ai(t),r=e+"__bubble";n.has(r)||(Rr(t,e,2,!1),n.add(r))}var Ar="_reactListening"+Math.random().toString(36).slice(2);function Dr(e){e[Ar]||(e[Ar]=!0,s.forEach((function(t){Cr.has(t)||Nr(t,!1,e,null),Nr(t,!0,e,null)})))}function Nr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!t&&Cr.has(e)){if("scroll"!==e)return;i|=2,o=r}var a=ai(o),s=e+"__"+(t?"capture":"bubble");a.has(s)||(t&&(i|=4),Rr(o,e,i,t),a.add(s))}function Rr(e,t,n,r){var i=Nt.get(t);switch(void 0===i?2:i){case 0:i=Qt;break;case 1:i=Xt;break;default:i=Jt}n=i.bind(null,t,n,e),i=void 0,!qe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function jr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=ni(s)))return;if(5===(u=a.tag)||6===u){r=o=a;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Fe)return e(t,n);Fe=!0;try{Me(e,t,n)}finally{Fe=!1,Ue()}}((function(){var r=o,i=Te(n),a=[];e:{var s=Dt.get(e);if(void 0!==s){var u=dn,c=e;switch(e){case"keypress":if(0===on(n))break e;case"keydown":case"keyup":u=On;break;case"focusin":c="focus",u=bn;break;case"focusout":c="blur",u=bn;break;case"beforeblur":case"afterblur":u=bn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=yn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Dn;break;case It:case Pt:case Ot:u=wn;break;case At:u=Nn;break;case"scroll":u=vn;break;case"wheel":u=jn;break;case"copy":case"cut":case"paste":u=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=An}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Be(p,h))&&l.push(Mr(p,v,d)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),a.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ni(c)&&!c[ei])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?ni(c):null)&&(c!==(f=Qe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=mn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=An,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:ii(u),d=null==c?s:ii(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,ni(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(h=c,p=0,d=l=u;d;d=Fr(d))p++;for(d=0,v=h;v;v=Fr(v))d++;for(;0<p-d;)l=Fr(l),p--;for(;0<d-p;)h=Fr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Fr(l),h=Fr(h)}l=null}else l=null;null!==u&&Ur(a,s,u,l,!1),null!==c&&null!==f&&Ur(a,f,c,l,!0)}if("select"===(u=(s=r?ii(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var g=Zn;else if(Gn(s))if(er)g=cr;else{g=sr;var m=ar}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=ur);switch(g&&(g=g(e,r))?Yn(a,g,n,i):(m&&m(e,s,r),"focusout"===e&&(m=s._wrapperState)&&m.controlled&&"number"===s.type&&ie(s,"number",s.value)),m=r?ii(r):window,e){case"focusin":(Gn(m)||"true"===m.contentEditable)&&(br=m,wr=r,_r=null);break;case"focusout":_r=wr=br=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,Sr(a,n,i);break;case"selectionchange":if(yr)break;case"keydown":case"keyup":Sr(a,n,i)}var y;if(Ln)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Hn?zn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Bn&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Hn&&(y=rn()):(tn="value"in(en=i)?en.value:en.textContent,Hn=!0)),0<(m=Lr(r,b)).length&&(b=new Sn(b,e,null,n,i),a.push({event:b,listeners:m}),y?b.data=y:null!==(y=Wn(n))&&(b.data=y))),(y=Un?function(e,t){switch(e){case"compositionend":return Wn(t);case"keypress":return 32!==t.which?null:(Vn=!0,qn);case"textInput":return(e=t.data)===qn&&Vn?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!Ln&&zn(e,t)?(e=rn(),nn=tn=en=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Bn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Lr(r,"onBeforeInput")).length&&(i=new Sn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Pr(a,t)}))}function Mr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Lr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Be(e,n))&&r.unshift(Mr(e,o,i)),null!=(o=Be(e,t))&&r.push(Mr(e,o,i))),e=e.return}return r}function Fr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ur(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Be(n,o))&&a.unshift(Mr(n,u,s)):i||null!=(u=Be(n,o))&&a.push(Mr(n,u,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}function Br(){}var qr=null,Vr=null;function zr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Wr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Hr="function"===typeof setTimeout?setTimeout:void 0,Kr="function"===typeof clearTimeout?clearTimeout:void 0;function Gr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Yr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function $r(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Qr=0;var Xr=Math.random().toString(36).slice(2),Jr="__reactFiber$"+Xr,Zr="__reactProps$"+Xr,ei="__reactContainer$"+Xr,ti="__reactEvents$"+Xr;function ni(e){var t=e[Jr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[Jr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=$r(e);null!==e;){if(n=e[Jr])return n;e=$r(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[Jr]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function oi(e){return e[Zr]||null}function ai(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var si=[],ui=-1;function ci(e){return{current:e}}function li(e){0>ui||(e.current=si[ui],si[ui]=null,ui--)}function fi(e,t){ui++,si[ui]=e.current,e.current=t}var hi={},di=ci(hi),pi=ci(!1),vi=hi;function gi(e,t){var n=e.type.contextTypes;if(!n)return hi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function mi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function yi(){li(pi),li(di)}function bi(e,t,n){if(di.current!==hi)throw Error(a(168));fi(di,t),fi(pi,n)}function wi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(a(108,G(t)||"Unknown",o));return i({},n,r)}function _i(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hi,vi=di.current,fi(di,e),fi(pi,pi.current),!0}function xi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=wi(e,t,vi),r.__reactInternalMemoizedMergedChildContext=e,li(pi),li(di),fi(di,e)):li(pi),fi(pi,n)}var Si=null,Ei=null,ki=o.unstable_runWithPriority,Ti=o.unstable_scheduleCallback,Ci=o.unstable_cancelCallback,Ii=o.unstable_shouldYield,Pi=o.unstable_requestPaint,Oi=o.unstable_now,Ai=o.unstable_getCurrentPriorityLevel,Di=o.unstable_ImmediatePriority,Ni=o.unstable_UserBlockingPriority,Ri=o.unstable_NormalPriority,ji=o.unstable_LowPriority,Mi=o.unstable_IdlePriority,Li={},Fi=void 0!==Pi?Pi:function(){},Ui=null,Bi=null,qi=!1,Vi=Oi(),zi=1e4>Vi?Oi:function(){return Oi()-Vi};function Wi(){switch(Ai()){case Di:return 99;case Ni:return 98;case Ri:return 97;case ji:return 96;case Mi:return 95;default:throw Error(a(332))}}function Hi(e){switch(e){case 99:return Di;case 98:return Ni;case 97:return Ri;case 96:return ji;case 95:return Mi;default:throw Error(a(332))}}function Ki(e,t){return e=Hi(e),ki(e,t)}function Gi(e,t,n){return e=Hi(e),Ti(e,t,n)}function Yi(){if(null!==Bi){var e=Bi;Bi=null,Ci(e)}$i()}function $i(){if(!qi&&null!==Ui){qi=!0;var e=0;try{var t=Ui;Ki(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ui=null}catch(n){throw null!==Ui&&(Ui=Ui.slice(e+1)),Ti(Di,Yi),n}finally{qi=!1}}}var Qi=_.ReactCurrentBatchConfig;function Xi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Ji=ci(null),Zi=null,eo=null,to=null;function no(){to=eo=Zi=null}function ro(e){var t=Ji.current;li(Ji),e.type._context._currentValue=t}function io(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function oo(e,t){Zi=e,to=eo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(La=!0),e.firstContext=null)}function ao(e,t){if(to!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(to=e,t=1073741823),t={context:e,observedBits:t,next:null},null===eo){if(null===Zi)throw Error(a(308));eo=t,Zi.dependencies={lanes:0,firstContext:t,responders:null}}else eo=eo.next=t;return e._currentValue}var so=!1;function uo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function co(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function lo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fo(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ho(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function po(e,t,n,r){var o=e.updateQueue;so=!1;var a=o.firstBaseUpdate,s=o.lastBaseUpdate,u=o.shared.pending;if(null!==u){o.shared.pending=null;var c=u,l=c.next;c.next=null,null===s?a=l:s.next=l,s=c;var f=e.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==s&&(null===h?f.firstBaseUpdate=l:h.next=l,f.lastBaseUpdate=c)}}if(null!==a){for(h=o.baseState,s=0,f=l=c=null;;){u=a.lane;var d=a.eventTime;if((r&u)===u){null!==f&&(f=f.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,v=a;switch(u=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,u);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(u="function"===typeof(p=v.payload)?p.call(d,h,u):p)||void 0===u)break e;h=i({},h,u);break e;case 2:so=!0}}null!==a.callback&&(e.flags|=32,null===(u=o.effects)?o.effects=[a]:u.push(a))}else d={eventTime:d,lane:u,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===f?(l=f=d,c=h):f=f.next=d,s|=u;if(null===(a=a.next)){if(null===(u=o.shared.pending))break;a=u.next,u.next=null,o.lastBaseUpdate=u,o.shared.pending=null}}null===f&&(c=h),o.baseState=c,o.firstBaseUpdate=l,o.lastBaseUpdate=f,qs|=s,e.lanes=s,e.memoizedState=h}}function vo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var go=(new r.Component).refs;function mo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var yo={isMounted:function(e){return!!(e=e._reactInternals)&&Qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hu(),i=du(e),o=lo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),fo(e,o),pu(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hu(),i=du(e),o=lo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),fo(e,o),pu(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hu(),r=du(e),i=lo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),fo(e,i),pu(e,r,n)}};function bo(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!hr(n,r)||!hr(i,o))}function wo(e,t,n){var r=!1,i=hi,o=t.contextType;return"object"===typeof o&&null!==o?o=ao(o):(i=mi(t)?vi:di.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?gi(e,i):hi),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=yo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function _o(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&yo.enqueueReplaceState(t,t.state,null)}function xo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=go,uo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=ao(o):(o=mi(t)?vi:di.current,i.context=gi(e,o)),po(e,n,i,r),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(mo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&yo.enqueueReplaceState(i,i.state,null),po(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var So=Array.isArray;function Eo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===go&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function ko(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function To(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ku(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Qu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Eo(e,t,n),r.return=e,r):((r=Gu(n.type,n.key,n.props,null,e.mode,r)).ref=Eo(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Xu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,o){return null===t||7!==t.tag?((t=Yu(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Qu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Gu(t.type,t.key,t.props,null,e.mode,n)).ref=Eo(e,null,t),n.return=e,n;case S:return(t=Xu(t,e.mode,n)).return=e,t}if(So(t)||V(t))return(t=Yu(t,e.mode,n,null)).return=e,t;ko(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?n.type===E?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case S:return n.key===i?l(e,t,n,r):null}if(So(n)||V(n))return null!==i?null:f(e,t,n,r,null);ko(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return e=e.get(null===r.key?n:r.key)||null,r.type===E?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case S:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(So(r)||V(r))return f(t,e=e.get(n)||null,r,i,null);ko(t,r)}return null}function v(i,a,s,u){for(var c=null,l=null,f=a,v=a=0,g=null;null!==f&&v<s.length;v++){f.index>v?(g=f,f=null):g=f.sibling;var m=d(i,f,s[v],u);if(null===m){null===f&&(f=g);break}e&&f&&null===m.alternate&&t(i,f),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m,f=g}if(v===s.length)return n(i,f),c;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<s.length;v++)null!==(g=p(f,i,v,s[v],u))&&(e&&null!==g.alternate&&f.delete(null===g.key?v:g.key),a=o(g,a,v),null===l?c=g:l.sibling=g,l=g);return e&&f.forEach((function(e){return t(i,e)})),c}function g(i,s,u,c){var l=V(u);if("function"!==typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var f=l=null,v=s,g=s=0,m=null,y=u.next();null!==v&&!y.done;g++,y=u.next()){v.index>g?(m=v,v=null):m=v.sibling;var b=d(i,v,y.value,c);if(null===b){null===v&&(v=m);break}e&&v&&null===b.alternate&&t(i,v),s=o(b,s,g),null===f?l=b:f.sibling=b,f=b,v=m}if(y.done)return n(i,v),l;if(null===v){for(;!y.done;g++,y=u.next())null!==(y=h(i,y.value,c))&&(s=o(y,s,g),null===f?l=y:f.sibling=y,f=y);return l}for(v=r(i,v);!y.done;g++,y=u.next())null!==(y=p(v,i,g,y.value,c))&&(e&&null!==y.alternate&&v.delete(null===y.key?g:y.key),s=o(y,s,g),null===f?l=y:f.sibling=y,f=y);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,o,u){var c="object"===typeof o&&null!==o&&o.type===E&&null===o.key;c&&(o=o.props.children);var l="object"===typeof o&&null!==o;if(l)switch(o.$$typeof){case x:e:{for(l=o.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(o.type===E){n(e,c.sibling),(r=i(c,o.props.children)).return=e,e=r;break e}}else if(c.elementType===o.type){n(e,c.sibling),(r=i(c,o.props)).ref=Eo(e,c,o),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}o.type===E?((r=Yu(o.props.children,e.mode,u,o.key)).return=e,e=r):((u=Gu(o.type,o.key,o.props,null,e.mode,u)).ref=Eo(e,r,o),u.return=e,e=u)}return s(e);case S:e:{for(c=o.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Xu(o,e.mode,u)).return=e,e=r}return s(e)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Qu(o,e.mode,u)).return=e,e=r),s(e);if(So(o))return v(e,r,o,u);if(V(o))return g(e,r,o,u);if(l&&ko(e,o),"undefined"===typeof o&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,G(e.type)||"Component"))}return n(e,r)}}var Co=To(!0),Io=To(!1),Po={},Oo=ci(Po),Ao=ci(Po),Do=ci(Po);function No(e){if(e===Po)throw Error(a(174));return e}function Ro(e,t){switch(fi(Do,t),fi(Ao,e),fi(Oo,Po),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Oo),fi(Oo,t)}function jo(){li(Oo),li(Ao),li(Do)}function Mo(e){No(Do.current);var t=No(Oo.current),n=pe(t,e.type);t!==n&&(fi(Ao,e),fi(Oo,n))}function Lo(e){Ao.current===e&&(li(Oo),li(Ao))}var Fo=ci(0);function Uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Bo=null,qo=null,Vo=!1;function zo(e,t){var n=Wu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Wo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Ho(e){if(Vo){var t=qo;if(t){var n=t;if(!Wo(e,t)){if(!(t=Yr(n.nextSibling))||!Wo(e,t))return e.flags=-1025&e.flags|2,Vo=!1,void(Bo=e);zo(Bo,n)}Bo=e,qo=Yr(t.firstChild)}else e.flags=-1025&e.flags|2,Vo=!1,Bo=e}}function Ko(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Bo=e}function Go(e){if(e!==Bo)return!1;if(!Vo)return Ko(e),Vo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Wr(t,e.memoizedProps))for(t=qo;t;)zo(e,t),t=Yr(t.nextSibling);if(Ko(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){qo=Yr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}qo=null}}else qo=Bo?Yr(e.stateNode.nextSibling):null;return!0}function Yo(){qo=Bo=null,Vo=!1}var $o=[];function Qo(){for(var e=0;e<$o.length;e++)$o[e]._workInProgressVersionPrimary=null;$o.length=0}var Xo=_.ReactCurrentDispatcher,Jo=_.ReactCurrentBatchConfig,Zo=0,ea=null,ta=null,na=null,ra=!1,ia=!1;function oa(){throw Error(a(321))}function aa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function sa(e,t,n,r,i,o){if(Zo=o,ea=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Xo.current=null===e||null===e.memoizedState?Na:Ra,e=n(r,i),ia){o=0;do{if(ia=!1,!(25>o))throw Error(a(301));o+=1,na=ta=null,t.updateQueue=null,Xo.current=ja,e=n(r,i)}while(ia)}if(Xo.current=Da,t=null!==ta&&null!==ta.next,Zo=0,na=ta=ea=null,ra=!1,t)throw Error(a(300));return e}function ua(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===na?ea.memoizedState=na=e:na=na.next=e,na}function ca(){if(null===ta){var e=ea.alternate;e=null!==e?e.memoizedState:null}else e=ta.next;var t=null===na?ea.memoizedState:na.next;if(null!==t)na=t,ta=e;else{if(null===e)throw Error(a(310));e={memoizedState:(ta=e).memoizedState,baseState:ta.baseState,baseQueue:ta.baseQueue,queue:ta.queue,next:null},null===na?ea.memoizedState=na=e:na=na.next=e}return na}function la(e,t){return"function"===typeof t?t(e):t}function fa(e){var t=ca(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=ta,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=o=null,c=i;do{var l=c.lane;if((Zo&l)===l)null!==u&&(u=u.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=f,o=r):u=u.next=f,ea.lanes|=l,qs|=l}c=c.next}while(null!==c&&c!==i);null===u?o=r:u.next=s,lr(r,t.memoizedState)||(La=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function ha(e){var t=ca(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);lr(o,t.memoizedState)||(La=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function da(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Zo&e)===e)&&(t._workInProgressVersionPrimary=r,$o.push(t))),e)return n(t._source);throw $o.push(t),Error(a(350))}function pa(e,t,n,r){var i=Ns;if(null===i)throw Error(a(349));var o=t._getVersion,s=o(t._source),u=Xo.current,c=u.useState((function(){return da(i,t,n)})),l=c[1],f=c[0];c=na;var h=e.memoizedState,d=h.refs,p=d.getSnapshot,v=h.source;h=h.subscribe;var g=ea;return e.memoizedState={refs:d,source:t,subscribe:r},u.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=o(t._source);if(!lr(s,e)){e=n(t._source),lr(f,e)||(l(e),e=du(g),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,a=e;0<a;){var u=31-Wt(a),c=1<<u;r[u]|=e,a&=~c}}}),[n,t,r]),u.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=du(g);i.mutableReadLanes|=r&i.pendingLanes}catch(o){n((function(){throw o}))}}))}),[t,r]),lr(p,n)&&lr(v,t)&&lr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:la,lastRenderedState:f}).dispatch=l=Aa.bind(null,ea,e),c.queue=e,c.baseQueue=null,f=da(i,t,n),c.memoizedState=c.baseState=f),f}function va(e,t,n){return pa(ca(),e,t,n)}function ga(e){var t=ua();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:la,lastRenderedState:e}).dispatch=Aa.bind(null,ea,e),[t.memoizedState,e]}function ma(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ea.updateQueue)?(t={lastEffect:null},ea.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ya(e){return e={current:e},ua().memoizedState=e}function ba(){return ca().memoizedState}function wa(e,t,n,r){var i=ua();ea.flags|=e,i.memoizedState=ma(1|t,n,void 0,void 0===r?null:r)}function _a(e,t,n,r){var i=ca();r=void 0===r?null:r;var o=void 0;if(null!==ta){var a=ta.memoizedState;if(o=a.destroy,null!==r&&aa(r,a.deps))return void ma(t,n,o,r)}ea.flags|=e,i.memoizedState=ma(1|t,n,o,r)}function xa(e,t){return wa(516,4,e,t)}function Sa(e,t){return _a(516,4,e,t)}function Ea(e,t){return _a(4,2,e,t)}function ka(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ta(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,_a(4,2,ka.bind(null,t,e),n)}function Ca(){}function Ia(e,t){var n=ca();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&aa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Pa(e,t){var n=ca();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&aa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Oa(e,t){var n=Wi();Ki(98>n?98:n,(function(){e(!0)})),Ki(97<n?97:n,(function(){var n=Jo.transition;Jo.transition=1;try{e(!1),t()}finally{Jo.transition=n}}))}function Aa(e,t,n){var r=hu(),i=du(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),t.pending=o,a=e.alternate,e===ea||null!==a&&a===ea)ia=ra=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=a(s,n);if(o.eagerReducer=a,o.eagerState=u,lr(u,s))return}catch(c){}pu(e,i,r)}}var Da={readContext:ao,useCallback:oa,useContext:oa,useEffect:oa,useImperativeHandle:oa,useLayoutEffect:oa,useMemo:oa,useReducer:oa,useRef:oa,useState:oa,useDebugValue:oa,useDeferredValue:oa,useTransition:oa,useMutableSource:oa,useOpaqueIdentifier:oa,unstable_isNewReconciler:!1},Na={readContext:ao,useCallback:function(e,t){return ua().memoizedState=[e,void 0===t?null:t],e},useContext:ao,useEffect:xa,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wa(4,2,ka.bind(null,t,e),n)},useLayoutEffect:function(e,t){return wa(4,2,e,t)},useMemo:function(e,t){var n=ua();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ua();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Aa.bind(null,ea,e),[r.memoizedState,e]},useRef:ya,useState:ga,useDebugValue:Ca,useDeferredValue:function(e){var t=ga(e),n=t[0],r=t[1];return xa((function(){var t=Jo.transition;Jo.transition=1;try{r(e)}finally{Jo.transition=t}}),[e]),n},useTransition:function(){var e=ga(!1),t=e[0];return ya(e=Oa.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=ua();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},pa(r,e,t,n)},useOpaqueIdentifier:function(){if(Vo){var e=!1,t=function(e){return{$$typeof:j,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Qr++).toString(36))),Error(a(355))})),n=ga(t)[1];return 0===(2&ea.mode)&&(ea.flags|=516,ma(5,(function(){n("r:"+(Qr++).toString(36))}),void 0,null)),t}return ga(t="r:"+(Qr++).toString(36)),t},unstable_isNewReconciler:!1},Ra={readContext:ao,useCallback:Ia,useContext:ao,useEffect:Sa,useImperativeHandle:Ta,useLayoutEffect:Ea,useMemo:Pa,useReducer:fa,useRef:ba,useState:function(){return fa(la)},useDebugValue:Ca,useDeferredValue:function(e){var t=fa(la),n=t[0],r=t[1];return Sa((function(){var t=Jo.transition;Jo.transition=1;try{r(e)}finally{Jo.transition=t}}),[e]),n},useTransition:function(){var e=fa(la)[0];return[ba().current,e]},useMutableSource:va,useOpaqueIdentifier:function(){return fa(la)[0]},unstable_isNewReconciler:!1},ja={readContext:ao,useCallback:Ia,useContext:ao,useEffect:Sa,useImperativeHandle:Ta,useLayoutEffect:Ea,useMemo:Pa,useReducer:ha,useRef:ba,useState:function(){return ha(la)},useDebugValue:Ca,useDeferredValue:function(e){var t=ha(la),n=t[0],r=t[1];return Sa((function(){var t=Jo.transition;Jo.transition=1;try{r(e)}finally{Jo.transition=t}}),[e]),n},useTransition:function(){var e=ha(la)[0];return[ba().current,e]},useMutableSource:va,useOpaqueIdentifier:function(){return ha(la)[0]},unstable_isNewReconciler:!1},Ma=_.ReactCurrentOwner,La=!1;function Fa(e,t,n,r){t.child=null===e?Io(t,null,n,r):Co(t,e.child,n,r)}function Ua(e,t,n,r,i){n=n.render;var o=t.ref;return oo(t,i),r=sa(e,t,n,r,o,i),null===e||La?(t.flags|=1,Fa(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,os(e,t,i))}function Ba(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!==typeof a||Hu(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Gu(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,qa(e,t,a,r,i,o))}return a=e.child,0===(i&o)&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:hr)(i,r)&&e.ref===t.ref)?os(e,t,o):(t.flags|=1,(e=Ku(a,r)).ref=t.ref,e.return=t,t.child=e)}function qa(e,t,n,r,i,o){if(null!==e&&hr(e.memoizedProps,r)&&e.ref===t.ref){if(La=!1,0===(o&i))return t.lanes=e.lanes,os(e,t,o);0!==(16384&e.flags)&&(La=!0)}return Wa(e,t,n,r,o)}function Va(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},xu(t,n);else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},xu(t,e),null;t.memoizedState={baseLanes:0},xu(t,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,xu(t,r);return Fa(e,t,i,n),t.child}function za(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Wa(e,t,n,r,i){var o=mi(n)?vi:di.current;return o=gi(t,o),oo(t,i),n=sa(e,t,n,r,o,i),null===e||La?(t.flags|=1,Fa(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,os(e,t,i))}function Ha(e,t,n,r,i){if(mi(n)){var o=!0;_i(t)}else o=!1;if(oo(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),wo(t,n,r),xo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=ao(c):c=gi(t,c=mi(n)?vi:di.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;f||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==c)&&_o(t,a,r,c),so=!1;var h=t.memoizedState;a.state=h,po(t,r,a,i),u=t.memoizedState,s!==r||h!==u||pi.current||so?("function"===typeof l&&(mo(t,n,l,r),u=t.memoizedState),(s=so||bo(t,n,s,r,h,u,c))?(f||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4)):("function"===typeof a.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4),r=!1)}else{a=t.stateNode,co(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Xi(t.type,s),a.props=c,f=t.pendingProps,h=a.context,"object"===typeof(u=n.contextType)&&null!==u?u=ao(u):u=gi(t,u=mi(n)?vi:di.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==f||h!==u)&&_o(t,a,r,u),so=!1,h=t.memoizedState,a.state=h,po(t,r,a,i);var p=t.memoizedState;s!==f||h!==p||pi.current||so?("function"===typeof d&&(mo(t,n,d,r),p=t.memoizedState),(c=so||bo(t,n,c,r,h,p,u))?(l||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=u,r=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Ka(e,t,n,r,o,i)}function Ka(e,t,n,r,i,o){za(e,t);var a=0!==(64&t.flags);if(!r&&!a)return i&&xi(t,n,!1),os(e,t,o);r=t.stateNode,Ma.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Co(t,e.child,null,o),t.child=Co(t,null,s,o)):Fa(e,t,s,o),t.memoizedState=r.state,i&&xi(t,n,!0),t.child}function Ga(e){var t=e.stateNode;t.pendingContext?bi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&bi(0,t.context,!1),Ro(e,t.containerInfo)}var Ya,$a,Qa,Xa={dehydrated:null,retryLane:0};function Ja(e,t,n){var r,i=t.pendingProps,o=Fo.current,a=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),fi(Fo,1&o),null===e?(void 0!==i.fallback&&Ho(t),e=i.children,o=i.fallback,a?(e=Za(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Xa,e):"number"===typeof i.unstable_expectedLoadTime?(e=Za(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Xa,t.lanes=33554432,e):((n=$u({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,a?(i=ts(e,t,i.children,i.fallback,n),a=t.child,o=e.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=e.childLanes&~n,t.memoizedState=Xa,i):(n=es(e,t,i.children,n),t.memoizedState=null,n))}function Za(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=$u(t,i,0,null),n=Yu(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function es(e,t,n,r){var i=e.child;return e=i.sibling,n=Ku(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function ts(e,t,n,r,i){var o=t.mode,a=e.child;e=a.sibling;var s={mode:"hidden",children:n};return 0===(2&o)&&t.child!==a?((n=t.child).childLanes=0,n.pendingProps=s,null!==(a=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Ku(a,s),null!==e?r=Ku(e,r):(r=Yu(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ns(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),io(e.return,t)}function rs(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function is(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Fa(e,t,r.children,n),0!==(2&(r=Fo.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ns(e,n);else if(19===e.tag)ns(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fi(Fo,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),rs(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}rs(t,!0,n,null,o,t.lastEffect);break;case"together":rs(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function os(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),qs|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Ku(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ku(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function as(e,t){if(!Vo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ss(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return mi(t.type)&&yi(),null;case 3:return jo(),li(pi),li(di),Qo(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Go(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Lo(t);var o=No(Do.current);if(n=t.type,null!==e&&null!=t.stateNode)$a(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=No(Oo.current),Go(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Jr]=t,r[Zr]=s,n){case"dialog":Or("cancel",r),Or("close",r);break;case"iframe":case"object":case"embed":Or("load",r);break;case"video":case"audio":for(e=0;e<Tr.length;e++)Or(Tr[e],r);break;case"source":Or("error",r);break;case"img":case"image":case"link":Or("error",r),Or("load",r);break;case"details":Or("toggle",r);break;case"input":ee(r,s),Or("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Or("invalid",r);break;case"textarea":ue(r,s),Or("invalid",r)}for(var c in Ee(n,s),e=null,s)s.hasOwnProperty(c)&&(o=s[c],"children"===c?"string"===typeof o?r.textContent!==o&&(e=["children",o]):"number"===typeof o&&r.textContent!==""+o&&(e=["children",""+o]):u.hasOwnProperty(c)&&null!=o&&"onScroll"===c&&Or("scroll",r));switch(n){case"input":Q(r),re(r,s,!0);break;case"textarea":Q(r),le(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Br)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===o.nodeType?o:o.ownerDocument,e===fe&&(e=de(n)),e===fe?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Jr]=t,e[Zr]=r,Ya(e,t),t.stateNode=e,c=ke(n,r),n){case"dialog":Or("cancel",e),Or("close",e),o=r;break;case"iframe":case"object":case"embed":Or("load",e),o=r;break;case"video":case"audio":for(o=0;o<Tr.length;o++)Or(Tr[o],e);o=r;break;case"source":Or("error",e),o=r;break;case"img":case"image":case"link":Or("error",e),Or("load",e),o=r;break;case"details":Or("toggle",e),o=r;break;case"input":ee(e,r),o=Z(e,r),Or("invalid",e);break;case"option":o=oe(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),Or("invalid",e);break;case"textarea":ue(e,r),o=se(e,r),Or("invalid",e);break;default:o=r}Ee(n,o);var l=o;for(s in l)if(l.hasOwnProperty(s)){var f=l[s];"style"===s?xe(e,f):"dangerouslySetInnerHTML"===s?null!=(f=f?f.__html:void 0)&&me(e,f):"children"===s?"string"===typeof f?("textarea"!==n||""!==f)&&ye(e,f):"number"===typeof f&&ye(e,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=f&&"onScroll"===s&&Or("scroll",e):null!=f&&w(e,s,f,c))}switch(n){case"input":Q(e),re(e,r,!1);break;case"textarea":Q(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Y(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ae(e,!!r.multiple,s,!1):null!=r.defaultValue&&ae(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=Br)}zr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Qa(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));n=No(Do.current),No(Oo.current),Go(t)?(r=t.stateNode,n=t.memoizedProps,r[Jr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Jr]=t,t.stateNode=r)}return null;case 13:return li(Fo),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Go(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Fo.current)?0===Fs&&(Fs=3):(0!==Fs&&3!==Fs||(Fs=4),null===Ns||0===(134217727&qs)&&0===(134217727&Vs)||yu(Ns,js))),(r||n)&&(t.flags|=4),null);case 4:return jo(),null===e&&Dr(t.stateNode.containerInfo),null;case 10:return ro(t),null;case 19:if(li(Fo),null===(r=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(c=r.rendering))if(s)as(r,!1);else{if(0!==Fs||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Uo(e))){for(t.flags|=64,as(r,!1),null!==(s=c.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fi(Fo,1&Fo.current|2),t.child}e=e.sibling}null!==r.tail&&zi()>Ks&&(t.flags|=64,s=!0,as(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Uo(c))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),as(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Vo)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*zi()-r.renderingStartTime>Ks&&1073741824!==n&&(t.flags|=64,s=!0,as(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=zi(),n.sibling=null,t=Fo.current,fi(Fo,s?1&t|2:1&t),n):null;case 23:case 24:return Su(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(a(156,t.tag))}function us(e){switch(e.tag){case 1:mi(e.type)&&yi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(jo(),li(pi),li(di),Qo(),0!==(64&(t=e.flags)))throw Error(a(285));return e.flags=-4097&t|64,e;case 5:return Lo(e),null;case 13:return li(Fo),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(Fo),null;case 4:return jo(),null;case 10:return ro(e),null;case 23:case 24:return Su(),null;default:return null}}function cs(e,t){try{var n="",r=t;do{n+=K(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i}}function ls(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Ya=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},$a=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,No(Oo.current);var a,s=null;switch(n){case"input":o=Z(e,o),r=Z(e,r),s=[];break;case"option":o=oe(e,o),r=oe(e,r),s=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":o=se(e,o),r=se(e,r),s=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(e.onclick=Br)}for(f in Ee(n,r),n=null,o)if(!r.hasOwnProperty(f)&&o.hasOwnProperty(f)&&null!=o[f])if("style"===f){var c=o[f];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(u.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=o?o[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(a in c)!c.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&c[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(s=s||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(s=s||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(u.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Or("scroll",e),s||c===l||(s=[])):"object"===typeof l&&null!==l&&l.$$typeof===j?l.toString():(s=s||[]).push(f,l))}n&&(s=s||[]).push("style",n);var f=s;(t.updateQueue=f)&&(t.flags|=4)}},Qa=function(e,t,n,r){n!==r&&(t.flags|=4)};var fs="function"===typeof WeakMap?WeakMap:Map;function hs(e,t,n){(n=lo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Qs||(Qs=!0,Xs=r),ls(0,t)},n}function ds(e,t,n){(n=lo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return ls(0,t),r(i)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Js?Js=new Set([this]):Js.add(this),ls(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ps="function"===typeof WeakSet?WeakSet:Set;function vs(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Bu(e,n)}else t.current=null}function gs(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Xi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Gr(t.stateNode.containerInfo))}throw Error(a(163))}function ms(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Lu(n,e),Mu(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Xi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&vo(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}vo(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&zr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&xt(n)))))}throw Error(a(163))}function ys(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=_e("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function bs(e,t){if(Ei&&"function"===typeof Ei.onCommitFiberUnmount)try{Ei.onCommitFiberUnmount(Si,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Lu(t,n);else{r=t;try{i()}catch(o){Bu(r,o)}}n=n.next}while(n!==e)}break;case 1:if(vs(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){Bu(t,o)}break;case 5:vs(t);break;case 4:ks(e,t)}}function ws(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function _s(e){return 5===e.tag||3===e.tag||4===e.tag}function xs(e){e:{for(var t=e.return;null!==t;){if(_s(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.flags&&(ye(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||_s(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?Ss(e,n,t):Es(e,n,t)}function Ss(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Br));else if(4!==r&&null!==(e=e.child))for(Ss(e,t,n),e=e.sibling;null!==e;)Ss(e,t,n),e=e.sibling}function Es(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Es(e,t,n),e=e.sibling;null!==e;)Es(e,t,n),e=e.sibling}function ks(e,t){for(var n,r,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(a(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var s=e,u=i,c=u;;)if(bs(s,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===u)break e;for(;null===c.sibling;){if(null===c.return||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(s=n,u=i.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(bs(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function Ts(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Zr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),ke(e,i),t=ke(e,r),i=0;i<o.length;i+=2){var s=o[i],u=o[i+1];"style"===s?xe(n,u):"dangerouslySetInnerHTML"===s?me(n,u):"children"===s?ye(n,u):w(n,s,u,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?ae(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?ae(n,!!r.multiple,r.defaultValue,!0):ae(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,xt(n.containerInfo)));case 13:return null!==t.memoizedState&&(Hs=zi(),ys(t.child,!0)),void Cs(t);case 19:return void Cs(t);case 23:case 24:return void ys(t,null!==t.memoizedState)}throw Error(a(163))}function Cs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ps),t.forEach((function(t){var r=Vu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Is(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Ps=Math.ceil,Os=_.ReactCurrentDispatcher,As=_.ReactCurrentOwner,Ds=0,Ns=null,Rs=null,js=0,Ms=0,Ls=ci(0),Fs=0,Us=null,Bs=0,qs=0,Vs=0,zs=0,Ws=null,Hs=0,Ks=1/0;function Gs(){Ks=zi()+500}var Ys,$s=null,Qs=!1,Xs=null,Js=null,Zs=!1,eu=null,tu=90,nu=[],ru=[],iu=null,ou=0,au=null,su=-1,uu=0,cu=0,lu=null,fu=!1;function hu(){return 0!==(48&Ds)?zi():-1!==su?su:su=zi()}function du(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Wi()?1:2;if(0===uu&&(uu=Bs),0!==Qi.transition){0!==cu&&(cu=null!==Ws?Ws.pendingLanes:0),e=uu;var t=4186112&~cu;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Wi(),0!==(4&Ds)&&98===e?e=Bt(12,uu):e=Bt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),uu),e}function pu(e,t,n){if(50<ou)throw ou=0,au=null,Error(a(185));if(null===(e=vu(e,t)))return null;zt(e,t,n),e===Ns&&(Vs|=t,4===Fs&&yu(e,js));var r=Wi();1===t?0!==(8&Ds)&&0===(48&Ds)?bu(e):(gu(e,n),0===Ds&&(Gs(),Yi())):(0===(4&Ds)||98!==r&&99!==r||(null===iu?iu=new Set([e]):iu.add(e)),gu(e,n)),Ws=e}function vu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function gu(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var u=31-Wt(s),c=1<<u,l=o[u];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,Lt(c);var f=Mt;o[u]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);s&=~c}if(r=Ft(e,e===Ns?js:0),t=Mt,0===r)null!==n&&(n!==Li&&Ci(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Li&&Ci(n)}15===t?(n=bu.bind(null,e),null===Ui?(Ui=[n],Bi=Ti(Di,$i)):Ui.push(n),n=Li):14===t?n=Gi(99,bu.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,e))}}(t),n=Gi(n,mu.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function mu(e){if(su=-1,cu=uu=0,0!==(48&Ds))throw Error(a(327));var t=e.callbackNode;if(ju()&&e.callbackNode!==t)return null;var n=Ft(e,e===Ns?js:0);if(0===n)return null;var r=n,i=Ds;Ds|=16;var o=Tu();for(Ns===e&&js===r||(Gs(),Eu(e,r));;)try{Pu();break}catch(u){ku(e,u)}if(no(),Os.current=o,Ds=i,null!==Rs?r=0:(Ns=null,js=0,r=Fs),0!==(Bs&Vs))Eu(e,0);else if(0!==r){if(2===r&&(Ds|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(n=Ut(e))&&(r=Cu(e,n))),1===r)throw t=Us,Eu(e,0),yu(e,n),gu(e,zi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(a(345));case 2:case 5:Du(e);break;case 3:if(yu(e,n),(62914560&n)===n&&10<(r=Hs+500-zi())){if(0!==Ft(e,0))break;if(((i=e.suspendedLanes)&n)!==n){hu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Hr(Du.bind(null,e),r);break}Du(e);break;case 4:if(yu(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-Wt(n);o=1<<s,(s=r[s])>i&&(i=s),n&=~o}if(n=i,10<(n=(120>(n=zi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ps(n/1960))-n)){e.timeoutHandle=Hr(Du.bind(null,e),n);break}Du(e);break;default:throw Error(a(329))}}return gu(e,zi()),e.callbackNode===t?mu.bind(null,e):null}function yu(e,t){for(t&=~zs,t&=~Vs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Wt(t),r=1<<n;e[n]=-1,t&=~r}}function bu(e){if(0!==(48&Ds))throw Error(a(327));if(ju(),e===Ns&&0!==(e.expiredLanes&js)){var t=js,n=Cu(e,t);0!==(Bs&Vs)&&(n=Cu(e,t=Ft(e,t)))}else n=Cu(e,t=Ft(e,0));if(0!==e.tag&&2===n&&(Ds|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(t=Ut(e))&&(n=Cu(e,t))),1===n)throw n=Us,Eu(e,0),yu(e,t),gu(e,zi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Du(e),gu(e,zi()),null}function wu(e,t){var n=Ds;Ds|=1;try{return e(t)}finally{0===(Ds=n)&&(Gs(),Yi())}}function _u(e,t){var n=Ds;Ds&=-2,Ds|=8;try{return e(t)}finally{0===(Ds=n)&&(Gs(),Yi())}}function xu(e,t){fi(Ls,Ms),Ms|=t,Bs|=t}function Su(){Ms=Ls.current,li(Ls)}function Eu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Kr(n)),null!==Rs)for(n=Rs.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&yi();break;case 3:jo(),li(pi),li(di),Qo();break;case 5:Lo(r);break;case 4:jo();break;case 13:case 19:li(Fo);break;case 10:ro(r);break;case 23:case 24:Su()}n=n.return}Ns=e,Rs=Ku(e.current,null),js=Ms=Bs=t,Fs=0,Us=null,zs=Vs=qs=0}function ku(e,t){for(;;){var n=Rs;try{if(no(),Xo.current=Da,ra){for(var r=ea.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ra=!1}if(Zo=0,na=ta=ea=null,ia=!1,As.current=null,null===n||null===n.return){Fs=1,Us=t,Rs=null;break}e:{var o=e,a=n.return,s=n,u=t;if(t=js,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u;if(0===(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.lanes=l.lanes):(s.updateQueue=null,s.memoizedState=null)}var f=0!==(1&Fo.current),h=a;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=h.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(d){var g=h.updateQueue;if(null===g){var m=new Set;m.add(c),h.updateQueue=m}else g.add(c);if(0===(2&h.mode)){if(h.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=lo(-1,1);y.tag=2,fo(s,y)}s.lanes|=1;break e}u=void 0,s=t;var b=o.pingCache;if(null===b?(b=o.pingCache=new fs,u=new Set,b.set(c,u)):void 0===(u=b.get(c))&&(u=new Set,b.set(c,u)),!u.has(s)){u.add(s);var w=qu.bind(null,o,c,s);c.then(w,w)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);u=Error((G(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Fs&&(Fs=2),u=cs(u,s),h=a;do{switch(h.tag){case 3:o=u,h.flags|=4096,t&=-t,h.lanes|=t,ho(h,hs(0,o,t));break e;case 1:o=u;var _=h.type,x=h.stateNode;if(0===(64&h.flags)&&("function"===typeof _.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Js||!Js.has(x)))){h.flags|=4096,t&=-t,h.lanes|=t,ho(h,ds(h,o,t));break e}}h=h.return}while(null!==h)}Au(n)}catch(S){t=S,Rs===n&&null!==n&&(Rs=n=n.return);continue}break}}function Tu(){var e=Os.current;return Os.current=Da,null===e?Da:e}function Cu(e,t){var n=Ds;Ds|=16;var r=Tu();for(Ns===e&&js===t||Eu(e,t);;)try{Iu();break}catch(i){ku(e,i)}if(no(),Ds=n,Os.current=r,null!==Rs)throw Error(a(261));return Ns=null,js=0,Fs}function Iu(){for(;null!==Rs;)Ou(Rs)}function Pu(){for(;null!==Rs&&!Ii();)Ou(Rs)}function Ou(e){var t=Ys(e.alternate,e,Ms);e.memoizedProps=e.pendingProps,null===t?Au(e):Rs=t,As.current=null}function Au(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=ss(n,t,Ms)))return void(Rs=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Ms)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=us(t)))return n.flags&=2047,void(Rs=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Rs=t);Rs=t=e}while(null!==t);0===Fs&&(Fs=5)}function Du(e){var t=Wi();return Ki(99,Nu.bind(null,e,t)),null}function Nu(e,t){do{ju()}while(null!==eu);if(0!==(48&Ds))throw Error(a(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<o;){var c=31-Wt(o),l=1<<c;i[c]=0,s[c]=-1,u[c]=-1,o&=~l}if(null!==iu&&0===(24&r)&&iu.has(e)&&iu.delete(e),e===Ns&&(Rs=Ns=null,js=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Ds,Ds|=32,As.current=null,qr=$t,mr(s=gr())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(l=u.getSelection&&u.getSelection())&&0!==l.rangeCount){u=l.anchorNode,o=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{u.nodeType,c.nodeType}catch(T){u=null;break e}var f=0,h=-1,d=-1,p=0,v=0,g=s,m=null;t:for(;;){for(var y;g!==u||0!==o&&3!==g.nodeType||(h=f+o),g!==c||0!==l&&3!==g.nodeType||(d=f+l),3===g.nodeType&&(f+=g.nodeValue.length),null!==(y=g.firstChild);)m=g,g=y;for(;;){if(g===s)break t;if(m===u&&++p===o&&(h=f),m===c&&++v===l&&(d=f),null!==(y=g.nextSibling))break;m=(g=m).parentNode}g=y}u=-1===h||-1===d?null:{start:h,end:d}}else u=null;u=u||{start:0,end:0}}else u=null;Vr={focusedElem:s,selectionRange:u},$t=!1,lu=null,fu=!1,$s=r;do{try{Ru()}catch(T){if(null===$s)throw Error(a(330));Bu($s,T),$s=$s.nextEffect}}while(null!==$s);lu=null,$s=r;do{try{for(s=e;null!==$s;){var b=$s.flags;if(16&b&&ye($s.stateNode,""),128&b){var w=$s.alternate;if(null!==w){var _=w.ref;null!==_&&("function"===typeof _?_(null):_.current=null)}}switch(1038&b){case 2:xs($s),$s.flags&=-3;break;case 6:xs($s),$s.flags&=-3,Ts($s.alternate,$s);break;case 1024:$s.flags&=-1025;break;case 1028:$s.flags&=-1025,Ts($s.alternate,$s);break;case 4:Ts($s.alternate,$s);break;case 8:ks(s,u=$s);var x=u.alternate;ws(u),null!==x&&ws(x)}$s=$s.nextEffect}}catch(T){if(null===$s)throw Error(a(330));Bu($s,T),$s=$s.nextEffect}}while(null!==$s);if(_=Vr,w=gr(),b=_.focusedElem,s=_.selectionRange,w!==b&&b&&b.ownerDocument&&vr(b.ownerDocument.documentElement,b)){null!==s&&mr(b)&&(w=s.start,void 0===(_=s.end)&&(_=w),"selectionStart"in b?(b.selectionStart=w,b.selectionEnd=Math.min(_,b.value.length)):(_=(w=b.ownerDocument||document)&&w.defaultView||window).getSelection&&(_=_.getSelection(),u=b.textContent.length,x=Math.min(s.start,u),s=void 0===s.end?x:Math.min(s.end,u),!_.extend&&x>s&&(u=s,s=x,x=u),u=pr(b,x),o=pr(b,s),u&&o&&(1!==_.rangeCount||_.anchorNode!==u.node||_.anchorOffset!==u.offset||_.focusNode!==o.node||_.focusOffset!==o.offset)&&((w=w.createRange()).setStart(u.node,u.offset),_.removeAllRanges(),x>s?(_.addRange(w),_.extend(o.node,o.offset)):(w.setEnd(o.node,o.offset),_.addRange(w))))),w=[];for(_=b;_=_.parentNode;)1===_.nodeType&&w.push({element:_,left:_.scrollLeft,top:_.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<w.length;b++)(_=w[b]).element.scrollLeft=_.left,_.element.scrollTop=_.top}$t=!!qr,Vr=qr=null,e.current=n,$s=r;do{try{for(b=e;null!==$s;){var S=$s.flags;if(36&S&&ms(b,$s.alternate,$s),128&S){w=void 0;var E=$s.ref;if(null!==E){var k=$s.stateNode;$s.tag,w=k,"function"===typeof E?E(w):E.current=w}}$s=$s.nextEffect}}catch(T){if(null===$s)throw Error(a(330));Bu($s,T),$s=$s.nextEffect}}while(null!==$s);$s=null,Fi(),Ds=i}else e.current=n;if(Zs)Zs=!1,eu=e,tu=t;else for($s=r;null!==$s;)t=$s.nextEffect,$s.nextEffect=null,8&$s.flags&&((S=$s).sibling=null,S.stateNode=null),$s=t;if(0===(r=e.pendingLanes)&&(Js=null),1===r?e===au?ou++:(ou=0,au=e):ou=0,n=n.stateNode,Ei&&"function"===typeof Ei.onCommitFiberRoot)try{Ei.onCommitFiberRoot(Si,n,void 0,64===(64&n.current.flags))}catch(T){}if(gu(e,zi()),Qs)throw Qs=!1,e=Xs,Xs=null,e;return 0!==(8&Ds)||Yi(),null}function Ru(){for(;null!==$s;){var e=$s.alternate;fu||null===lu||(0!==(8&$s.flags)?et($s,lu)&&(fu=!0):13===$s.tag&&Is(e,$s)&&et($s,lu)&&(fu=!0));var t=$s.flags;0!==(256&t)&&gs(e,$s),0===(512&t)||Zs||(Zs=!0,Gi(97,(function(){return ju(),null}))),$s=$s.nextEffect}}function ju(){if(90!==tu){var e=97<tu?97:tu;return tu=90,Ki(e,Fu)}return!1}function Mu(e,t){nu.push(t,e),Zs||(Zs=!0,Gi(97,(function(){return ju(),null})))}function Lu(e,t){ru.push(t,e),Zs||(Zs=!0,Gi(97,(function(){return ju(),null})))}function Fu(){if(null===eu)return!1;var e=eu;if(eu=null,0!==(48&Ds))throw Error(a(331));var t=Ds;Ds|=32;var n=ru;ru=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(c){if(null===o)throw Error(a(330));Bu(o,c)}}for(n=nu,nu=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var u=i.create;i.destroy=u()}catch(c){if(null===o)throw Error(a(330));Bu(o,c)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return Ds=t,Yi(),!0}function Uu(e,t,n){fo(e,t=hs(0,t=cs(n,t),1)),t=hu(),null!==(e=vu(e,1))&&(zt(e,1,t),gu(e,t))}function Bu(e,t){if(3===e.tag)Uu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Uu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Js||!Js.has(r))){var i=ds(n,e=cs(t,e),1);if(fo(n,i),i=hu(),null!==(n=vu(n,1)))zt(n,1,i),gu(n,i);else if("function"===typeof r.componentDidCatch&&(null===Js||!Js.has(r)))try{r.componentDidCatch(t,e)}catch(o){}break}}n=n.return}}function qu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=hu(),e.pingedLanes|=e.suspendedLanes&n,Ns===e&&(js&n)===n&&(4===Fs||3===Fs&&(62914560&js)===js&&500>zi()-Hs?Eu(e,0):zs|=n),gu(e,t)}function Vu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Wi()?1:2:(0===uu&&(uu=Bs),0===(t=qt(62914560&~uu))&&(t=4194304))),n=hu(),null!==(e=vu(e,t))&&(zt(e,t,n),gu(e,n))}function zu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Wu(e,t,n,r){return new zu(e,t,n,r)}function Hu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ku(e,t){var n=e.alternate;return null===n?((n=Wu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gu(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Hu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case E:return Yu(n.children,i,o,t);case M:s=8,i|=16;break;case k:s=8,i|=1;break;case T:return(e=Wu(12,n,t,8|i)).elementType=T,e.type=T,e.lanes=o,e;case O:return(e=Wu(13,n,t,i)).type=O,e.elementType=O,e.lanes=o,e;case A:return(e=Wu(19,n,t,i)).elementType=A,e.lanes=o,e;case L:return $u(n,i,o,t);case F:return(e=Wu(24,n,t,i)).elementType=F,e.lanes=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:s=10;break e;case I:s=9;break e;case P:s=11;break e;case D:s=14;break e;case N:s=16,r=null;break e;case R:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Wu(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Yu(e,t,n,r){return(e=Wu(7,e,r,t)).lanes=n,e}function $u(e,t,n,r){return(e=Wu(23,e,r,t)).elementType=L,e.lanes=n,e}function Qu(e,t,n){return(e=Wu(6,e,null,t)).lanes=n,e}function Xu(e,t,n){return(t=Wu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ju(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Vt(0),this.expirationTimes=Vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vt(0),this.mutableSourceEagerHydrationData=null}function Zu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ec(e,t,n,r){var i=t.current,o=hu(),s=du(i);e:if(n){t:{if(Qe(n=n._reactInternals)!==n||1!==n.tag)throw Error(a(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(mi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(a(171))}if(1===n.tag){var c=n.type;if(mi(c)){n=wi(n,c,u);break e}}n=u}else n=hi;return null===t.context?t.context=n:t.pendingContext=n,(t=lo(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),fo(i,t),pu(i,s,o),s}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rc(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function ic(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Ju(e,t,null!=n&&!0===n.hydrate),t=Wu(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,uo(t),e[ei]=n.current,Dr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function oc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ac(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=tc(a);s.call(e)}}ec(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ic(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"===typeof i){var u=i;i=function(){var e=tc(a);u.call(e)}}_u((function(){ec(t,a,e,i)}))}return tc(a)}function sc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!oc(t))throw Error(a(200));return Zu(e,t,null,n)}Ys=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)La=!0;else{if(0===(n&r)){switch(La=!1,t.tag){case 3:Ga(t),Yo();break;case 5:Mo(t);break;case 1:mi(t.type)&&_i(t);break;case 4:Ro(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;fi(Ji,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Ja(e,t,n):(fi(Fo,1&Fo.current),null!==(t=os(e,t,n))?t.sibling:null);fi(Fo,1&Fo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return is(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),fi(Fo,Fo.current),r)break;return null;case 23:case 24:return t.lanes=0,Va(e,t,n)}return os(e,t,n)}La=0!==(16384&e.flags)}else La=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=gi(t,di.current),oo(t,n),i=sa(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,mi(r)){var o=!0;_i(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,uo(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&mo(t,r,s,e),i.updater=yo,t.stateNode=i,i._reactInternals=t,xo(t,r,e,n),t=Ka(null,t,r,!0,o,n)}else t.tag=0,Fa(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"===typeof e)return Hu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===P)return 11;if(e===D)return 14}return 2}(i),e=Xi(i,e),o){case 0:t=Wa(null,t,i,e,n);break e;case 1:t=Ha(null,t,i,e,n);break e;case 11:t=Ua(null,t,i,e,n);break e;case 14:t=Ba(null,t,i,Xi(i.type,e),r,n);break e}throw Error(a(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Wa(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ha(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 3:if(Ga(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,co(e,t),po(t,r,null,n),(r=t.memoizedState.element)===i)Yo(),t=os(e,t,n);else{if((o=(i=t.stateNode).hydrate)&&(qo=Yr(t.stateNode.containerInfo.firstChild),Bo=t,o=Vo=!0),o){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(o=e[i])._workInProgressVersionPrimary=e[i+1],$o.push(o);for(n=Io(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Fa(e,t,r,n),Yo();t=t.child}return t;case 5:return Mo(t),null===e&&Ho(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,Wr(r,i)?s=null:null!==o&&Wr(r,o)&&(t.flags|=16),za(e,t),Fa(e,t,s,n),t.child;case 6:return null===e&&Ho(t),null;case 13:return Ja(e,t,n);case 4:return Ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Co(t,null,r,n):Fa(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ua(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 7:return Fa(e,t,t.pendingProps,n),t.child;case 8:case 12:return Fa(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value;var u=t.type._context;if(fi(Ji,u._currentValue),u._currentValue=o,null!==s)if(u=s.value,0===(o=lr(u,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,o):1073741823))){if(s.children===i.children&&!pi.current){t=os(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&o)){1===u.tag&&((l=lo(-1,n&-n)).tag=2,fo(u,l)),u.lanes|=n,null!==(l=u.alternate)&&(l.lanes|=n),io(u.return,n),c.lanes|=n;break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Fa(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,oo(t,n),r=r(i=ao(i,o.unstable_observedBits)),t.flags|=1,Fa(e,t,r,n),t.child;case 14:return o=Xi(i=t.type,t.pendingProps),Ba(e,t,i,o=Xi(i.type,o),r,n);case 15:return qa(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Xi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,mi(r)?(e=!0,_i(t)):e=!1,oo(t,n),wo(t,r,i),xo(t,r,i,n),Ka(null,t,r,!0,e,n);case 19:return is(e,t,n);case 23:case 24:return Va(e,t,n)}throw Error(a(156,t.tag))},ic.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ic.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(pu(e,4,hu()),rc(e,4))},nt=function(e){13===e.tag&&(pu(e,67108864,hu()),rc(e,67108864))},rt=function(e){if(13===e.tag){var t=hu(),n=du(e);pu(e,n,t),rc(e,n)}},it=function(e,t){return t()},Ce=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=oi(r);if(!i)throw Error(a(90));X(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&ae(e,!!n.multiple,t,!1)}},Ne=wu,Re=function(e,t,n,r,i){var o=Ds;Ds|=4;try{return Ki(98,e.bind(null,t,n,r,i))}finally{0===(Ds=o)&&(Gs(),Yi())}},je=function(){0===(49&Ds)&&(function(){if(null!==iu){var e=iu;iu=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,gu(e,zi())}))}Yi()}(),ju())},Me=function(e,t){var n=Ds;Ds|=2;try{return e(t)}finally{0===(Ds=n)&&(Gs(),Yi())}};var uc={Events:[ri,ii,oi,Ae,De,ju,{current:!1}]},cc={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},lc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{Si=fc.inject(lc),Ei=fc}catch(ge){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uc,t.createPortal=sc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Ds;if(0!==(48&n))return e(t);Ds|=1;try{if(e)return Ki(99,e.bind(null,t))}finally{Ds=n,Yi()}},t.hydrate=function(e,t,n){if(!oc(t))throw Error(a(200));return ac(null,e,t,!0,n)},t.render=function(e,t,n){if(!oc(t))throw Error(a(200));return ac(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!oc(e))throw Error(a(40));return!!e._reactRootContainer&&(_u((function(){ac(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=wu,t.unstable_createPortal=function(e,t){return sc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!oc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return ac(e,t,n,!1,r)},t.version="17.0.2"},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},77:function(e){var t="undefined"!==typeof Element,n="function"===typeof Map,r="function"===typeof Set,i="function"===typeof ArrayBuffer&&!!ArrayBuffer.isView;function o(e,a){if(e===a)return!0;if(e&&a&&"object"==typeof e&&"object"==typeof a){if(e.constructor!==a.constructor)return!1;var s,u,c,l;if(Array.isArray(e)){if((s=e.length)!=a.length)return!1;for(u=s;0!==u--;)if(!o(e[u],a[u]))return!1;return!0}if(n&&e instanceof Map&&a instanceof Map){if(e.size!==a.size)return!1;for(l=e.entries();!(u=l.next()).done;)if(!a.has(u.value[0]))return!1;for(l=e.entries();!(u=l.next()).done;)if(!o(u.value[1],a.get(u.value[0])))return!1;return!0}if(r&&e instanceof Set&&a instanceof Set){if(e.size!==a.size)return!1;for(l=e.entries();!(u=l.next()).done;)if(!a.has(u.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(a)){if((s=e.length)!=a.length)return!1;for(u=s;0!==u--;)if(e[u]!==a[u])return!1;return!0}if(e.constructor===RegExp)return e.source===a.source&&e.flags===a.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===a.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===a.toString();if((s=(c=Object.keys(e)).length)!==Object.keys(a).length)return!1;for(u=s;0!==u--;)if(!Object.prototype.hasOwnProperty.call(a,c[u]))return!1;if(t&&e instanceof Element)return!1;for(u=s;0!==u--;)if(("_owner"!==c[u]&&"__v"!==c[u]&&"__o"!==c[u]||!e.$$typeof)&&!o(e[c[u]],a[c[u]]))return!1;return!0}return e!==e&&a!==a}e.exports=function(e,t){try{return o(e,t)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}}},1372:function(e,t){"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen");function m(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case o:case s:case a:case h:case d:return e;default:switch(e=e&&e.$$typeof){case l:case c:case f:case v:case p:case u:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference"),t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===s||e===a||e===h||e===d||e===g||"object"===typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===p||e.$$typeof===u||e.$$typeof===c||e.$$typeof===f||e.$$typeof===n||void 0!==e.getModuleId)},t.typeOf=m},7441:function(e,t,n){"use strict";e.exports=n(1372)},9434:function(e,t,n){"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(2791)),a=(i=n(77))&&i.__esModule?i:{default:i},s=n(9174);function u(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}function d(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var i=g(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?v(e):t}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(s,e);var t,n,r,i=d(s);function s(){var e;l(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return m(v(e=i.call.apply(i,[this].concat(n))),"mounted",!1),m(v(e),"isReady",!1),m(v(e),"isPlaying",!1),m(v(e),"isLoading",!0),m(v(e),"loadOnReady",null),m(v(e),"startOnPlay",!0),m(v(e),"seekOnPlay",null),m(v(e),"onDurationCalled",!1),m(v(e),"handlePlayerMount",(function(t){e.player=t,e.player.load(e.props.url),e.progress()})),m(v(e),"getInternalPlayer",(function(t){return e.player?e.player[t]:null})),m(v(e),"progress",(function(){if(e.props.url&&e.player&&e.isReady){var t=e.getCurrentTime()||0,n=e.getSecondsLoaded(),r=e.getDuration();if(r){var i={playedSeconds:t,played:t/r};null!==n&&(i.loadedSeconds=n,i.loaded=n/r),i.playedSeconds===e.prevPlayed&&i.loadedSeconds===e.prevLoaded||e.props.onProgress(i),e.prevPlayed=i.playedSeconds,e.prevLoaded=i.loadedSeconds}}e.progressTimeout=setTimeout(e.progress,e.props.progressFrequency||e.props.progressInterval)})),m(v(e),"handleReady",(function(){if(e.mounted){e.isReady=!0,e.isLoading=!1;var t=e.props,n=t.onReady,r=t.playing,i=t.volume,o=t.muted;n(),o||null===i||e.player.setVolume(i),e.loadOnReady?(e.player.load(e.loadOnReady,!0),e.loadOnReady=null):r&&e.player.play(),e.handleDurationCheck()}})),m(v(e),"handlePlay",(function(){e.isPlaying=!0,e.isLoading=!1;var t=e.props,n=t.onStart,r=t.onPlay,i=t.playbackRate;e.startOnPlay&&(e.player.setPlaybackRate&&1!==i&&e.player.setPlaybackRate(i),n(),e.startOnPlay=!1),r(),e.seekOnPlay&&(e.seekTo(e.seekOnPlay),e.seekOnPlay=null),e.handleDurationCheck()})),m(v(e),"handlePause",(function(t){e.isPlaying=!1,e.isLoading||e.props.onPause(t)})),m(v(e),"handleEnded",(function(){var t=e.props,n=t.activePlayer,r=t.loop,i=t.onEnded;n.loopOnEnded&&r&&e.seekTo(0),r||(e.isPlaying=!1,i())})),m(v(e),"handleError",(function(){var t;e.isLoading=!1,(t=e.props).onError.apply(t,arguments)})),m(v(e),"handleDurationCheck",(function(){clearTimeout(e.durationCheckTimeout);var t=e.getDuration();t?e.onDurationCalled||(e.props.onDuration(t),e.onDurationCalled=!0):e.durationCheckTimeout=setTimeout(e.handleDurationCheck,100)})),m(v(e),"handleLoaded",(function(){e.isLoading=!1})),e}return t=s,n=[{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"componentWillUnmount",value:function(){clearTimeout(this.progressTimeout),clearTimeout(this.durationCheckTimeout),this.isReady&&this.props.stopOnUnmount&&(this.player.stop(),this.player.disablePIP&&this.player.disablePIP()),this.mounted=!1}},{key:"componentDidUpdate",value:function(e){var t=this;if(this.player){var n=this.props,r=n.url,i=n.playing,o=n.volume,s=n.muted,u=n.playbackRate,c=n.pip,l=n.loop,f=n.activePlayer;if(!(0,a.default)(e.url,r)){if(this.isLoading&&!f.forceLoad)return console.warn("ReactPlayer: the attempt to load ".concat(r," is being deferred until the player has loaded")),void(this.loadOnReady=r);this.isLoading=!0,this.startOnPlay=!0,this.onDurationCalled=!1,this.player.load(r,this.isReady)}e.playing||!i||this.isPlaying||this.player.play(),e.playing&&!i&&this.isPlaying&&this.player.pause(),!e.pip&&c&&this.player.enablePIP&&this.player.enablePIP(),e.pip&&!c&&this.player.disablePIP&&this.player.disablePIP(),e.volume!==o&&null!==o&&this.player.setVolume(o),e.muted!==s&&(s?this.player.mute():(this.player.unmute(),null!==o&&setTimeout((function(){return t.player.setVolume(o)})))),e.playbackRate!==u&&this.player.setPlaybackRate&&this.player.setPlaybackRate(u),e.loop!==l&&this.player.setLoop&&this.player.setLoop(l)}}},{key:"getDuration",value:function(){return this.isReady?this.player.getDuration():null}},{key:"getCurrentTime",value:function(){return this.isReady?this.player.getCurrentTime():null}},{key:"getSecondsLoaded",value:function(){return this.isReady?this.player.getSecondsLoaded():null}},{key:"seekTo",value:function(e,t){var n=this;if(!this.isReady&&0!==e)return this.seekOnPlay=e,void setTimeout((function(){n.seekOnPlay=null}),5e3);if(t?"fraction"===t:e>0&&e<1){var r=this.player.getDuration();return r?void this.player.seekTo(r*e):void console.warn("ReactPlayer: could not seek using fraction \u2013\xa0duration not yet available")}this.player.seekTo(e)}},{key:"render",value:function(){var e=this.props.activePlayer;return e?o.default.createElement(e,c({},this.props,{onMount:this.handlePlayerMount,onReady:this.handleReady,onPlay:this.handlePlay,onPause:this.handlePause,onEnded:this.handleEnded,onLoaded:this.handleLoaded,onError:this.handleError})):null}}],n&&f(t.prototype,n),r&&f(t,r),s}(o.Component);t.default=y,m(y,"displayName","Player"),m(y,"propTypes",s.propTypes),m(y,"defaultProps",s.defaultProps)},8275:function(e,t,n){"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n(2791));function o(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function f(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var i=p(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g="64px",m={},y=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(a,e);var t,n,r,o=f(a);function a(){var e;u(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return v(d(e=o.call.apply(o,[this].concat(n))),"mounted",!1),v(d(e),"state",{image:null}),v(d(e),"handleKeyPress",(function(t){"Enter"!==t.key&&" "!==t.key||e.props.onClick()})),e}return t=a,(n=[{key:"componentDidMount",value:function(){this.mounted=!0,this.fetchImage(this.props)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.url,r=t.light;e.url===n&&e.light===r||this.fetchImage(this.props)}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"fetchImage",value:function(e){var t=this,n=e.url,r=e.light;if("string"!==typeof r){if(!m[n])return this.setState({image:null}),window.fetch("https://noembed.com/embed?url=".concat(n)).then((function(e){return e.json()})).then((function(e){if(e.thumbnail_url&&t.mounted){var r=e.thumbnail_url.replace("height=100","height=480");t.setState({image:r}),m[n]=r}}));this.setState({image:m[n]})}else this.setState({image:r})}},{key:"render",value:function(){var e=this.props,t=e.onClick,n=e.playIcon,r=e.previewTabIndex,o=this.state.image,a={display:"flex",alignItems:"center",justifyContent:"center"},u={preview:s({width:"100%",height:"100%",backgroundImage:o?"url(".concat(o,")"):void 0,backgroundSize:"cover",backgroundPosition:"center",cursor:"pointer"},a),shadow:s({background:"radial-gradient(rgb(0, 0, 0, 0.3), rgba(0, 0, 0, 0) 60%)",borderRadius:g,width:g,height:g},a),playIcon:{borderStyle:"solid",borderWidth:"16px 0 16px 26px",borderColor:"transparent transparent transparent white",marginLeft:"7px"}},c=i.default.createElement("div",{style:u.shadow,className:"react-player__shadow"},i.default.createElement("div",{style:u.playIcon,className:"react-player__play-icon"}));return i.default.createElement("div",{style:u.preview,className:"react-player__preview",onClick:t,tabIndex:r,onKeyPress:this.handleKeyPress},n||c)}}])&&c(t.prototype,n),r&&c(t,r),a}(i.Component);t.default=y},2646:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createReactPlayer=void 0;var r=T(n(2791)),i=l(n(9948)),o=l(n(5781)),a=l(n(77)),s=n(9174),u=n(135),c=l(n(9434));function l(e){return e&&e.__esModule?e:{default:e}}function f(e){return f="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(){return p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)}function v(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},b(e,t)}function w(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S(e);if(t){var i=S(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _(this,n)}}function _(e,t){return!t||"object"!==f(t)&&"function"!==typeof t?x(e):t}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e){return S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},S(e)}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return k=function(){return e},e}function T(e){if(e&&e.__esModule)return e;if(null===e||"object"!==f(e)&&"function"!==typeof e)return{default:e};var t=k();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}var C=(0,r.lazy)((function(){return Promise.resolve().then((function(){return T(n(8275))}))})),I="undefined"!==typeof window&&window.document,P="undefined"!==typeof n.g&&n.g.window&&n.g.window.document,O=Object.keys(s.propTypes),A=I||P?r.Suspense:function(){return null},D=[];t.createReactPlayer=function(e,t){var n,l;return l=n=function(n){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(_,n);var l,f,h,g=w(_);function _(){var n;m(this,_);for(var a=arguments.length,l=new Array(a),f=0;f<a;f++)l[f]=arguments[f];return E(x(n=g.call.apply(g,[this].concat(l))),"state",{showPreview:!!n.props.light}),E(x(n),"references",{wrapper:function(e){n.wrapper=e},player:function(e){n.player=e}}),E(x(n),"handleClickPreview",(function(e){n.setState({showPreview:!1}),n.props.onClickPreview(e)})),E(x(n),"showPreview",(function(){n.setState({showPreview:!0})})),E(x(n),"getDuration",(function(){return n.player?n.player.getDuration():null})),E(x(n),"getCurrentTime",(function(){return n.player?n.player.getCurrentTime():null})),E(x(n),"getSecondsLoaded",(function(){return n.player?n.player.getSecondsLoaded():null})),E(x(n),"getInternalPlayer",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"player";return n.player?n.player.getInternalPlayer(e):null})),E(x(n),"seekTo",(function(e,t){if(!n.player)return null;n.player.seekTo(e,t)})),E(x(n),"handleReady",(function(){n.props.onReady(x(n))})),E(x(n),"getActivePlayer",(0,o.default)((function(n){for(var r=0,i=[].concat(D,v(e));r<i.length;r++){var o=i[r];if(o.canPlay(n))return o}return t||null}))),E(x(n),"getConfig",(0,o.default)((function(e,t){var r=n.props.config;return i.default.all([s.defaultProps.config,s.defaultProps.config[t]||{},r,r[t]||{}])}))),E(x(n),"getAttributes",(0,o.default)((function(e){return(0,u.omit)(n.props,O)}))),E(x(n),"renderActivePlayer",(function(e){if(!e)return null;var t=n.getActivePlayer(e);if(!t)return null;var i=n.getConfig(e,t.key);return r.default.createElement(c.default,p({},n.props,{key:t.key,ref:n.references.player,config:i,activePlayer:t.lazyPlayer||t,onReady:n.handleReady}))})),n}return l=_,f=[{key:"shouldComponentUpdate",value:function(e,t){return!(0,a.default)(this.props,e)||!(0,a.default)(this.state,t)}},{key:"componentDidUpdate",value:function(e){var t=this.props.light;!e.light&&t&&this.setState({showPreview:!0}),e.light&&!t&&this.setState({showPreview:!1})}},{key:"renderPreview",value:function(e){if(!e)return null;var t=this.props,n=t.light,i=t.playIcon,o=t.previewTabIndex;return r.default.createElement(C,{url:e,light:n,playIcon:i,previewTabIndex:o,onClick:this.handleClickPreview})}},{key:"render",value:function(){var e=this.props,t=e.url,n=e.style,i=e.width,o=e.height,a=e.fallback,s=e.wrapper,u=this.state.showPreview,c=this.getAttributes(t);return r.default.createElement(s,p({ref:this.references.wrapper,style:d(d({},n),{},{width:i,height:o})},c),r.default.createElement(A,{fallback:a},u?this.renderPreview(t):this.renderActivePlayer(t)))}}],f&&y(l.prototype,f),h&&y(l,h),_}(r.Component),E(n,"displayName","ReactPlayer"),E(n,"propTypes",s.propTypes),E(n,"defaultProps",s.defaultProps),E(n,"addCustomPlayer",(function(e){D.push(e)})),E(n,"removeCustomPlayers",(function(){D.length=0})),E(n,"canPlay",(function(t){for(var n=0,r=[].concat(D,v(e));n<r.length;n++){if(r[n].canPlay(t))return!0}return!1})),E(n,"canEnablePIP",(function(t){for(var n=0,r=[].concat(D,v(e));n<r.length;n++){var i=r[n];if(i.canEnablePIP&&i.canEnablePIP(t))return!0}return!1})),l}},6710:function(e,t,n){"use strict";var r,i=(r=n(4687))&&r.__esModule?r:{default:r},o=n(2646);var a=i.default[i.default.length-1];(0,o.createReactPlayer)(i.default,a)},365:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canPlay=t.FLV_EXTENSIONS=t.DASH_EXTENSIONS=t.HLS_EXTENSIONS=t.VIDEO_EXTENSIONS=t.AUDIO_EXTENSIONS=t.MATCH_URL_KALTURA=t.MATCH_URL_VIDYARD=t.MATCH_URL_MIXCLOUD=t.MATCH_URL_DAILYMOTION=t.MATCH_URL_TWITCH_CHANNEL=t.MATCH_URL_TWITCH_VIDEO=t.MATCH_URL_WISTIA=t.MATCH_URL_STREAMABLE=t.MATCH_URL_FACEBOOK_WATCH=t.MATCH_URL_FACEBOOK=t.MATCH_URL_VIMEO=t.MATCH_URL_SOUNDCLOUD=t.MATCH_URL_YOUTUBE=void 0;var r=n(135);function i(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var a=/(?:youtu\.be\/|youtube(?:-nocookie)?\.com\/(?:embed\/|v\/|watch\/|watch\?v=|watch\?.+&v=))((\w|-){11})|youtube\.com\/playlist\?list=|youtube\.com\/user\//;t.MATCH_URL_YOUTUBE=a;var s=/(?:soundcloud\.com|snd\.sc)\/[^.]+$/;t.MATCH_URL_SOUNDCLOUD=s;var u=/vimeo\.com\/.+/;t.MATCH_URL_VIMEO=u;var c=/^https?:\/\/(www\.)?facebook\.com.*\/(video(s)?|watch|story)(\.php?|\/).+$/;t.MATCH_URL_FACEBOOK=c;var l=/^https?:\/\/fb\.watch\/.+$/;t.MATCH_URL_FACEBOOK_WATCH=l;var f=/streamable\.com\/([a-z0-9]+)$/;t.MATCH_URL_STREAMABLE=f;var h=/(?:wistia\.(?:com|net)|wi\.st)\/(?:medias|embed)\/(?:iframe\/)?(.*)$/;t.MATCH_URL_WISTIA=h;var d=/(?:www\.|go\.)?twitch\.tv\/videos\/(\d+)($|\?)/;t.MATCH_URL_TWITCH_VIDEO=d;var p=/(?:www\.|go\.)?twitch\.tv\/([a-zA-Z0-9_]+)($|\?)/;t.MATCH_URL_TWITCH_CHANNEL=p;var v=/^(?:(?:https?):)?(?:\/\/)?(?:www\.)?(?:(?:dailymotion\.com(?:\/embed)?\/video)|dai\.ly)\/([a-zA-Z0-9]+)(?:_[\w_-]+)?$/;t.MATCH_URL_DAILYMOTION=v;var g=/mixcloud\.com\/([^/]+\/[^/]+)/;t.MATCH_URL_MIXCLOUD=g;var m=/vidyard.com\/(?:watch\/)?([a-zA-Z0-9-]+)/;t.MATCH_URL_VIDYARD=m;var y=/^https?:\/\/[a-zA-Z]+\.kaltura.(com|org)\/p\/([0-9]+)\/sp\/([0-9]+)00\/embedIframeJs\/uiconf_id\/([0-9]+)\/partner_id\/([0-9]+)(.*)entry_id.([a-zA-Z0-9-_]+)$/;t.MATCH_URL_KALTURA=y;var b=/\.(m4a|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i;t.AUDIO_EXTENSIONS=b;var w=/\.(mp4|og[gv]|webm|mov|m4v)($|\?)/i;t.VIDEO_EXTENSIONS=w;var _=/\.(m3u8)($|\?)/i;t.HLS_EXTENSIONS=_;var x=/\.(mpd)($|\?)/i;t.DASH_EXTENSIONS=x;var S=/\.(flv)($|\?)/i;t.FLV_EXTENSIONS=S;var E={youtube:function(e){return e instanceof Array?e.every((function(e){return a.test(e)})):a.test(e)},soundcloud:function(e){return s.test(e)&&!b.test(e)},vimeo:function(e){return u.test(e)&&!w.test(e)&&!_.test(e)},facebook:function(e){return c.test(e)||l.test(e)},streamable:function(e){return f.test(e)},wistia:function(e){return h.test(e)},twitch:function(e){return d.test(e)||p.test(e)},dailymotion:function(e){return v.test(e)},mixcloud:function(e){return g.test(e)},vidyard:function(e){return m.test(e)},kaltura:function(e){return y.test(e)},file:function e(t){if(t instanceof Array){var n,o=i(t);try{for(o.s();!(n=o.n()).done;){var a=n.value;if("string"===typeof a&&e(a))return!0;if(e(a.src))return!0}}catch(s){o.e(s)}finally{o.f()}return!1}return!(!(0,r.isMediaStream)(t)&&!(0,r.isBlobUrl)(t))||(b.test(t)||w.test(t)||_.test(t)||x.test(t)||S.test(t))}};t.canPlay=E},4303:function(e,t,n){"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(2791)),o=n(135),a=n(365);function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function v(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var i=y(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?m(e):t}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(u,e);var t,n,r,s=v(u);function u(){var e;h(this,u);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return b(m(e=s.call.apply(s,[this].concat(n))),"callPlayer",o.callPlayer),b(m(e),"onDurationChange",(function(){var t=e.getDuration();e.props.onDuration(t)})),b(m(e),"mute",(function(){e.callPlayer("setMuted",!0)})),b(m(e),"unmute",(function(){e.callPlayer("setMuted",!1)})),b(m(e),"ref",(function(t){e.container=t})),e}return t=u,(n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(e){var t=this,n=this.props,r=n.controls,i=n.config,s=n.onError,u=n.playing,f=l(e.match(a.MATCH_URL_DAILYMOTION),2)[1];this.player?this.player.load(f,{start:(0,o.parseStartTime)(e),autoplay:u}):(0,o.getSDK)("https://api.dmcdn.net/all.js","DM","dmAsyncInit",(function(e){return e.player})).then((function(n){if(t.container){var a=n.player;t.player=new a(t.container,{width:"100%",height:"100%",video:f,params:c({controls:r,autoplay:t.props.playing,mute:t.props.muted,start:(0,o.parseStartTime)(e),origin:window.location.origin},i.params),events:{apiready:t.props.onReady,seeked:function(){return t.props.onSeek(t.player.currentTime)},video_end:t.props.onEnded,durationchange:t.onDurationChange,pause:t.props.onPause,playing:t.props.onPlay,waiting:t.props.onBuffer,error:function(e){return s(e)}}})}}),s)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(e){this.callPlayer("seek",e)}},{key:"setVolume",value:function(e){this.callPlayer("setVolume",e)}},{key:"getDuration",value:function(){return this.player.duration||null}},{key:"getCurrentTime",value:function(){return this.player.currentTime}},{key:"getSecondsLoaded",value:function(){return this.player.bufferedTime}},{key:"render",value:function(){var e={width:"100%",height:"100%",display:this.props.display};return i.default.createElement("div",{style:e},i.default.createElement("div",{ref:this.ref}))}}])&&d(t.prototype,n),r&&d(t,r),u}(i.Component);t.default=w,b(w,"displayName","DailyMotion"),b(w,"canPlay",a.canPlay.dailymotion),b(w,"loopOnEnded",!0)},4793:function(e,t,n){"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(2791)),o=n(135),a=n(365);function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var i=v(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m="https://connect.facebook.net/en_US/sdk.js",y="fbAsyncInit",b="facebook-player-",w=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(s,e);var t,n,r,a=h(s);function s(){var e;c(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return g(p(e=a.call.apply(a,[this].concat(n))),"callPlayer",o.callPlayer),g(p(e),"playerID",e.props.config.playerId||"".concat(b).concat((0,o.randomString)())),g(p(e),"mute",(function(){e.callPlayer("mute")})),g(p(e),"unmute",(function(){e.callPlayer("unmute")})),e}return t=s,(n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(e,t){var n=this;t?(0,o.getSDK)(m,"FB",y).then((function(e){return e.XFBML.parse()})):(0,o.getSDK)(m,"FB",y).then((function(e){e.init({appId:n.props.config.appId,xfbml:!0,version:n.props.config.version}),e.Event.subscribe("xfbml.render",(function(e){n.props.onLoaded()})),e.Event.subscribe("xfbml.ready",(function(e){"video"===e.type&&e.id===n.playerID&&(n.player=e.instance,n.player.subscribe("startedPlaying",n.props.onPlay),n.player.subscribe("paused",n.props.onPause),n.player.subscribe("finishedPlaying",n.props.onEnded),n.player.subscribe("startedBuffering",n.props.onBuffer),n.player.subscribe("finishedBuffering",n.props.onBufferEnd),n.player.subscribe("error",n.props.onError),n.props.muted?n.callPlayer("mute"):n.callPlayer("unmute"),n.props.onReady(),document.getElementById(n.playerID).querySelector("iframe").style.visibility="visible")}))}))}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(e){this.callPlayer("seek",e)}},{key:"setVolume",value:function(e){this.callPlayer("setVolume",e)}},{key:"getDuration",value:function(){return this.callPlayer("getDuration")}},{key:"getCurrentTime",value:function(){return this.callPlayer("getCurrentPosition")}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){var e=this.props.config.attributes;return i.default.createElement("div",u({style:{width:"100%",height:"100%"},id:this.playerID,className:"fb-video","data-href":this.props.url,"data-autoplay":this.props.playing?"true":"false","data-allowfullscreen":"true","data-controls":this.props.controls?"true":"false"},e))}}])&&l(t.prototype,n),r&&l(t,r),s}(i.Component);t.default=w,g(w,"displayName","Facebook"),g(w,"canPlay",a.canPlay.facebook),g(w,"loopOnEnded",!0)},8997:function(e,t,n){"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(2791)),o=n(135),a=n(365);function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var i=v(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m="undefined"!==typeof navigator,y=m&&"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,b=m&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||y)&&!window.MSStream,w=/www\.dropbox\.com\/.+/,_=/https:\/\/watch\.cloudflarestream\.com\/([a-z0-9]+)/,x=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(d,e);var t,n,r,s=h(d);function d(){var e;c(this,d);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return g(p(e=s.call.apply(s,[this].concat(n))),"onReady",(function(){var t;return(t=e.props).onReady.apply(t,arguments)})),g(p(e),"onPlay",(function(){var t;return(t=e.props).onPlay.apply(t,arguments)})),g(p(e),"onBuffer",(function(){var t;return(t=e.props).onBuffer.apply(t,arguments)})),g(p(e),"onBufferEnd",(function(){var t;return(t=e.props).onBufferEnd.apply(t,arguments)})),g(p(e),"onPause",(function(){var t;return(t=e.props).onPause.apply(t,arguments)})),g(p(e),"onEnded",(function(){var t;return(t=e.props).onEnded.apply(t,arguments)})),g(p(e),"onError",(function(){var t;return(t=e.props).onError.apply(t,arguments)})),g(p(e),"onEnablePIP",(function(){var t;return(t=e.props).onEnablePIP.apply(t,arguments)})),g(p(e),"onDisablePIP",(function(t){var n=e.props,r=n.onDisablePIP,i=n.playing;r(t),i&&e.play()})),g(p(e),"onPresentationModeChange",(function(t){if(e.player&&(0,o.supportsWebKitPresentationMode)(e.player)){var n=e.player.webkitPresentationMode;"picture-in-picture"===n?e.onEnablePIP(t):"inline"===n&&e.onDisablePIP(t)}})),g(p(e),"onSeek",(function(t){e.props.onSeek(t.target.currentTime)})),g(p(e),"mute",(function(){e.player.muted=!0})),g(p(e),"unmute",(function(){e.player.muted=!1})),g(p(e),"renderSourceElement",(function(e,t){return"string"===typeof e?i.default.createElement("source",{key:t,src:e}):i.default.createElement("source",u({key:t},e))})),g(p(e),"renderTrack",(function(e,t){return i.default.createElement("track",u({key:t},e))})),g(p(e),"ref",(function(t){e.player&&(e.prevPlayer=e.player),e.player=t})),e}return t=d,(n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this),this.addListeners(this.player),b&&this.player.load()}},{key:"componentDidUpdate",value:function(e){this.shouldUseAudio(this.props)!==this.shouldUseAudio(e)&&(this.removeListeners(this.prevPlayer,e.url),this.addListeners(this.player)),this.props.url===e.url||(0,o.isMediaStream)(this.props.url)||(this.player.srcObject=null)}},{key:"componentWillUnmount",value:function(){this.removeListeners(this.player),this.hls&&this.hls.destroy()}},{key:"addListeners",value:function(e){var t=this.props,n=t.url,r=t.playsinline;e.addEventListener("play",this.onPlay),e.addEventListener("waiting",this.onBuffer),e.addEventListener("playing",this.onBufferEnd),e.addEventListener("pause",this.onPause),e.addEventListener("seeked",this.onSeek),e.addEventListener("ended",this.onEnded),e.addEventListener("error",this.onError),e.addEventListener("enterpictureinpicture",this.onEnablePIP),e.addEventListener("leavepictureinpicture",this.onDisablePIP),e.addEventListener("webkitpresentationmodechanged",this.onPresentationModeChange),this.shouldUseHLS(n)||e.addEventListener("canplay",this.onReady),r&&(e.setAttribute("playsinline",""),e.setAttribute("webkit-playsinline",""),e.setAttribute("x5-playsinline",""))}},{key:"removeListeners",value:function(e,t){e.removeEventListener("canplay",this.onReady),e.removeEventListener("play",this.onPlay),e.removeEventListener("waiting",this.onBuffer),e.removeEventListener("playing",this.onBufferEnd),e.removeEventListener("pause",this.onPause),e.removeEventListener("seeked",this.onSeek),e.removeEventListener("ended",this.onEnded),e.removeEventListener("error",this.onError),e.removeEventListener("enterpictureinpicture",this.onEnablePIP),e.removeEventListener("leavepictureinpicture",this.onDisablePIP),e.removeEventListener("webkitpresentationmodechanged",this.onPresentationModeChange),this.shouldUseHLS(t)||e.removeEventListener("canplay",this.onReady)}},{key:"shouldUseAudio",value:function(e){return!e.config.forceVideo&&!e.config.attributes.poster&&(a.AUDIO_EXTENSIONS.test(e.url)||e.config.forceAudio)}},{key:"shouldUseHLS",value:function(e){return!!this.props.config.forceHLS||!b&&(a.HLS_EXTENSIONS.test(e)||_.test(e))}},{key:"shouldUseDASH",value:function(e){return a.DASH_EXTENSIONS.test(e)||this.props.config.forceDASH}},{key:"shouldUseFLV",value:function(e){return a.FLV_EXTENSIONS.test(e)||this.props.config.forceFLV}},{key:"load",value:function(e){var t=this,n=this.props.config,r=n.hlsVersion,i=n.hlsOptions,a=n.dashVersion,s=n.flvVersion;if(this.hls&&this.hls.destroy(),this.dash&&this.dash.reset(),this.shouldUseHLS(e)&&(0,o.getSDK)("https://cdn.jsdelivr.net/npm/hls.js@VERSION/dist/hls.min.js".replace("VERSION",r),"Hls").then((function(n){if(t.hls=new n(i),t.hls.on(n.Events.MANIFEST_PARSED,(function(){t.props.onReady()})),t.hls.on(n.Events.ERROR,(function(e,r){t.props.onError(e,r,t.hls,n)})),_.test(e)){var r=e.match(_)[1];t.hls.loadSource("https://videodelivery.net/{id}/manifest/video.m3u8".replace("{id}",r))}else t.hls.loadSource(e);t.hls.attachMedia(t.player),t.props.onLoaded()})),this.shouldUseDASH(e)&&(0,o.getSDK)("https://cdnjs.cloudflare.com/ajax/libs/dashjs/VERSION/dash.all.min.js".replace("VERSION",a),"dashjs").then((function(n){t.dash=n.MediaPlayer().create(),t.dash.initialize(t.player,e,t.props.playing),t.dash.on("error",t.props.onError),parseInt(a)<3?t.dash.getDebug().setLogToBrowserConsole(!1):t.dash.updateSettings({debug:{logLevel:n.Debug.LOG_LEVEL_NONE}}),t.props.onLoaded()})),this.shouldUseFLV(e)&&(0,o.getSDK)("https://cdn.jsdelivr.net/npm/flv.js@VERSION/dist/flv.min.js".replace("VERSION",s),"flvjs").then((function(n){t.flv=n.createPlayer({type:"flv",url:e}),t.flv.attachMediaElement(t.player),t.flv.load(),t.props.onLoaded()})),e instanceof Array)this.player.load();else if((0,o.isMediaStream)(e))try{this.player.srcObject=e}catch(u){this.player.src=window.URL.createObjectURL(e)}}},{key:"play",value:function(){var e=this.player.play();e&&e.catch(this.props.onError)}},{key:"pause",value:function(){this.player.pause()}},{key:"stop",value:function(){this.player.removeAttribute("src"),this.dash&&this.dash.reset()}},{key:"seekTo",value:function(e){this.player.currentTime=e}},{key:"setVolume",value:function(e){this.player.volume=e}},{key:"enablePIP",value:function(){this.player.requestPictureInPicture&&document.pictureInPictureElement!==this.player?this.player.requestPictureInPicture():(0,o.supportsWebKitPresentationMode)(this.player)&&"picture-in-picture"!==this.player.webkitPresentationMode&&this.player.webkitSetPresentationMode("picture-in-picture")}},{key:"disablePIP",value:function(){document.exitPictureInPicture&&document.pictureInPictureElement===this.player?document.exitPictureInPicture():(0,o.supportsWebKitPresentationMode)(this.player)&&"inline"!==this.player.webkitPresentationMode&&this.player.webkitSetPresentationMode("inline")}},{key:"setPlaybackRate",value:function(e){this.player.playbackRate=e}},{key:"getDuration",value:function(){if(!this.player)return null;var e=this.player,t=e.duration,n=e.seekable;return t===1/0&&n.length>0?n.end(n.length-1):t}},{key:"getCurrentTime",value:function(){return this.player?this.player.currentTime:null}},{key:"getSecondsLoaded",value:function(){if(!this.player)return null;var e=this.player.buffered;if(0===e.length)return 0;var t=e.end(e.length-1),n=this.getDuration();return t>n?n:t}},{key:"getSource",value:function(e){var t=this.shouldUseHLS(e),n=this.shouldUseDASH(e),r=this.shouldUseFLV(e);if(!(e instanceof Array||(0,o.isMediaStream)(e)||t||n||r))return w.test(e)?e.replace("www.dropbox.com","dl.dropboxusercontent.com"):e}},{key:"render",value:function(){var e=this.props,t=e.url,n=e.playing,r=e.loop,o=e.controls,a=e.muted,s=e.config,c=e.width,l=e.height,f=this.shouldUseAudio(this.props)?"audio":"video",h={width:"auto"===c?c:"100%",height:"auto"===l?l:"100%"};return i.default.createElement(f,u({ref:this.ref,src:this.getSource(t),style:h,preload:"auto",autoPlay:n||void 0,controls:o,muted:a,loop:r},s.attributes),t instanceof Array&&t.map(this.renderSourceElement),s.tracks.map(this.renderTrack))}}])&&l(t.prototype,n),r&&l(t,r),d}(i.Component);t.default=x,g(x,"displayName","FilePlayer"),g(x,"canPlay",a.canPlay.file)},9332:function(e,t,n){"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(2791)),o=n(135),a=n(365);function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function f(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var i=p(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(s,e);var t,n,r,a=f(s);function s(){var e;u(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return v(d(e=a.call.apply(a,[this].concat(n))),"callPlayer",o.callPlayer),v(d(e),"duration",null),v(d(e),"currentTime",null),v(d(e),"secondsLoaded",null),v(d(e),"mute",(function(){e.callPlayer("mute")})),v(d(e),"unmute",(function(){e.callPlayer("unmute")})),v(d(e),"ref",(function(t){e.iframe=t})),e}return t=s,(n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(e){var t=this;(0,o.getSDK)("https://cdn.embed.ly/player-0.1.0.min.js","playerjs").then((function(e){t.iframe&&(t.player=new e.Player(t.iframe),t.player.on("ready",(function(){t.player.isReady=!0,t.player.on("play",t.props.onPlay),t.player.on("pause",t.props.onPause),t.player.on("seeked",t.props.onSeek),t.player.on("ended",t.props.onEnded),t.player.on("error",t.props.onError),t.player.on("timeupdate",(function(e){var n=e.duration,r=e.seconds;t.duration=n,t.currentTime=r})),t.player.on("buffered",(function(e){var n=e.percent;t.duration&&(t.secondsLoaded=t.duration*n)})),t.player.setLoop(t.props.loop),t.props.muted&&t.player.mute(),setTimeout((function(){t.props.onReady()}))})))}),this.props.onError)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(e){this.callPlayer("setCurrentTime",e)}},{key:"setVolume",value:function(e){this.callPlayer("setVolume",e)}},{key:"setLoop",value:function(e){this.callPlayer("setLoop",e)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return this.secondsLoaded}},{key:"render",value:function(){return i.default.createElement("iframe",{ref:this.ref,src:this.props.url,frameBorder:"0",scrolling:"no",style:{width:"100%",height:"100%"},allowFullScreen:!0,allow:"encrypted-media",referrerPolicy:"no-referrer-when-downgrade"})}}])&&c(t.prototype,n),r&&c(t,r),s}(i.Component);t.default=g,v(g,"displayName","Kaltura"),v(g,"canPlay",a.canPlay.kaltura)},2732:function(e,t,n){"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(2791)),o=n(135),a=n(365);function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}function d(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var i=g(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?v(e):t}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(u,e);var t,n,r,s=d(u);function u(){var e;l(this,u);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return m(v(e=s.call.apply(s,[this].concat(n))),"callPlayer",o.callPlayer),m(v(e),"duration",null),m(v(e),"currentTime",null),m(v(e),"secondsLoaded",null),m(v(e),"mute",(function(){})),m(v(e),"unmute",(function(){})),m(v(e),"ref",(function(t){e.iframe=t})),e}return t=u,n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(e){var t=this;(0,o.getSDK)("https://widget.mixcloud.com/media/js/widgetApi.js","Mixcloud").then((function(e){t.player=e.PlayerWidget(t.iframe),t.player.ready.then((function(){t.player.events.play.on(t.props.onPlay),t.player.events.pause.on(t.props.onPause),t.player.events.ended.on(t.props.onEnded),t.player.events.error.on(t.props.error),t.player.events.progress.on((function(e,n){t.currentTime=e,t.duration=n})),t.props.onReady()}))}),this.props.onError)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(e){this.callPlayer("seek",e)}},{key:"setVolume",value:function(e){}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){var e=this.props,t=e.url,n=e.config,r=t.match(a.MATCH_URL_MIXCLOUD)[1],s=(0,o.queryString)(c(c({},n.options),{},{feed:"/".concat(r,"/")}));return i.default.createElement("iframe",{key:r,ref:this.ref,style:{width:"100%",height:"100%"},src:"https://www.mixcloud.com/widget/iframe/?".concat(s),frameBorder:"0"})}}],n&&f(t.prototype,n),r&&f(t,r),u}(i.Component);t.default=y,m(y,"displayName","Mixcloud"),m(y,"canPlay",a.canPlay.mixcloud),m(y,"loopOnEnded",!0)},1801:function(e,t,n){"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(2791)),o=n(135),a=n(365);function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}function d(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var i=g(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?v(e):t}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(s,e);var t,n,r,a=d(s);function s(){var e;l(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return m(v(e=a.call.apply(a,[this].concat(n))),"callPlayer",o.callPlayer),m(v(e),"duration",null),m(v(e),"currentTime",null),m(v(e),"fractionLoaded",null),m(v(e),"mute",(function(){e.setVolume(0)})),m(v(e),"unmute",(function(){null!==e.props.volume&&e.setVolume(e.props.volume)})),m(v(e),"ref",(function(t){e.iframe=t})),e}return t=s,(n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(e,t){var n=this;(0,o.getSDK)("https://w.soundcloud.com/player/api.js","SC").then((function(r){if(n.iframe){var i=r.Widget.Events,o=i.PLAY,a=i.PLAY_PROGRESS,s=i.PAUSE,u=i.FINISH,l=i.ERROR;t||(n.player=r.Widget(n.iframe),n.player.bind(o,n.props.onPlay),n.player.bind(s,(function(){n.duration-n.currentTime<.05||n.props.onPause()})),n.player.bind(a,(function(e){n.currentTime=e.currentPosition/1e3,n.fractionLoaded=e.loadedProgress})),n.player.bind(u,(function(){return n.props.onEnded()})),n.player.bind(l,(function(e){return n.props.onError(e)}))),n.player.load(e,c(c({},n.props.config.options),{},{callback:function(){n.player.getDuration((function(e){n.duration=e/1e3,n.props.onReady()}))}}))}}))}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(e){this.callPlayer("seekTo",1e3*e)}},{key:"setVolume",value:function(e){this.callPlayer("setVolume",100*e)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return this.fractionLoaded*this.duration}},{key:"render",value:function(){var e={width:"100%",height:"100%",display:this.props.display};return i.default.createElement("iframe",{ref:this.ref,src:"https://w.soundcloud.com/player/?url=".concat(encodeURIComponent(this.props.url)),style:e,frameBorder:0,allow:"autoplay"})}}])&&f(t.prototype,n),r&&f(t,r),s}(i.Component);t.default=y,m(y,"displayName","SoundCloud"),m(y,"canPlay",a.canPlay.soundcloud),m(y,"loopOnEnded",!0)},1286:function(e,t,n){"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(2791)),o=n(135),a=n(365);function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function f(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var i=p(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(h,e);var t,n,r,s=f(h);function h(){var e;u(this,h);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return v(d(e=s.call.apply(s,[this].concat(n))),"callPlayer",o.callPlayer),v(d(e),"duration",null),v(d(e),"currentTime",null),v(d(e),"secondsLoaded",null),v(d(e),"mute",(function(){e.callPlayer("mute")})),v(d(e),"unmute",(function(){e.callPlayer("unmute")})),v(d(e),"ref",(function(t){e.iframe=t})),e}return t=h,(n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(e){var t=this;(0,o.getSDK)("https://cdn.embed.ly/player-0.1.0.min.js","playerjs").then((function(e){t.iframe&&(t.player=new e.Player(t.iframe),t.player.setLoop(t.props.loop),t.player.on("ready",t.props.onReady),t.player.on("play",t.props.onPlay),t.player.on("pause",t.props.onPause),t.player.on("seeked",t.props.onSeek),t.player.on("ended",t.props.onEnded),t.player.on("error",t.props.onError),t.player.on("timeupdate",(function(e){var n=e.duration,r=e.seconds;t.duration=n,t.currentTime=r})),t.player.on("buffered",(function(e){var n=e.percent;t.duration&&(t.secondsLoaded=t.duration*n)})),t.props.muted&&t.player.mute())}),this.props.onError)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(e){this.callPlayer("setCurrentTime",e)}},{key:"setVolume",value:function(e){this.callPlayer("setVolume",100*e)}},{key:"setLoop",value:function(e){this.callPlayer("setLoop",e)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return this.secondsLoaded}},{key:"render",value:function(){var e=this.props.url.match(a.MATCH_URL_STREAMABLE)[1];return i.default.createElement("iframe",{ref:this.ref,src:"https://streamable.com/o/".concat(e),frameBorder:"0",scrolling:"no",style:{width:"100%",height:"100%"},allowFullScreen:!0})}}])&&c(t.prototype,n),r&&c(t,r),h}(i.Component);t.default=g,v(g,"displayName","Streamable"),v(g,"canPlay",a.canPlay.streamable)},6741:function(e,t,n){"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(2791)),o=n(135),a=n(365);function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var i=v(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m="twitch-player-",y=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(d,e);var t,n,r,s=h(d);function d(){var e;c(this,d);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return g(p(e=s.call.apply(s,[this].concat(n))),"callPlayer",o.callPlayer),g(p(e),"playerID",e.props.config.playerId||"".concat(m).concat((0,o.randomString)())),g(p(e),"mute",(function(){e.callPlayer("setMuted",!0)})),g(p(e),"unmute",(function(){e.callPlayer("setMuted",!1)})),e}return t=d,n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(e,t){var n=this,r=this.props,i=r.playsinline,s=r.onError,c=r.config,l=r.controls,f=a.MATCH_URL_TWITCH_CHANNEL.test(e),h=f?e.match(a.MATCH_URL_TWITCH_CHANNEL)[1]:e.match(a.MATCH_URL_TWITCH_VIDEO)[1];t?f?this.player.setChannel(h):this.player.setVideo("v"+h):(0,o.getSDK)("https://player.twitch.tv/js/embed/v1.js","Twitch").then((function(t){n.player=new t.Player(n.playerID,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({video:f?"":h,channel:f?h:"",height:"100%",width:"100%",playsinline:i,autoplay:n.props.playing,muted:n.props.muted,controls:!!f||l,time:(0,o.parseStartTime)(e)},c.options));var r=t.Player,a=r.READY,s=r.PLAYING,d=r.PAUSE,p=r.ENDED,v=r.ONLINE,m=r.OFFLINE;n.player.addEventListener(a,n.props.onReady),n.player.addEventListener(s,n.props.onPlay),n.player.addEventListener(d,n.props.onPause),n.player.addEventListener(p,n.props.onEnded),n.player.addEventListener(v,n.props.onLoaded),n.player.addEventListener(m,n.props.onLoaded)}),s)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){this.callPlayer("pause")}},{key:"seekTo",value:function(e){this.callPlayer("seek",e)}},{key:"setVolume",value:function(e){this.callPlayer("setVolume",e)}},{key:"getDuration",value:function(){return this.callPlayer("getDuration")}},{key:"getCurrentTime",value:function(){return this.callPlayer("getCurrentTime")}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){return i.default.createElement("div",{style:{width:"100%",height:"100%"},id:this.playerID})}}],n&&l(t.prototype,n),r&&l(t,r),d}(i.Component);t.default=y,g(y,"displayName","Twitch"),g(y,"canPlay",a.canPlay.twitch),g(y,"loopOnEnded",!0)},5561:function(e,t,n){"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(2791)),o=n(135),a=n(365);function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var i=v(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(d,e);var t,n,r,s=h(d);function d(){var e;c(this,d);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return g(p(e=s.call.apply(s,[this].concat(n))),"callPlayer",o.callPlayer),g(p(e),"mute",(function(){e.setVolume(0)})),g(p(e),"unmute",(function(){null!==e.props.volume&&e.setVolume(e.props.volume)})),g(p(e),"ref",(function(t){e.container=t})),e}return t=d,n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(e){var t=this,n=this.props,r=n.playing,i=n.config,s=n.onError,c=n.onDuration,l=e&&e.match(a.MATCH_URL_VIDYARD)[1];this.player&&this.stop(),(0,o.getSDK)("https://play.vidyard.com/embed/v4.js","VidyardV4","onVidyardAPI").then((function(e){t.container&&(e.api.addReadyListener((function(e,n){t.player=n,t.player.on("ready",t.props.onReady),t.player.on("play",t.props.onPlay),t.player.on("pause",t.props.onPause),t.player.on("seek",t.props.onSeek),t.player.on("playerComplete",t.props.onEnded)}),l),e.api.renderPlayer(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({uuid:l,container:t.container,autoplay:r?1:0},i.options)),e.api.getPlayerMetadata(l).then((function(e){t.duration=e.length_in_seconds,c(e.length_in_seconds)})))}),s)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){window.VidyardV4.api.destroyPlayer(this.player)}},{key:"seekTo",value:function(e){this.callPlayer("seek",e)}},{key:"setVolume",value:function(e){this.callPlayer("setVolume",e)}},{key:"setPlaybackRate",value:function(e){this.callPlayer("setPlaybackSpeed",e)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.callPlayer("currentTime")}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){var e={width:"100%",height:"100%",display:this.props.display};return i.default.createElement("div",{style:e},i.default.createElement("div",{ref:this.ref}))}}],n&&l(t.prototype,n),r&&l(t,r),d}(i.Component);t.default=m,g(m,"displayName","Vidyard"),g(m,"canPlay",a.canPlay.vidyard)},7600:function(e,t,n){"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(2791)),o=n(135),a=n(365);function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var i=v(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(s,e);var t,n,r,a=h(s);function s(){var e;c(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return g(p(e=a.call.apply(a,[this].concat(n))),"callPlayer",o.callPlayer),g(p(e),"duration",null),g(p(e),"currentTime",null),g(p(e),"secondsLoaded",null),g(p(e),"mute",(function(){e.setVolume(0)})),g(p(e),"unmute",(function(){null!==e.props.volume&&e.setVolume(e.props.volume)})),g(p(e),"ref",(function(t){e.container=t})),e}return t=s,n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(e){var t=this;this.duration=null,(0,o.getSDK)("https://player.vimeo.com/api/player.js","Vimeo").then((function(n){t.container&&(t.player=new n.Player(t.container,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({url:e,autoplay:t.props.playing,muted:t.props.muted,loop:t.props.loop,playsinline:t.props.playsinline,controls:t.props.controls},t.props.config.playerOptions)),t.player.ready().then((function(){var e=t.container.querySelector("iframe");e.style.width="100%",e.style.height="100%"})).catch(t.props.onError),t.player.on("loaded",(function(){t.props.onReady(),t.refreshDuration()})),t.player.on("play",(function(){t.props.onPlay(),t.refreshDuration()})),t.player.on("pause",t.props.onPause),t.player.on("seeked",(function(e){return t.props.onSeek(e.seconds)})),t.player.on("ended",t.props.onEnded),t.player.on("error",t.props.onError),t.player.on("timeupdate",(function(e){var n=e.seconds;t.currentTime=n})),t.player.on("progress",(function(e){var n=e.seconds;t.secondsLoaded=n})),t.player.on("bufferstart",t.props.onBuffer),t.player.on("bufferend",t.props.onBufferEnd))}),this.props.onError)}},{key:"refreshDuration",value:function(){var e=this;this.player.getDuration().then((function(t){e.duration=t}))}},{key:"play",value:function(){var e=this.callPlayer("play");e&&e.catch(this.props.onError)}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){this.callPlayer("unload")}},{key:"seekTo",value:function(e){this.callPlayer("setCurrentTime",e)}},{key:"setVolume",value:function(e){this.callPlayer("setVolume",e)}},{key:"setLoop",value:function(e){this.callPlayer("setLoop",e)}},{key:"setPlaybackRate",value:function(e){this.callPlayer("setPlaybackRate",e)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return this.secondsLoaded}},{key:"render",value:function(){var e={width:"100%",height:"100%",overflow:"hidden",display:this.props.display};return i.default.createElement("div",{key:this.props.url,ref:this.ref,style:e})}}],n&&l(t.prototype,n),r&&l(t,r),s}(i.Component);t.default=m,g(m,"displayName","Vimeo"),g(m,"canPlay",a.canPlay.vimeo),g(m,"forceLoad",!0)},5793:function(e,t,n){"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(2791)),o=n(135),a=n(365);function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}function d(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var i=g(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?v(e):t}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y="wistia-player-",b=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(u,e);var t,n,r,s=d(u);function u(){var e;l(this,u);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return m(v(e=s.call.apply(s,[this].concat(n))),"callPlayer",o.callPlayer),m(v(e),"playerID",e.props.config.playerId||"".concat(y).concat((0,o.randomString)())),m(v(e),"onPlay",(function(){var t;return(t=e.props).onPlay.apply(t,arguments)})),m(v(e),"onPause",(function(){var t;return(t=e.props).onPause.apply(t,arguments)})),m(v(e),"onSeek",(function(){var t;return(t=e.props).onSeek.apply(t,arguments)})),m(v(e),"onEnded",(function(){var t;return(t=e.props).onEnded.apply(t,arguments)})),m(v(e),"mute",(function(){e.callPlayer("mute")})),m(v(e),"unmute",(function(){e.callPlayer("unmute")})),e}return t=u,n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(e){var t=this,n=this.props,r=n.playing,i=n.muted,a=n.controls,s=n.onReady,u=n.config,l=n.onError;(0,o.getSDK)("https://fast.wistia.com/assets/external/E-v1.js","Wistia").then((function(e){u.customControls&&u.customControls.forEach((function(t){return e.defineControl(t)})),window._wq=window._wq||[],window._wq.push({id:t.playerID,options:c({autoPlay:r,silentAutoPlay:"allow",muted:i,controlsVisibleOnLoad:a,fullscreenButton:a,playbar:a,playbackRateControl:a,qualityControl:a,volumeControl:a,settingsControl:a,smallPlayButton:a},u.options),onReady:function(e){t.player=e,t.unbind(),t.player.bind("play",t.onPlay),t.player.bind("pause",t.onPause),t.player.bind("seek",t.onSeek),t.player.bind("end",t.onEnded),s()}})}),l)}},{key:"unbind",value:function(){this.player.unbind("play",this.onPlay),this.player.unbind("pause",this.onPause),this.player.unbind("seek",this.onSeek),this.player.unbind("end",this.onEnded)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){this.unbind(),this.callPlayer("remove")}},{key:"seekTo",value:function(e){this.callPlayer("time",e)}},{key:"setVolume",value:function(e){this.callPlayer("volume",e)}},{key:"setPlaybackRate",value:function(e){this.callPlayer("playbackRate",e)}},{key:"getDuration",value:function(){return this.callPlayer("duration")}},{key:"getCurrentTime",value:function(){return this.callPlayer("time")}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){var e=this.props.url,t=e&&e.match(a.MATCH_URL_WISTIA)[1],n="wistia_embed wistia_async_".concat(t);return i.default.createElement("div",{id:this.playerID,key:t,className:n,style:{width:"100%",height:"100%"}})}}],n&&f(t.prototype,n),r&&f(t,r),u}(i.Component);t.default=b,m(b,"displayName","Wistia"),m(b,"canPlay",a.canPlay.wistia),m(b,"loopOnEnded",!0)},8322:function(e,t,n){"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(2791)),o=n(135),a=n(365);function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function v(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var i=y(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?m(e):t}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w="YT",_=/[?&](?:list|channel)=([a-zA-Z0-9_-]+)/,x=/user\/([a-zA-Z0-9_-]+)\/?/,S=/youtube-nocookie\.com/,E=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(u,e);var t,n,r,s=v(u);function u(){var e;h(this,u);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return b(m(e=s.call.apply(s,[this].concat(n))),"callPlayer",o.callPlayer),b(m(e),"parsePlaylist",(function(t){return t instanceof Array?{listType:"playlist",playlist:t.map(e.getID).join(",")}:_.test(t)?{listType:"playlist",list:l(t.match(_),2)[1].replace(/^UC/,"UU")}:x.test(t)?{listType:"user_uploads",list:l(t.match(x),2)[1]}:{}})),b(m(e),"onStateChange",(function(t){var n=t.data,r=e.props,i=r.onPlay,o=r.onPause,a=r.onBuffer,s=r.onBufferEnd,u=r.onEnded,c=r.onReady,l=r.loop,f=r.config,h=f.playerVars,d=f.onUnstarted,p=window.YT.PlayerState,v=p.UNSTARTED,g=p.PLAYING,m=p.PAUSED,y=p.BUFFERING,b=p.ENDED,w=p.CUED;if(n===v&&d(),n===g&&(i(),s()),n===m&&o(),n===y&&a(),n===b){var _=!!e.callPlayer("getPlaylist");l&&!_&&(h.start?e.seekTo(h.start):e.play()),u()}n===w&&c()})),b(m(e),"mute",(function(){e.callPlayer("mute")})),b(m(e),"unmute",(function(){e.callPlayer("unMute")})),b(m(e),"ref",(function(t){e.container=t})),e}return t=u,(n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"getID",value:function(e){return!e||e instanceof Array||_.test(e)?null:e.match(a.MATCH_URL_YOUTUBE)[1]}},{key:"load",value:function(e,t){var n=this,r=this.props,i=r.playing,a=r.muted,s=r.playsinline,u=r.controls,l=r.loop,f=r.config,h=r.onError,d=f.playerVars,p=f.embedOptions,v=this.getID(e);if(t)return _.test(e)||x.test(e)||e instanceof Array?void this.player.loadPlaylist(this.parsePlaylist(e)):void this.player.cueVideoById({videoId:v,startSeconds:(0,o.parseStartTime)(e)||d.start,endSeconds:(0,o.parseEndTime)(e)||d.end});(0,o.getSDK)("https://www.youtube.com/iframe_api",w,"onYouTubeIframeAPIReady",(function(e){return e.loaded})).then((function(t){n.container&&(n.player=new t.Player(n.container,c({width:"100%",height:"100%",videoId:v,playerVars:c(c({autoplay:i?1:0,mute:a?1:0,controls:u?1:0,start:(0,o.parseStartTime)(e),end:(0,o.parseEndTime)(e),origin:window.location.origin,playsinline:s?1:0},n.parsePlaylist(e)),d),events:{onReady:function(){l&&n.player.setLoop(!0),n.props.onReady()},onStateChange:n.onStateChange,onError:function(e){return h(e.data)}},host:S.test(e)?"https://www.youtube-nocookie.com":void 0},p)))}),h),p.events&&console.warn("Using `embedOptions.events` will likely break things. Use ReactPlayer\u2019s callback props instead, eg onReady, onPlay, onPause")}},{key:"play",value:function(){this.callPlayer("playVideo")}},{key:"pause",value:function(){this.callPlayer("pauseVideo")}},{key:"stop",value:function(){document.body.contains(this.callPlayer("getIframe"))&&this.callPlayer("stopVideo")}},{key:"seekTo",value:function(e){this.callPlayer("seekTo",e),this.props.playing||this.pause()}},{key:"setVolume",value:function(e){this.callPlayer("setVolume",100*e)}},{key:"setPlaybackRate",value:function(e){this.callPlayer("setPlaybackRate",e)}},{key:"setLoop",value:function(e){this.callPlayer("setLoop",e)}},{key:"getDuration",value:function(){return this.callPlayer("getDuration")}},{key:"getCurrentTime",value:function(){return this.callPlayer("getCurrentTime")}},{key:"getSecondsLoaded",value:function(){return this.callPlayer("getVideoLoadedFraction")*this.getDuration()}},{key:"render",value:function(){var e={width:"100%",height:"100%",display:this.props.display};return i.default.createElement("div",{style:e},i.default.createElement("div",{ref:this.ref}))}}])&&d(t.prototype,n),r&&d(t,r),u}(i.Component);t.default=E,b(E,"displayName","YouTube"),b(E,"canPlay",a.canPlay.youtube)},4687:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(2791),i=n(135),o=n(365);function a(e){return a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function u(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}var c=[{key:"youtube",name:"YouTube",canPlay:o.canPlay.youtube,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return u(n(8322))}))}))},{key:"soundcloud",name:"SoundCloud",canPlay:o.canPlay.soundcloud,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return u(n(1801))}))}))},{key:"vimeo",name:"Vimeo",canPlay:o.canPlay.vimeo,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return u(n(7600))}))}))},{key:"facebook",name:"Facebook",canPlay:o.canPlay.facebook,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return u(n(4793))}))}))},{key:"streamable",name:"Streamable",canPlay:o.canPlay.streamable,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return u(n(1286))}))}))},{key:"wistia",name:"Wistia",canPlay:o.canPlay.wistia,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return u(n(5793))}))}))},{key:"twitch",name:"Twitch",canPlay:o.canPlay.twitch,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return u(n(6741))}))}))},{key:"dailymotion",name:"DailyMotion",canPlay:o.canPlay.dailymotion,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return u(n(4303))}))}))},{key:"mixcloud",name:"Mixcloud",canPlay:o.canPlay.mixcloud,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return u(n(2732))}))}))},{key:"vidyard",name:"Vidyard",canPlay:o.canPlay.vidyard,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return u(n(5561))}))}))},{key:"kaltura",name:"Kaltura",canPlay:o.canPlay.kaltura,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return u(n(9332))}))}))},{key:"file",name:"FilePlayer",canPlay:o.canPlay.file,canEnablePIP:function(e){return o.canPlay.file(e)&&(document.pictureInPictureEnabled||(0,i.supportsWebKitPresentationMode)())&&!o.AUDIO_EXTENSIONS.test(e)},lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return u(n(8997))}))}))}];t.default=c},9174:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultProps=t.propTypes=void 0;var r,i=(r=n(2007))&&r.__esModule?r:{default:r};var o=i.default.string,a=i.default.bool,s=i.default.number,u=i.default.array,c=i.default.oneOfType,l=i.default.shape,f=i.default.object,h=i.default.func,d=i.default.node,p={url:c([o,u,f]),playing:a,loop:a,controls:a,volume:s,muted:a,playbackRate:s,width:c([o,s]),height:c([o,s]),style:f,progressInterval:s,playsinline:a,pip:a,stopOnUnmount:a,light:c([a,o]),playIcon:d,previewTabIndex:s,fallback:d,wrapper:c([o,h,l({render:h.isRequired})]),config:l({soundcloud:l({options:f}),youtube:l({playerVars:f,embedOptions:f,onUnstarted:h}),facebook:l({appId:o,version:o,playerId:o,attributes:f}),dailymotion:l({params:f}),vimeo:l({playerOptions:f}),file:l({attributes:f,tracks:u,forceVideo:a,forceAudio:a,forceHLS:a,forceDASH:a,forceFLV:a,hlsOptions:f,hlsVersion:o,dashVersion:o,flvVersion:o}),wistia:l({options:f,playerId:o,customControls:u}),mixcloud:l({options:f}),twitch:l({options:f,playerId:o}),vidyard:l({options:f})}),onReady:h,onStart:h,onPlay:h,onPause:h,onBuffer:h,onBufferEnd:h,onEnded:h,onError:h,onDuration:h,onSeek:h,onProgress:h,onClickPreview:h,onEnablePIP:h,onDisablePIP:h};t.propTypes=p;var v=function(){},g={playing:!1,loop:!1,controls:!1,volume:null,muted:!1,playbackRate:1,width:"640px",height:"360px",style:{},progressInterval:1e3,playsinline:!1,pip:!1,stopOnUnmount:!0,light:!1,fallback:null,wrapper:"div",previewTabIndex:0,config:{soundcloud:{options:{visual:!0,buying:!1,liking:!1,download:!1,sharing:!1,show_comments:!1,show_playcount:!1}},youtube:{playerVars:{playsinline:1,showinfo:0,rel:0,iv_load_policy:3,modestbranding:1},embedOptions:{},onUnstarted:v},facebook:{appId:"1309697205772819",version:"v3.3",playerId:null,attributes:{}},dailymotion:{params:{api:1,"endscreen-enable":!1}},vimeo:{playerOptions:{autopause:!1,byline:!1,portrait:!1,title:!1}},file:{attributes:{},tracks:[],forceVideo:!1,forceAudio:!1,forceHLS:!1,forceDASH:!1,forceFLV:!1,hlsOptions:{},hlsVersion:"0.14.16",dashVersion:"3.1.3",flvVersion:"1.5.0"},wistia:{options:{},playerId:null,customControls:null},mixcloud:{options:{hide_cover:1}},twitch:{options:{},playerId:null},vidyard:{options:{}}},onReady:v,onStart:v,onPlay:v,onPause:v,onBuffer:v,onBufferEnd:v,onEnded:v,onError:v,onDuration:v,onSeek:v,onProgress:v,onClickPreview:v,onEnablePIP:v,onDisablePIP:v};t.defaultProps=g},135:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseStartTime=function(e){return h(e,u)},t.parseEndTime=function(e){return h(e,c)},t.randomString=function(){return Math.random().toString(36).substr(2,5)},t.queryString=function(e){return Object.keys(e).map((function(t){return"".concat(t,"=").concat(e[t])})).join("&")},t.getSDK=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){return!0},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:r.default,a=d(t);if(a&&i(a))return Promise.resolve(a);return new Promise((function(r,i){if(p[e])p[e].push({resolve:r,reject:i});else{p[e]=[{resolve:r,reject:i}];var a=function(t){p[e].forEach((function(e){return e.resolve(t)}))};if(n){var s=window[n];window[n]=function(){s&&s(),a(d(t))}}o(e,(function(r){r?(p[e].forEach((function(e){return e.reject(r)})),p[e]=null):n||a(d(t))}))}}))},t.getConfig=function(e,t){return(0,i.default)(t.config,e.config)},t.omit=function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var o=(t=[]).concat.apply(t,r),a={},s=Object.keys(e),u=0,c=s;u<c.length;u++){var l=c[u];-1===o.indexOf(l)&&(a[l]=e[l])}return a},t.callPlayer=function(e){var t;if(!this.player||!this.player[e]){var n="ReactPlayer: ".concat(this.constructor.displayName," player could not call %c").concat(e,"%c \u2013 ");return this.player?this.player[e]||(n+="The method was not available"):n+="The player was not available",console.warn(n,"font-weight: bold",""),null}for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return(t=this.player)[e].apply(t,i)},t.isMediaStream=function(e){return"undefined"!==typeof window&&"undefined"!==typeof window.MediaStream&&e instanceof window.MediaStream},t.isBlobUrl=function(e){return/^blob:/.test(e)},t.supportsWebKitPresentationMode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.createElement("video"),t=!1===/iPhone|iPod/.test(navigator.userAgent);return e.webkitSupportsPresentationMode&&"function"===typeof e.webkitSetPresentationMode&&t};var r=o(n(5102)),i=o(n(9948));function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var u=/[?&#](?:start|t)=([0-9hms]+)/,c=/[?&#]end=([0-9hms]+)/,l=/(\d+)(h|m|s)/g,f=/^\d+$/;function h(e,t){if(!(e instanceof Array)){var n=e.match(t);if(n){var r=n[1];if(r.match(l))return function(e){var t=0,n=l.exec(e);for(;null!==n;){var r=a(n,3),i=r[1],o=r[2];"h"===o&&(t+=60*parseInt(i,10)*60),"m"===o&&(t+=60*parseInt(i,10)),"s"===o&&(t+=parseInt(i,10)),n=l.exec(e)}return t}(r);if(f.test(r))return parseInt(r)}}}function d(e){return window[e]?window[e]:window.exports&&window.exports[e]?window.exports[e]:window.module&&window.module.exports&&window.module.exports[e]?window.module.exports[e]:null}var p={}},8459:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,m=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function _(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case o:case s:case a:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case g:case v:case u:return e;default:return t}}case i:return t}}}function x(e){return _(e)===f}t.isContextConsumer=function(e){return _(e)===c}},6900:function(e,t,n){"use strict";e.exports=n(8459)},3381:function(e){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},3813:function(e,t,n){var r=n(3381);e.exports=d,e.exports.parse=o,e.exports.compile=function(e,t){return s(o(e,t),t)},e.exports.tokensToFunction=s,e.exports.tokensToRegExp=h;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(e,t){for(var n,r=[],o=0,a=0,s="",l=t&&t.delimiter||"/";null!=(n=i.exec(e));){var f=n[0],h=n[1],d=n.index;if(s+=e.slice(a,d),a=d+f.length,h)s+=h[1];else{var p=e[a],v=n[2],g=n[3],m=n[4],y=n[5],b=n[6],w=n[7];s&&(r.push(s),s="");var _=null!=v&&null!=p&&p!==v,x="+"===b||"*"===b,S="?"===b||"*"===b,E=n[2]||l,k=m||y;r.push({name:g||o++,prefix:v||"",delimiter:E,optional:S,repeat:x,partial:_,asterisk:!!w,pattern:k?c(k):w?".*":"[^"+u(E)+"]+?"})}}return a<e.length&&(s+=e.substr(a)),s&&r.push(s),r}function a(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function s(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"===typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",f(t)));return function(t,i){for(var o="",s=t||{},u=(i||{}).pretty?a:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if("string"!==typeof l){var f,h=s[l.name];if(null==h){if(l.optional){l.partial&&(o+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(h)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var d=0;d<h.length;d++){if(f=u(h[d]),!n[c].test(f))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(f)+"`");o+=(0===d?l.prefix:l.delimiter)+f}}else{if(f=l.asterisk?encodeURI(h).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):u(h),!n[c].test(f))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+f+'"');o+=l.prefix+f}}else o+=l}return o}}function u(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function f(e){return e&&e.sensitive?"":"i"}function h(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,o=!1!==n.end,a="",s=0;s<e.length;s++){var c=e[s];if("string"===typeof c)a+=u(c);else{var h=u(c.prefix),d="(?:"+c.pattern+")";t.push(c),c.repeat&&(d+="(?:"+h+d+")*"),a+=d=c.optional?c.partial?h+"("+d+")?":"(?:"+h+"("+d+"))?":h+"("+d+")"}}var p=u(n.delimiter||"/"),v=a.slice(-p.length)===p;return i||(a=(v?a.slice(0,-p.length):a)+"(?:"+p+"(?=$))?"),a+=o?"$":i&&v?"":"(?="+p+"|$)",l(new RegExp("^"+a,f(n)),t)}function d(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(d(e[i],t,n).source);return l(new RegExp("(?:"+r.join("|")+")",f(n)),t)}(e,t,n):function(e,t,n){return h(o(e,n),t,n)}(e,t,n)}},9195:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,m=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function _(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case o:case s:case a:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case g:case v:case u:return e;default:return t}}case i:return t}}}function x(e){return _(e)===f}},8228:function(e,t,n){"use strict";n(9195)},6374:function(e,t,n){"use strict";n(1725);var r=n(2791),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var o=Symbol.for;i=o("react.element"),t.Fragment=o("react.fragment")}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)s.call(t,r)&&!u.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:o,_owner:a.current}}t.jsx=c,t.jsxs=c},9117:function(e,t,n){"use strict";var r=n(1725),i=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var a=60109,s=60110,u=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),o=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),a=f("react.provider"),s=f("react.context"),u=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function m(){}function y(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},m.prototype=g.prototype;var b=y.prototype=new m;b.constructor=y,r(b,g.prototype),b.isPureReactComponent=!0;var w={current:null},_=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,n){var r,o={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)_.call(t,r)&&!x.hasOwnProperty(r)&&(o[r]=t[r]);var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];o.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===o[r]&&(o[r]=u[r]);return{$$typeof:i,type:e,key:a,ref:s,props:o,_owner:w.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var k=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(e,t,n,r,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case o:u=!0}}if(u)return a=a(u=e),e=""===r?"."+T(u,0):r,Array.isArray(a)?(n="",null!=e&&(n=e.replace(k,"$&/")+"/"),C(a,t,n,"",(function(e){return e}))):null!=a&&(E(a)&&(a=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,n+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(k,"$&/")+"/")+e)),t.push(a)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+T(s=e[c],c);u+=C(s,t,n,l,a)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=C(s=s.value,t,n,l=r+T(s,c++),a);else if("object"===s)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function I(e,t,n){if(null==e)return e;var r=[],i=0;return C(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var O={current:null};function A(){var e=O.current;if(null===e)throw Error(d(321));return e}var D={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:w,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:I,forEach:function(e,t,n){I(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return I(e,(function(){t++})),t},toArray:function(e){return I(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error(d(143));return e}},t.Component=g,t.PureComponent=y,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var o=r({},e.props),a=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=w.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)_.call(t,l)&&!x.hasOwnProperty(l)&&(o[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];o.children=c}return{$$typeof:i,type:e.type,key:a,ref:s,props:o,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return A().useCallback(e,t)},t.useContext=function(e,t){return A().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return A().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return A().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return A().useLayoutEffect(e,t)},t.useMemo=function(e,t){return A().useMemo(e,t)},t.useReducer=function(e,t,n){return A().useReducer(e,t,n)},t.useRef=function(e){return A().useRef(e)},t.useState=function(e){return A().useState(e)},t.version="17.0.2"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},6813:function(e,t){"use strict";var n,r,i,o;if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,f=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(f,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,g=null,m=-1,y=5,b=0;t.unstable_shouldYield=function(){return t.unstable_now()>=b},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,_=w.port2;w.port1.onmessage=function(){if(null!==g){var e=t.unstable_now();b=e+y;try{g(!0,e)?_.postMessage(null):(v=!1,g=null)}catch(n){throw _.postMessage(null),n}}else v=!1},n=function(e){g=e,v||(v=!0,_.postMessage(null))},r=function(e,n){m=h((function(){e(t.unstable_now())}),n)},i=function(){d(m),m=-1}}function x(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<k(i,t)))break e;e[r]=t,e[n]=i,n=r}}function S(e){return void 0===(e=e[0])?null:e}function E(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,u=e[s];if(void 0!==a&&0>k(a,n))void 0!==u&&0>k(u,a)?(e[r]=u,e[s]=n,r=s):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==u&&0>k(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function k(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var T=[],C=[],I=1,P=null,O=3,A=!1,D=!1,N=!1;function R(e){for(var t=S(C);null!==t;){if(null===t.callback)E(C);else{if(!(t.startTime<=e))break;E(C),t.sortIndex=t.expirationTime,x(T,t)}t=S(C)}}function j(e){if(N=!1,R(e),!D)if(null!==S(T))D=!0,n(M);else{var t=S(C);null!==t&&r(j,t.startTime-e)}}function M(e,n){D=!1,N&&(N=!1,i()),A=!0;var o=O;try{for(R(n),P=S(T);null!==P&&(!(P.expirationTime>n)||e&&!t.unstable_shouldYield());){var a=P.callback;if("function"===typeof a){P.callback=null,O=P.priorityLevel;var s=a(P.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?P.callback=s:P===S(T)&&E(T),R(n)}else E(T);P=S(T)}if(null!==P)var u=!0;else{var c=S(C);null!==c&&r(j,c.startTime-n),u=!1}return u}finally{P=null,O=o,A=!1}}var L=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){D||A||(D=!0,n(M))},t.unstable_getCurrentPriorityLevel=function(){return O},t.unstable_getFirstCallbackNode=function(){return S(T)},t.unstable_next=function(e){switch(O){case 1:case 2:case 3:var t=3;break;default:t=O}var n=O;O=t;try{return e()}finally{O=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=L,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=O;O=e;try{return t()}finally{O=n}},t.unstable_scheduleCallback=function(e,o,a){var s=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?s+a:s:a=s,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:I++,callback:o,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>s?(e.sortIndex=a,x(C,e),null===S(T)&&e===S(C)&&(N?i():N=!0,r(j,a-s))):(e.sortIndex=u,x(T,e),D||A||(D=!0,n(M))),e},t.unstable_wrapCallback=function(e){var t=O;return function(){var n=O;O=t;try{return e.apply(this,arguments)}finally{O=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},9613:function(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),u=0;u<o.length;u++){var c=o[u];if(!s(c))return!1;var l=e[c],f=t[c];if(!1===(i=n?n.call(r,l,f,c):void 0)||void 0===i&&l!==f)return!1}return!0}},9388:function(e,t,n){"use strict";n.r(t),n.d(t,{__assign:function(){return o},__asyncDelegator:function(){return _},__asyncGenerator:function(){return w},__asyncValues:function(){return x},__await:function(){return b},__awaiter:function(){return l},__classPrivateFieldGet:function(){return C},__classPrivateFieldIn:function(){return P},__classPrivateFieldSet:function(){return I},__createBinding:function(){return h},__decorate:function(){return s},__exportStar:function(){return d},__extends:function(){return i},__generator:function(){return f},__importDefault:function(){return T},__importStar:function(){return k},__makeTemplateObject:function(){return S},__metadata:function(){return c},__param:function(){return u},__read:function(){return v},__rest:function(){return a},__spread:function(){return g},__spreadArray:function(){return y},__spreadArrays:function(){return m},__values:function(){return p}});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var h=Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]};function d(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||h(t,e,n)}function p(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function m(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function y(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}function b(e){return this instanceof b?(this.v=e,this):new b(e)}function w(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{!function(e){e.value instanceof b?Promise.resolve(e.value.v).then(u,c):l(o[0][2],e)}(i[e](t))}catch(n){l(o[0][3],n)}}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function _(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:b(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function x(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}function S(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var E=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function k(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&h(t,e,n);return E(t,e),t}function T(e){return e&&e.__esModule?e:{default:e}}function C(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function I(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n}function P(e,t){if(null===t||"object"!==typeof t&&"function"!==typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"===typeof e?t===e:e.has(t)}},2391:function(e){"use strict";var t=function(){};e.exports=t}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.hmd=function(e){return(e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e=n(2791),t=n(4164),r=e.createContext(null);var i=function(e){e()},o=function(){return i},a={notify:function(){}};var s=function(){function e(e,t){this.store=e,this.parentSub=t,this.unsubscribe=null,this.listeners=a,this.handleChangeWrapper=this.handleChangeWrapper.bind(this)}var t=e.prototype;return t.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},t.notifyNestedSubs=function(){this.listeners.notify()},t.handleChangeWrapper=function(){this.onStateChange&&this.onStateChange()},t.isSubscribed=function(){return Boolean(this.unsubscribe)},t.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.handleChangeWrapper):this.store.subscribe(this.handleChangeWrapper),this.listeners=function(){var e=o(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())},t.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=a)},e}(),u="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?e.useLayoutEffect:e.useEffect;var c=function(t){var n=t.store,i=t.context,o=t.children,a=(0,e.useMemo)((function(){var e=new s(n);return e.onStateChange=e.notifyNestedSubs,{store:n,subscription:e}}),[n]),c=(0,e.useMemo)((function(){return n.getState()}),[n]);u((function(){var e=a.subscription;return e.trySubscribe(),c!==n.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[a,c]);var l=i||r;return e.createElement(l.Provider,{value:a},o)};function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function f(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var h=n(2110),d=n.n(h),p=n(6900),v=[],g=[null,null];function m(e,t){var n=e[1];return[t.payload,n+1]}function y(e,t,n){u((function(){return e.apply(void 0,t)}),n)}function b(e,t,n,r,i,o,a){e.current=r,t.current=i,n.current=!1,o.current&&(o.current=null,a())}function w(e,t,n,r,i,o,a,s,u,c){if(e){var l=!1,f=null,h=function(){if(!l){var e,n,h=t.getState();try{e=r(h,i.current)}catch(wm){n=wm,f=wm}n||(f=null),e===o.current?a.current||u():(o.current=e,s.current=e,a.current=!0,c({type:"STORE_UPDATED",payload:{error:n}}))}};n.onStateChange=h,n.trySubscribe(),h();return function(){if(l=!0,n.tryUnsubscribe(),n.onStateChange=null,f)throw f}}}var _=function(){return[null,0]};function x(t,n){void 0===n&&(n={});var i=n,o=i.getDisplayName,a=void 0===o?function(e){return"ConnectAdvanced("+e+")"}:o,u=i.methodName,c=void 0===u?"connectAdvanced":u,h=i.renderCountProp,x=void 0===h?void 0:h,S=i.shouldHandleStateChanges,E=void 0===S||S,k=i.storeKey,T=void 0===k?"store":k,C=(i.withRef,i.forwardRef),I=void 0!==C&&C,P=i.context,O=void 0===P?r:P,A=f(i,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"]),D=O;return function(n){var r=n.displayName||n.name||"Component",i=a(r),o=l({},A,{getDisplayName:a,methodName:c,renderCountProp:x,shouldHandleStateChanges:E,storeKey:T,displayName:i,wrappedComponentName:r,WrappedComponent:n}),u=A.pure;var h=u?e.useMemo:function(e){return e()};function S(r){var i=(0,e.useMemo)((function(){var e=r.reactReduxForwardedRef,t=f(r,["reactReduxForwardedRef"]);return[r.context,e,t]}),[r]),a=i[0],u=i[1],c=i[2],d=(0,e.useMemo)((function(){return a&&a.Consumer&&(0,p.isContextConsumer)(e.createElement(a.Consumer,null))?a:D}),[a,D]),x=(0,e.useContext)(d),S=Boolean(r.store)&&Boolean(r.store.getState)&&Boolean(r.store.dispatch);Boolean(x)&&Boolean(x.store);var k=S?r.store:x.store,T=(0,e.useMemo)((function(){return function(e){return t(e.dispatch,o)}(k)}),[k]),C=(0,e.useMemo)((function(){if(!E)return g;var e=new s(k,S?null:x.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[k,S,x]),I=C[0],P=C[1],O=(0,e.useMemo)((function(){return S?x:l({},x,{subscription:I})}),[S,x,I]),A=(0,e.useReducer)(m,v,_),N=A[0][0],R=A[1];if(N&&N.error)throw N.error;var j=(0,e.useRef)(),M=(0,e.useRef)(c),L=(0,e.useRef)(),F=(0,e.useRef)(!1),U=h((function(){return L.current&&c===M.current?L.current:T(k.getState(),c)}),[k,N,c]);y(b,[M,j,F,c,U,L,P]),y(w,[E,k,I,T,M,j,F,L,P,R],[k,I,T]);var B=(0,e.useMemo)((function(){return e.createElement(n,l({},U,{ref:u}))}),[u,n,U]);return(0,e.useMemo)((function(){return E?e.createElement(d.Provider,{value:O},B):B}),[d,B,O])}var k=u?e.memo(S):S;if(k.WrappedComponent=n,k.displayName=S.displayName=i,I){var C=e.forwardRef((function(t,n){return e.createElement(k,l({},t,{reactReduxForwardedRef:n}))}));return C.displayName=i,C.WrappedComponent=n,d()(C,n)}return d()(k,n)}}function S(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function E(e,t){if(S(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!S(e[n[i]],t[n[i]]))return!1;return!0}function k(e){return function(t,n){var r=e(t,n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function T(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function C(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=T(e);var i=r(t,n);return"function"===typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=T(i),i=r(t,n)),i},r}}var I=[function(e){return"function"===typeof e?C(e):void 0},function(e){return e?void 0:k((function(e){return{dispatch:e}}))},function(e){return e&&"object"===typeof e?k((function(t){return function(e,t){var n={},r=function(r){var i=e[r];"function"===typeof i&&(n[r]=function(){return t(i.apply(void 0,arguments))})};for(var i in e)r(i);return n}(e,t)})):void 0}];var P=[function(e){return"function"===typeof e?C(e):void 0},function(e){return e?void 0:k((function(){return{}}))}];function O(e,t,n){return l({},n,e,t)}var A=[function(e){return"function"===typeof e?function(e){return function(t,n){n.displayName;var r,i=n.pure,o=n.areMergedPropsEqual,a=!1;return function(t,n,s){var u=e(t,n,s);return a?i&&o(u,r)||(r=u):(a=!0,r=u),r}}}(e):void 0},function(e){return e?void 0:function(){return O}}];function D(e,t,n,r){return function(i,o){return n(e(i,o),t(r,o),o)}}function N(e,t,n,r,i){var o,a,s,u,c,l=i.areStatesEqual,f=i.areOwnPropsEqual,h=i.areStatePropsEqual,d=!1;function p(i,d){var p=!f(d,a),v=!l(i,o);return o=i,a=d,p&&v?(s=e(o,a),t.dependsOnOwnProps&&(u=t(r,a)),c=n(s,u,a)):p?(e.dependsOnOwnProps&&(s=e(o,a)),t.dependsOnOwnProps&&(u=t(r,a)),c=n(s,u,a)):v?function(){var t=e(o,a),r=!h(t,s);return s=t,r&&(c=n(s,u,a)),c}():c}return function(i,l){return d?p(i,l):(s=e(o=i,a=l),u=t(r,a),c=n(s,u,a),d=!0,c)}}function R(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,i=t.initMergeProps,o=f(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),a=n(e,o),s=r(e,o),u=i(e,o);return(o.pure?N:D)(a,s,u,e,o)}function j(e,t,n){for(var r=t.length-1;r>=0;r--){var i=t[r](e);if(i)return i}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function M(e,t){return e===t}function L(e){var t=void 0===e?{}:e,n=t.connectHOC,r=void 0===n?x:n,i=t.mapStateToPropsFactories,o=void 0===i?P:i,a=t.mapDispatchToPropsFactories,s=void 0===a?I:a,u=t.mergePropsFactories,c=void 0===u?A:u,h=t.selectorFactory,d=void 0===h?R:h;return function(e,t,n,i){void 0===i&&(i={});var a=i,u=a.pure,h=void 0===u||u,p=a.areStatesEqual,v=void 0===p?M:p,g=a.areOwnPropsEqual,m=void 0===g?E:g,y=a.areStatePropsEqual,b=void 0===y?E:y,w=a.areMergedPropsEqual,_=void 0===w?E:w,x=f(a,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),S=j(e,o,"mapStateToProps"),k=j(t,s,"mapDispatchToProps"),T=j(n,c,"mergeProps");return r(d,l({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:S,initMapDispatchToProps:k,initMergeProps:T,pure:h,areStatesEqual:v,areOwnPropsEqual:m,areStatePropsEqual:b,areMergedPropsEqual:_},x))}}var F=L();var U;function B(e,t){return B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},B(e,t)}function q(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,B(e,t)}function V(e){return"/"===e.charAt(0)}function z(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}U=t.unstable_batchedUpdates,i=U;var W=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],i=t&&t.split("/")||[],o=e&&V(e),a=t&&V(t),s=o||a;if(e&&V(e)?i=r:r.length&&(i.pop(),i=i.concat(r)),!i.length)return"/";if(i.length){var u=i[i.length-1];n="."===u||".."===u||""===u}else n=!1;for(var c=0,l=i.length;l>=0;l--){var f=i[l];"."===f?z(i,l):".."===f?(z(i,l),c++):c&&(z(i,l),c--)}if(!s)for(;c--;c)i.unshift("..");!s||""===i[0]||i[0]&&V(i[0])||i.unshift("");var h=i.join("/");return n&&"/"!==h.substr(-1)&&(h+="/"),h};function H(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}var K=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every((function(t,r){return e(t,n[r])}));if("object"===typeof t||"object"===typeof n){var r=H(t),i=H(n);return r!==t||i!==n?e(r,i):Object.keys(Object.assign({},t,n)).every((function(r){return e(t[r],n[r])}))}return!1},G="Invariant failed";var Y=function(e,t){if(!e)throw new Error(G)};function $(e){return"/"===e.charAt(0)?e:"/"+e}function Q(e){return"/"===e.charAt(0)?e.substr(1):e}function X(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function J(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function Z(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function ee(e,t,n,r){var i;"string"===typeof e?(i=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),i.state=t):(void 0===(i=l({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(wm){throw wm instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):wm}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=W(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function te(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var o="function"===typeof e?e(t,n):e;"string"===typeof o?"function"===typeof r?r(o,i):i(!0):i(!1!==o)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var ne=!("undefined"===typeof window||!window.document||!window.document.createElement);function re(e,t){t(window.confirm(e))}var ie="popstate",oe="hashchange";function ae(){try{return window.history.state||{}}catch(wm){return{}}}function se(e){void 0===e&&(e={}),ne||Y(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),r=!(-1===window.navigator.userAgent.indexOf("Trident")),i=e,o=i.forceRefresh,a=void 0!==o&&o,s=i.getUserConfirmation,u=void 0===s?re:s,c=i.keyLength,f=void 0===c?6:c,h=e.basename?J($(e.basename)):"";function d(e){var t=e||{},n=t.key,r=t.state,i=window.location,o=i.pathname+i.search+i.hash;return h&&(o=X(o,h)),ee(o,r,n)}function p(){return Math.random().toString(36).substr(2,f)}var v=te();function g(e){l(I,e),I.length=t.length,v.notifyListeners(I.location,I.action)}function m(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||w(d(e.state))}function y(){w(d(ae()))}var b=!1;function w(e){if(b)b=!1,g();else{v.confirmTransitionTo(e,"POP",u,(function(t){t?g({action:"POP",location:e}):function(e){var t=I.location,n=x.indexOf(t.key);-1===n&&(n=0);var r=x.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(b=!0,E(i))}(e)}))}}var _=d(ae()),x=[_.key];function S(e){return h+Z(e)}function E(e){t.go(e)}var k=0;function T(e){1===(k+=e)&&1===e?(window.addEventListener(ie,m),r&&window.addEventListener(oe,y)):0===k&&(window.removeEventListener(ie,m),r&&window.removeEventListener(oe,y))}var C=!1;var I={length:t.length,action:"POP",location:_,createHref:S,push:function(e,r){var i="PUSH",o=ee(e,r,p(),I.location);v.confirmTransitionTo(o,i,u,(function(e){if(e){var r=S(o),s=o.key,u=o.state;if(n)if(t.pushState({key:s,state:u},null,r),a)window.location.href=r;else{var c=x.indexOf(I.location.key),l=x.slice(0,c+1);l.push(o.key),x=l,g({action:i,location:o})}else window.location.href=r}}))},replace:function(e,r){var i="REPLACE",o=ee(e,r,p(),I.location);v.confirmTransitionTo(o,i,u,(function(e){if(e){var r=S(o),s=o.key,u=o.state;if(n)if(t.replaceState({key:s,state:u},null,r),a)window.location.replace(r);else{var c=x.indexOf(I.location.key);-1!==c&&(x[c]=o.key),g({action:i,location:o})}else window.location.replace(r)}}))},go:E,goBack:function(){E(-1)},goForward:function(){E(1)},block:function(e){void 0===e&&(e=!1);var t=v.setPrompt(e);return C||(T(1),C=!0),function(){return C&&(C=!1,T(-1)),t()}},listen:function(e){var t=v.appendListener(e);return T(1),function(){T(-1),t()}}};return I}var ue="hashchange",ce={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+Q(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:Q,decodePath:$},slash:{encodePath:$,decodePath:$}};function le(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function fe(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function he(e){window.location.replace(le(window.location.href)+"#"+e)}function de(e){void 0===e&&{},ne||Y(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),r=n.getUserConfirmation,i=void 0===r?re:r,o=n.hashType,a=void 0===o?"slash":o,s=e.basename?J($(e.basename)):"",u=ce[a],c=u.encodePath,f=u.decodePath;function h(){var e=f(fe());return s&&X(e,s),ee(e)}var d=te();function p(e){l(T,e),T.length=t.length,d.notifyListeners(T.location,T.action)}var v=!1,g=null;function m(){var e=fe(),t=c(e);if(e!==t)he(t);else{var n=h(),r=T.location;if(!v&&function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash}(r,n))return;if(g===Z(n))return;null,function(e){if(v)!1,p();else{var t="POP";d.confirmTransitionTo(e,t,i,(function(n){n?p({action:t,location:e}):function(e){var t=T.location,n=_.lastIndexOf(Z(t));-1===n&&0;var r=_.lastIndexOf(Z(e));-1===r&&0;var i=n-r;i&&(!0,x(i))}(e)}))}}(n)}}var y=fe(),b=c(y);y!==b&&he(b);var w=h(),_=[Z(w)];function x(e){t.go(e)}var S=0;function E(e){1===(S+=e)&&1===e?window.addEventListener(ue,m):0===S&&window.removeEventListener(ue,m)}var k=!1;var T={length:t.length,action:"POP",location:w,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&le(window.location.href),n+"#"+c(s+Z(e))},push:function(e,t){var n="PUSH",r=ee(e,void 0,void 0,T.location);d.confirmTransitionTo(r,n,i,(function(e){if(e){var t=Z(r),i=c(s+t);if(fe()!==i){t,function(e){window.location.hash=e}(i);var o=_.lastIndexOf(Z(T.location)),a=_.slice(0,o+1);a.push(t),a,p({action:n,location:r})}else p()}}))},replace:function(e,t){var n="REPLACE",r=ee(e,void 0,void 0,T.location);d.confirmTransitionTo(r,n,i,(function(e){if(e){var t=Z(r),i=c(s+t);fe()!==i&&(t,he(i));var o=_.indexOf(Z(T.location));-1!==o&&(_[o]=t),p({action:n,location:r})}}))},go:x,goBack:function(){x(-1)},goForward:function(){x(1)},block:function(e){void 0===e&&!1;var t=d.setPrompt(e);return k||(E(1),!0),function(){return k&&(!1,E(-1)),t()}},listen:function(e){var t=d.appendListener(e);return E(1),function(){E(-1),t()}}};return T}function pe(e,t,n){return Math.min(Math.max(e,t),n)}function ve(e){void 0===e&&{};var t=e,n=t.getUserConfirmation,r=t.initialEntries,i=void 0===r?["/"]:r,o=t.initialIndex,a=void 0===o?0:o,s=t.keyLength,u=void 0===s?6:s,c=te();function f(e){l(m,e),m.length=m.entries.length,c.notifyListeners(m.location,m.action)}function h(){return Math.random().toString(36).substr(2,u)}var d=pe(a,0,i.length-1),p=i.map((function(e){return ee(e,void 0,"string"===typeof e?h():e.key||h())})),v=Z;function g(e){var t=pe(m.index+e,0,m.entries.length-1),r=m.entries[t];c.confirmTransitionTo(r,"POP",n,(function(e){e?f({action:"POP",location:r,index:t}):f()}))}var m={length:p.length,action:"POP",location:p[d],index:d,entries:p,createHref:v,push:function(e,t){var r="PUSH",i=ee(e,t,h(),m.location);c.confirmTransitionTo(i,r,n,(function(e){if(e){var t=m.index+1,n=m.entries.slice(0);n.length>t?n.splice(t,n.length-t,i):n.push(i),f({action:r,location:i,index:t,entries:n})}}))},replace:function(e,t){var r="REPLACE",i=ee(e,t,h(),m.location);c.confirmTransitionTo(i,r,n,(function(e){e&&(m.entries[m.index]=i,f({action:r,location:i}))}))},go:g,goBack:function(){g(-1)},goForward:function(){g(1)},canGo:function(e){var t=m.index+e;return t>=0&&t<m.entries.length},block:function(e){return void 0===e&&!1,c.setPrompt(e)},listen:function(e){return c.appendListener(e)}};return m}var ge=n(2007),me=n.n(ge),ye=1073741823,be="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{};function we(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}var _e=e.createContext||function(t,n){var r,i,o="__create-react-context-"+function(){var e="__global_unique_id__";return be[e]=(be[e]||0)+1}()+"__",a=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).emitter=we(t.props.value),t}q(t,e);var r=t.prototype;return r.getChildContext=function(){var e;return(e={})[o]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var t,r=this.props.value,i=e.value;!function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(r,i)?(t="function"===typeof n?n(r,i):ye,0!==(t|=0)&&this.emitter.set(e.value,t)):t=0}},r.render=function(){return this.props.children},t}(e.Component);a.childContextTypes=((r={})[o]=me().object.isRequired,r);var s=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).state={value:t.getValue()},t.onUpdate=function(e,n){0!==((0|t.observedBits)&n)&&t.setState({value:t.getValue()})},t}q(n,e);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?ye:t},r.componentDidMount=function(){this.context[o]&&this.context[o].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?ye:e},r.componentWillUnmount=function(){this.context[o]&&this.context[o].off(this.onUpdate)},r.getValue=function(){return this.context[o]?this.context[o].get():t},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(e.Component);return s.contextTypes=((i={})[o]=me().object,i),{Provider:a,Consumer:s}},xe=_e,Se=n(3813),Ee=n.n(Se),ke=(n(8228),function(e){var t=xe();return t.displayName=e,t}),Te=ke("Router-History"),Ce=function(e){var t=xe();return t.displayName=e,t},Ie=Ce("Router"),Pe=function(t){function n(e){var n;return(n=t.call(this,e)||this).state={location:e.history.location},n._isMounted=!1,n._pendingLocation=null,e.staticContext||(n.unlisten=e.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}q(n,t),n.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var r=n.prototype;return r.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},r.componentWillUnmount=function(){this.unlisten&&this.unlisten()},r.render=function(){return e.createElement(Ie.Provider,{value:{history:this.props.history,location:this.state.location,match:n.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},e.createElement(Te.Provider,{children:this.props.children||null,value:this.props.history}))},n}(e.Component);e.Component;var Oe=function(e){function t(){return e.apply(this,arguments)||this}q(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(e){this.props.onUpdate&&this.props.onUpdate.call(this,this,e)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},t}(e.Component);var Ae={},De=0;function Ne(e,t){return void 0===e&&(e="/"),void 0===t&&(t={}),"/"===e?e:function(e){if(Ae[e])return Ae[e];var t=Ee().compile(e);return De<1e4&&(Ae[e]=t,De++),t}(e)(t,{pretty:!0})}function Re(t){var n=t.computedMatch,r=t.to,i=t.push,o=void 0!==i&&i;return e.createElement(Ie.Consumer,null,(function(t){t||Y(!1);var i=t.history,a=t.staticContext,s=o?i.push:i.replace,u=ee(n?"string"===typeof r?Ne(r,n.params):l({},r,{pathname:Ne(r.pathname,n.params)}):r);return a?(s(u),null):e.createElement(Oe,{onMount:function(){s(u)},onUpdate:function(e,t){var n=ee(t.to);(function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&K(e.state,t.state)})(n,l({},u,{key:n.key}))||s(u)},to:r})}))}var je={},Me=0;function Le(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,o=void 0!==i&&i,a=n.strict,s=void 0!==a&&a,u=n.sensitive,c=void 0!==u&&u;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=je[n]||(je[n]={});if(r[e])return r[e];var i=[],o={regexp:Ee()(e,i,t),keys:i};return Me<1e4&&(r[e]=o,Me++),o}(n,{end:o,strict:s,sensitive:c}),i=r.regexp,a=r.keys,u=i.exec(e);if(!u)return null;var l=u[0],f=u.slice(1),h=e===l;return o&&!h?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:h,params:a.reduce((function(e,t,n){return e[t.name]=f[n],e}),{})}}),null)}var Fe=function(t){function n(){return t.apply(this,arguments)||this}return q(n,t),n.prototype.render=function(){var t=this;return e.createElement(Ie.Consumer,null,(function(n){n||Y(!1);var r=t.props.location||n.location,i=l({},n,{location:r,match:t.props.computedMatch?t.props.computedMatch:t.props.path?Le(r.pathname,t.props):n.match}),o=t.props,a=o.children,s=o.component,u=o.render;return Array.isArray(a)&&0===a.length&&(a=null),e.createElement(Ie.Provider,{value:i},i.match?a?"function"===typeof a?a(i):a:s?e.createElement(s,i):u?u(i):null:"function"===typeof a?a(i):null)}))},n}(e.Component);function Ue(e){return"/"===e.charAt(0)?e:"/"+e}function Be(e,t){if(!e)return t;var n=Ue(e);return 0!==t.pathname.indexOf(n)?t:l({},t,{pathname:t.pathname.substr(n.length)})}function qe(e){return"string"===typeof e?e:Z(e)}function Ve(e){return function(){Y(!1)}}function ze(){}e.Component;var We=function(t){function n(){return t.apply(this,arguments)||this}return q(n,t),n.prototype.render=function(){var t=this;return e.createElement(Ie.Consumer,null,(function(n){n||Y(!1);var r,i,o=t.props.location||n.location;return e.Children.forEach(t.props.children,(function(t){if(null==i&&e.isValidElement(t)){r=t;var a=t.props.path||t.props.from;i=a?Le(o.pathname,l({},t.props,{path:a})):n.match}})),i?e.cloneElement(r,{location:o,computedMatch:i}):null}))},n}(e.Component);var He=e.useContext;function Ke(){return He(Te)}var Ge=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).history=se(e.props),e}return q(n,t),n.prototype.render=function(){return e.createElement(Pe,{history:this.history,children:this.props.children})},n}(e.Component);e.Component;var Ye=function(e,t){return"function"===typeof e?e(t):e},$e=function(e,t){return"string"===typeof e?ee(e,null,null,t):e},Qe=function(e){return e},Xe=e.forwardRef;"undefined"===typeof Xe&&(Xe=Qe);var Je=Xe((function(t,n){var r=t.innerRef,i=t.navigate,o=t.onClick,a=f(t,["innerRef","navigate","onClick"]),s=a.target,u=l({},a,{onClick:function(e){try{o&&o(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||s&&"_self"!==s||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),i())}});return u.ref=Qe!==Xe&&n||r,e.createElement("a",u)}));var Ze=Xe((function(t,n){var r=t.component,i=void 0===r?Je:r,o=t.replace,a=t.to,s=t.innerRef,u=f(t,["component","replace","to","innerRef"]);return e.createElement(Ie.Consumer,null,(function(t){t||Y(!1);var r=t.history,c=$e(Ye(a,t.location),t.location),f=c?r.createHref(c):"",h=l({},u,{href:f,navigate:function(){var e=Ye(a,t.location);(o?r.replace:r.push)(e)}});return Qe!==Xe?h.ref=n||s:h.innerRef=s,e.createElement(i,h)}))})),et=function(e){return e},tt=e.forwardRef;"undefined"===typeof tt&&(tt=et);tt((function(t,n){var r=t["aria-current"],i=void 0===r?"page":r,o=t.activeClassName,a=void 0===o?"active":o,s=t.activeStyle,u=t.className,c=t.exact,h=t.isActive,d=t.location,p=t.sensitive,v=t.strict,g=t.style,m=t.to,y=t.innerRef,b=f(t,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return e.createElement(Ie.Consumer,null,(function(t){t||Y(!1);var r=d||t.location,o=$e(Ye(m,r),r),f=o.pathname,w=f&&f.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),_=w?Le(r.pathname,{path:w,exact:c,sensitive:p,strict:v}):null,x=!!(h?h(_,r):_),S=x?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(u,a):u,E=x?l({},g,{},s):g,k=l({"aria-current":x&&i||null,className:S,style:E,to:o},b);return et!==tt?k.ref=n||y:k.innerRef=y,e.createElement(Ze,k)}))}));function nt(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var rt=n(7441),it=n(9613),ot=n.n(it);var at=function(e){function t(e,r,u,c,h){for(var d,p,v,g,w,x=0,S=0,E=0,k=0,T=0,D=0,R=v=d=0,M=0,L=0,F=0,U=0,B=u.length,q=B-1,V="",z="",W="",H="";M<B;){if(p=u.charCodeAt(M),M===q&&0!==S+k+E+x&&(0!==S&&(p=47===S?10:47),k=E=x=0,B++,q++),0===S+k+E+x){if(M===q&&(0<L&&(V=V.replace(f,"")),0<V.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:V+=u.charAt(M)}p=59}switch(p){case 123:for(d=(V=V.trim()).charCodeAt(0),v=1,U=++M;M<B;){switch(p=u.charCodeAt(M)){case 123:v++;break;case 125:v--;break;case 47:switch(p=u.charCodeAt(M+1)){case 42:case 47:e:{for(R=M+1;R<q;++R)switch(u.charCodeAt(R)){case 47:if(42===p&&42===u.charCodeAt(R-1)&&M+2!==R){M=R+1;break e}break;case 10:if(47===p){M=R+1;break e}}M=R}}break;case 91:p++;case 40:p++;case 34:case 39:for(;M++<q&&u.charCodeAt(M)!==p;);}if(0===v)break;M++}if(v=u.substring(U,M),0===d&&(d=(V=V.replace(l,"").trim()).charCodeAt(0)),64===d){switch(0<L&&(V=V.replace(f,"")),p=V.charCodeAt(1)){case 100:case 109:case 115:case 45:L=r;break;default:L=A}if(U=(v=t(r,L,v,p,h+1)).length,0<N&&(w=s(3,v,L=n(A,V,F),r,I,C,U,p,h,c),V=L.join(""),void 0!==w&&0===(U=(v=w.trim()).length)&&(p=0,v="")),0<U)switch(p){case 115:V=V.replace(_,a);case 100:case 109:case 45:v=V+"{"+v+"}";break;case 107:v=(V=V.replace(m,"$1 $2"))+"{"+v+"}",v=1===O||2===O&&o("@"+v,3)?"@-webkit-"+v+"@"+v:"@"+v;break;default:v=V+v,112===c&&(z+=v,v="")}else v=""}else v=t(r,n(r,V,F),v,c,h+1);W+=v,v=F=L=R=d=0,V="",p=u.charCodeAt(++M);break;case 125:case 59:if(1<(U=(V=(0<L?V.replace(f,""):V).trim()).length))switch(0===R&&(d=V.charCodeAt(0),45===d||96<d&&123>d)&&(U=(V=V.replace(" ",":")).length),0<N&&void 0!==(w=s(1,V,r,e,I,C,z.length,c,h,c))&&0===(U=(V=w.trim()).length)&&(V="\0\0"),d=V.charCodeAt(0),p=V.charCodeAt(1),d){case 0:break;case 64:if(105===p||99===p){H+=V+u.charAt(M);break}default:58!==V.charCodeAt(U-1)&&(z+=i(V,d,p,V.charCodeAt(2)))}F=L=R=d=0,V="",p=u.charCodeAt(++M)}}switch(p){case 13:case 10:47===S?S=0:0===1+d&&107!==c&&0<V.length&&(L=1,V+="\0"),0<N*j&&s(0,V,r,e,I,C,z.length,c,h,c),C=1,I++;break;case 59:case 125:if(0===S+k+E+x){C++;break}default:switch(C++,g=u.charAt(M),p){case 9:case 32:if(0===k+x+S)switch(T){case 44:case 58:case 9:case 32:g="";break;default:32!==p&&(g=" ")}break;case 0:g="\\0";break;case 12:g="\\f";break;case 11:g="\\v";break;case 38:0===k+S+x&&(L=F=1,g="\f"+g);break;case 108:if(0===k+S+x+P&&0<R)switch(M-R){case 2:112===T&&58===u.charCodeAt(M-3)&&(P=T);case 8:111===D&&(P=D)}break;case 58:0===k+S+x&&(R=M);break;case 44:0===S+E+k+x&&(L=1,g+="\r");break;case 34:case 39:0===S&&(k=k===p?0:0===k?p:k);break;case 91:0===k+S+E&&x++;break;case 93:0===k+S+E&&x--;break;case 41:0===k+S+x&&E--;break;case 40:if(0===k+S+x){if(0===d)if(2*T+3*D===533);else d=1;E++}break;case 64:0===S+E+k+x+R+v&&(v=1);break;case 42:case 47:if(!(0<k+x+E))switch(S){case 0:switch(2*p+3*u.charCodeAt(M+1)){case 235:S=47;break;case 220:U=M,S=42}break;case 42:47===p&&42===T&&U+2!==M&&(33===u.charCodeAt(U+2)&&(z+=u.substring(U,M+1)),g="",S=0)}}0===S&&(V+=g)}D=T,T=p,M++}if(0<(U=z.length)){if(L=r,0<N&&(void 0!==(w=s(2,z,L,e,I,C,U,c,h,c))&&0===(z=w).length))return H+z+W;if(z=L.join(",")+"{"+z+"}",0!==O*P){switch(2!==O||o(z,2)||(P=0),P){case 111:z=z.replace(b,":-moz-$1")+z;break;case 112:z=z.replace(y,"::-webkit-input-$1")+z.replace(y,"::-moz-$1")+z.replace(y,":-ms-input-$1")+z}P=0}}return H+z+W}function n(e,t,n){var i=t.trim().split(v);t=i;var o=i.length,a=e.length;switch(a){case 0:case 1:var s=0;for(e=0===a?"":e[0]+" ";s<o;++s)t[s]=r(e,t[s],n).trim();break;default:var u=s=0;for(t=[];s<o;++s)for(var c=0;c<a;++c)t[u++]=r(e[c]+" ",i[s],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(g,"$1"+e.trim());case 58:return e.trim()+t.replace(g,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(g,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,r){var a=e+";",s=2*t+3*n+4*r;if(944===s){e=a.indexOf(":",9)+1;var u=a.substring(e,a.length-1).trim();return u=a.substring(0,e).trim()+u+";",1===O||2===O&&o(u,1)?"-webkit-"+u+u:u}if(0===O||2===O&&!o(a,1))return a;switch(s){case 1015:return 97===a.charCodeAt(10)?"-webkit-"+a+a:a;case 951:return 116===a.charCodeAt(3)?"-webkit-"+a+a:a;case 963:return 110===a.charCodeAt(5)?"-webkit-"+a+a:a;case 1009:if(100!==a.charCodeAt(4))break;case 969:case 942:return"-webkit-"+a+a;case 978:return"-webkit-"+a+"-moz-"+a+a;case 1019:case 983:return"-webkit-"+a+"-moz-"+a+"-ms-"+a+a;case 883:if(45===a.charCodeAt(8))return"-webkit-"+a+a;if(0<a.indexOf("image-set(",11))return a.replace(T,"$1-webkit-$2")+a;break;case 932:if(45===a.charCodeAt(4))switch(a.charCodeAt(5)){case 103:return"-webkit-box-"+a.replace("-grow","")+"-webkit-"+a+"-ms-"+a.replace("grow","positive")+a;case 115:return"-webkit-"+a+"-ms-"+a.replace("shrink","negative")+a;case 98:return"-webkit-"+a+"-ms-"+a.replace("basis","preferred-size")+a}return"-webkit-"+a+"-ms-"+a+a;case 964:return"-webkit-"+a+"-ms-flex-"+a+a;case 1023:if(99!==a.charCodeAt(8))break;return"-webkit-box-pack"+(u=a.substring(a.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+a+"-ms-flex-pack"+u+a;case 1005:return d.test(a)?a.replace(h,":-webkit-")+a.replace(h,":-moz-")+a:a;case 1e3:switch(t=(u=a.substring(13).trim()).indexOf("-")+1,u.charCodeAt(0)+u.charCodeAt(t)){case 226:u=a.replace(w,"tb");break;case 232:u=a.replace(w,"tb-rl");break;case 220:u=a.replace(w,"lr");break;default:return a}return"-webkit-"+a+"-ms-"+u+a;case 1017:if(-1===a.indexOf("sticky",9))break;case 975:switch(t=(a=e).length-10,s=(u=(33===a.charCodeAt(t)?a.substring(0,t):a).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|u.charCodeAt(7))){case 203:if(111>u.charCodeAt(8))break;case 115:a=a.replace(u,"-webkit-"+u)+";"+a;break;case 207:case 102:a=a.replace(u,"-webkit-"+(102<s?"inline-":"")+"box")+";"+a.replace(u,"-webkit-"+u)+";"+a.replace(u,"-ms-"+u+"box")+";"+a}return a+";";case 938:if(45===a.charCodeAt(5))switch(a.charCodeAt(6)){case 105:return u=a.replace("-items",""),"-webkit-"+a+"-webkit-box-"+u+"-ms-flex-"+u+a;case 115:return"-webkit-"+a+"-ms-flex-item-"+a.replace(S,"")+a;default:return"-webkit-"+a+"-ms-flex-line-pack"+a.replace("align-content","").replace(S,"")+a}break;case 973:case 989:if(45!==a.charCodeAt(3)||122===a.charCodeAt(4))break;case 931:case 953:if(!0===k.test(e))return 115===(u=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):a.replace(u,"-webkit-"+u)+a.replace(u,"-moz-"+u.replace("fill-",""))+a;break;case 962:if(a="-webkit-"+a+(102===a.charCodeAt(5)?"-ms-"+a:"")+a,211===n+r&&105===a.charCodeAt(13)&&0<a.indexOf("transform",10))return a.substring(0,a.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+a}return a}function o(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),R(2!==t?r:r.replace(E,"$1"),n,t)}function a(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(x," or ($1)").substring(4):"("+t+")"}function s(e,t,n,r,i,o,a,s,u,l){for(var f,h=0,d=t;h<N;++h)switch(f=D[h].call(c,e,d,n,r,i,o,a,s,u,l)){case void 0:case!1:case!0:case null:break;default:d=f}if(d!==t)return d}function u(e){return void 0!==(e=e.prefix)&&(R=null,e?"function"!==typeof e?O=1:(O=2,R=e):O=0),u}function c(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<N){var i=s(-1,n,r,r,I,C,0,0,0,0);void 0!==i&&"string"===typeof i&&(n=i)}var o=t(A,r,n,0,0);return 0<N&&(void 0!==(i=s(-2,o,r,r,I,C,o.length,0,0,0))&&(o=i)),"",P=0,C=I=1,o}var l=/^\0+/g,f=/[\0\r\f]/g,h=/: */g,d=/zoo|gra/,p=/([,: ])(transform)/g,v=/,\r+?/g,g=/([\t\r\n ])*\f?&/g,m=/@(k\w+)\s*(\S*)\s*/,y=/::(place)/g,b=/:(read-only)/g,w=/[svh]\w+-[tblr]{2}/,_=/\(\s*(.*)\s*\)/g,x=/([\s\S]*?);/g,S=/-self|flex-/g,E=/[^]*?(:[rp][el]a[\w-]+)[^]*/,k=/stretch|:\s*\w+\-(?:conte|avail)/,T=/([^-])(image-set\()/,C=1,I=1,P=0,O=1,A=[],D=[],N=0,R=null,j=0;return c.use=function e(t){switch(t){case void 0:case null:N=D.length=0;break;default:if("function"===typeof t)D[N++]=t;else if("object"===typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else j=0|!!t}return e},c.set=u,void 0!==e&&u(e),c},st={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var ut=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},ct=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,lt=ut((function(e){return ct.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));function ft(){return(ft=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var ht=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},dt=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!(0,rt.typeOf)(e)},pt=Object.freeze([]),vt=Object.freeze({});function gt(e){return"function"==typeof e}function mt(e){return e.displayName||e.name||"Component"}function yt(e){return e&&"string"==typeof e.styledComponentId}var bt="undefined"!=typeof process&&({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_ATTR)||"data-styled",wt="undefined"!=typeof window&&"HTMLElement"in window,_t=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY));function xt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var St=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)(i<<=1)<0&&xt(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var o=r;o<i;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(e+1),s=0,u=t.length;s<u;s++)this.tag.insertRule(a,t[s])&&(this.groupSizes[e]++,a++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,o=r;o<i;o++)t+=this.tag.getRule(o)+"/*!sc*/\n";return t},e}(),Et=new Map,kt=new Map,Tt=1,Ct=function(e){if(Et.has(e))return Et.get(e);for(;kt.has(Tt);)Tt++;var t=Tt++;return Et.set(e,t),kt.set(t,e),t},It=function(e){return kt.get(e)},Pt=function(e,t){Et.set(e,t),kt.set(t,e)},Ot="style["+bt+'][data-styled-version="5.3.0"]',At=new RegExp("^"+bt+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),Dt=function(e,t,n){for(var r,i=n.split(","),o=0,a=i.length;o<a;o++)(r=i[o])&&e.registerName(t,r)},Nt=function(e,t){for(var n=t.innerHTML.split("/*!sc*/\n"),r=[],i=0,o=n.length;i<o;i++){var a=n[i].trim();if(a){var s=a.match(At);if(s){var u=0|parseInt(s[1],10),c=s[2];0!==u&&(Pt(c,u),Dt(e,c,s[3]),e.getTag().insertRules(u,r)),r.length=0}else r.push(a)}}},Rt=function(){return"undefined"!=typeof window&&void 0!==window.__webpack_nonce__?window.__webpack_nonce__:null},jt=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(bt))return r}}(n),o=void 0!==i?i.nextSibling:null;r.setAttribute(bt,"active"),r.setAttribute("data-styled-version","5.3.0");var a=Rt();return a&&r.setAttribute("nonce",a),n.insertBefore(r,o),r},Mt=function(){function e(e){var t=this.element=jt(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}xt(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),Lt=function(){function e(e){var t=this.element=jt(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),Ft=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),Ut=wt,Bt={isServer:!wt,useCSSOMInjection:!_t},qt=function(){function e(e,t,n){void 0===e&&(e=vt),void 0===t&&(t={}),this.options=ft({},Bt,{},e),this.gs=t,this.names=new Map(n),!this.options.isServer&&wt&&Ut&&(Ut=!1,function(e){for(var t=document.querySelectorAll(Ot),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(bt)&&(Nt(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return Ct(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(ft({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,i=t.target,e=n?new Ft(i):r?new Mt(i):new Lt(i),new St(e)));var e,t,n,r,i},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(Ct(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(Ct(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(Ct(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=0;i<n;i++){var o=It(i);if(void 0!==o){var a=e.names.get(o),s=t.getGroup(i);if(void 0!==a&&0!==s.length){var u=bt+".g"+i+'[id="'+o+'"]',c="";void 0!==a&&a.forEach((function(e){e.length>0&&(c+=e+",")})),r+=""+s+u+'{content:"'+c+'"}/*!sc*/\n'}}}return r}(this)},e}(),Vt=/(a)(d)/gi,zt=function(e){return String.fromCharCode(e+(e>25?39:97))};function Wt(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=zt(t%52)+n;return(zt(t%52)+n).replace(Vt,"$1-$2")}var Ht=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},Kt=function(e){return Ht(5381,e)};function Gt(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(gt(n)&&!yt(n))return!1}return!0}var Yt=Kt("5.3.0"),$t=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&Gt(e),this.componentId=t,this.baseHash=Ht(Yt,t),this.baseStyle=n,qt.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))i.push(this.staticRulesId);else{var o=pn(this.rules,e,t,n).join(""),a=Wt(Ht(this.baseHash,o.length)>>>0);if(!t.hasNameForId(r,a)){var s=n(o,"."+a,void 0,r);t.insertRules(r,a,s)}i.push(a),this.staticRulesId=a}else{for(var u=this.rules.length,c=Ht(this.baseHash,n.hash),l="",f=0;f<u;f++){var h=this.rules[f];if("string"==typeof h)l+=h;else if(h){var d=pn(h,e,t,n),p=Array.isArray(d)?d.join(""):d;c=Ht(c,p+f),l+=p}}if(l){var v=Wt(c>>>0);if(!t.hasNameForId(r,v)){var g=n(l,"."+v,void 0,r);t.insertRules(r,v,g)}i.push(v)}}return i.join(" ")},e}(),Qt=/^\s*\/\/.*$/gm,Xt=[":","[",".","#"];function Jt(e){var t,n,r,i,o=void 0===e?vt:e,a=o.options,s=void 0===a?vt:a,u=o.plugins,c=void 0===u?pt:u,l=new at(s),f=[],h=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,i,o,a,s,u,c,l,f){switch(n){case 1:if(0===l&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===c)return r+"/*|*/";break;case 3:switch(c){case 102:case 112:return e(i[0]+r),"";default:return r+(0===f?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}((function(e){f.push(e)})),d=function(e,r,o){return 0===r&&-1!==Xt.indexOf(o[n.length])||o.match(i)?e:"."+t};function p(e,o,a,s){void 0===s&&(s="&");var u=e.replace(Qt,""),c=o&&a?a+" "+o+" { "+u+" }":u;return t=s,n=o,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),l(a||!o?"":o,c)}return l.use([].concat(c,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(r,d))},h,function(e){if(-2===e){var t=f;return f=[],t}}])),p.hash=c.length?c.reduce((function(e,t){return t.name||xt(15),Ht(e,t.name)}),5381).toString():"",p}var Zt=e.createContext(),en=(Zt.Consumer,e.createContext()),tn=(en.Consumer,new qt),nn=Jt();function rn(){return(0,e.useContext)(Zt)||tn}function on(){return(0,e.useContext)(en)||nn}function an(t){var n=(0,e.useState)(t.stylisPlugins),r=n[0],i=n[1],o=rn(),a=(0,e.useMemo)((function(){var e=o;return t.sheet?e=t.sheet:t.target&&(e=e.reconstructWithOptions({target:t.target},!1)),t.disableCSSOMInjection&&(e=e.reconstructWithOptions({useCSSOMInjection:!1})),e}),[t.disableCSSOMInjection,t.sheet,t.target]),s=(0,e.useMemo)((function(){return Jt({options:{prefix:!t.disableVendorPrefixes},plugins:r})}),[t.disableVendorPrefixes,r]);return(0,e.useEffect)((function(){ot()(r,t.stylisPlugins)||i(t.stylisPlugins)}),[t.stylisPlugins]),e.createElement(Zt.Provider,{value:a},e.createElement(en.Provider,{value:s},t.children))}var sn=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=nn);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){return xt(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=nn),this.name+e.hash},e}(),un=/([A-Z])/,cn=/([A-Z])/g,ln=/^ms-/,fn=function(e){return"-"+e.toLowerCase()};function hn(e){return un.test(e)?e.replace(cn,fn).replace(ln,"-ms-"):e}var dn=function(e){return null==e||!1===e||""===e};function pn(e,t,n,r){if(Array.isArray(e)){for(var i,o=[],a=0,s=e.length;a<s;a+=1)""!==(i=pn(e[a],t,n,r))&&(Array.isArray(i)?o.push.apply(o,i):o.push(i));return o}return dn(e)?"":yt(e)?"."+e.styledComponentId:gt(e)?"function"!=typeof(u=e)||u.prototype&&u.prototype.isReactComponent||!t?e:pn(e(t),t,n,r):e instanceof sn?n?(e.inject(n,r),e.getName(r)):e:dt(e)?function e(t,n){var r,i,o=[];for(var a in t)t.hasOwnProperty(a)&&!dn(t[a])&&(dt(t[a])?o.push.apply(o,e(t[a],a)):gt(t[a])?o.push(hn(a)+":",t[a],";"):o.push(hn(a)+": "+(r=a,(null==(i=t[a])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in st?String(i).trim():i+"px")+";")));return n?[n+" {"].concat(o,["}"]):o}(e):e.toString();var u}function vn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return gt(e)||dt(e)?pn(ht(pt,[e].concat(n))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:pn(ht(e,n))}new Set;var gn=function(e,t,n){return void 0===n&&(n=vt),e.theme!==n.theme&&e.theme||t||n.theme},mn=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,yn=/(^-|-$)/g;function bn(e){return e.replace(mn,"-").replace(yn,"")}var wn=function(e){return Wt(Kt(e)>>>0)};function _n(e){return"string"==typeof e&&!0}var xn=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},Sn=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function En(e,t,n){var r=e[n];xn(t)&&xn(r)?kn(r,t):e[n]=t}function kn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];if(xn(a))for(var s in a)Sn(s)&&En(e,a[s],s)}return e}var Tn=e.createContext();Tn.Consumer;var Cn={};function In(t,n,r){var i=yt(t),o=!_n(t),a=n.attrs,s=void 0===a?pt:a,u=n.componentId,c=void 0===u?function(e,t){var n="string"!=typeof e?"sc":bn(e);Cn[n]=(Cn[n]||0)+1;var r=n+"-"+wn("5.3.0"+n+Cn[n]);return t?t+"-"+r:r}(n.displayName,n.parentComponentId):u,l=n.displayName,f=void 0===l?function(e){return _n(e)?"styled."+e:"Styled("+mt(e)+")"}(t):l,h=n.displayName&&n.componentId?bn(n.displayName)+"-"+n.componentId:n.componentId||c,p=i&&t.attrs?Array.prototype.concat(t.attrs,s).filter(Boolean):s,v=n.shouldForwardProp;i&&t.shouldForwardProp&&(v=n.shouldForwardProp?function(e,r,i){return t.shouldForwardProp(e,r,i)&&n.shouldForwardProp(e,r,i)}:t.shouldForwardProp);var g,m=new $t(r,h,i?t.componentStyle:void 0),y=m.isStatic&&0===s.length,b=function(t,n){return function(t,n,r,i){var o=t.attrs,a=t.componentStyle,s=t.defaultProps,u=t.foldedComponentIds,c=t.shouldForwardProp,l=t.styledComponentId,f=t.target,h=function(e,t,n){void 0===e&&(e=vt);var r=ft({},t,{theme:e}),i={};return n.forEach((function(e){var t,n,o,a=e;for(t in gt(a)&&(a=a(r)),a)r[t]=i[t]="className"===t?(n=i[t],o=a[t],n&&o?n+" "+o:n||o):a[t]})),[r,i]}(gn(n,(0,e.useContext)(Tn),s)||vt,n,o),d=h[0],p=h[1],v=function(e,t,n,r){var i=rn(),o=on();return t?e.generateAndInjectStyles(vt,i,o):e.generateAndInjectStyles(n,i,o)}(a,i,d),g=r,m=p.$as||n.$as||p.as||n.as||f,y=_n(m),b=p!==n?ft({},n,{},p):n,w={};for(var _ in b)"$"!==_[0]&&"as"!==_&&("forwardedAs"===_?w.as=b[_]:(c?c(_,lt,m):!y||lt(_))&&(w[_]=b[_]));return n.style&&p.style!==n.style&&(w.style=ft({},n.style,{},p.style)),w.className=Array.prototype.concat(u,l,v!==l?v:null,n.className,p.className).filter(Boolean).join(" "),w.ref=g,(0,e.createElement)(m,w)}(g,t,n,y)};return b.displayName=f,(g=e.forwardRef(b)).attrs=p,g.componentStyle=m,g.displayName=f,g.shouldForwardProp=v,g.foldedComponentIds=i?Array.prototype.concat(t.foldedComponentIds,t.styledComponentId):pt,g.styledComponentId=h,g.target=i?t.target:t,g.withComponent=function(e){var t=n.componentId,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(n,["componentId"]),o=t&&t+"-"+(_n(e)?e:bn(mt(e)));return In(e,ft({},i,{attrs:p,componentId:o}),r)},Object.defineProperty(g,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(e){this._foldedDefaultProps=i?kn({},t.defaultProps,e):e}}),g.toString=function(){return"."+g.styledComponentId},o&&d()(g,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),g}var Pn=function(e){return function e(t,n,r){if(void 0===r&&(r=vt),!(0,rt.isValidElementType)(n))return xt(1,String(n));var i=function(){return t(n,r,vn.apply(void 0,arguments))};return i.withConfig=function(i){return e(t,n,ft({},r,{},i))},i.attrs=function(i){return e(t,n,ft({},r,{attrs:Array.prototype.concat(r.attrs,i).filter(Boolean)}))},i}(In,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(e){Pn[e]=Pn(e)}));!function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=Gt(e),qt.registerId(this.componentId+1)}var t=e.prototype;t.createStyles=function(e,t,n,r){var i=r(pn(this.rules,t,n,r).join(""),""),o=this.componentId+e;n.insertRules(o,o,i)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,n,r){e>2&&qt.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)}}();!function(){function t(){var t=this;this._emitSheetCSS=function(){var e=t.instance.toString(),n=Rt();return"<style "+[n&&'nonce="'+n+'"',bt+'="true"','data-styled-version="5.3.0"'].filter(Boolean).join(" ")+">"+e+"</style>"},this.getStyleTags=function(){return t.sealed?xt(2):t._emitSheetCSS()},this.getStyleElement=function(){var n;if(t.sealed)return xt(2);var r=((n={})[bt]="",n["data-styled-version"]="5.3.0",n.dangerouslySetInnerHTML={__html:t.instance.toString()},n),i=Rt();return i&&(r.nonce=i),[e.createElement("style",ft({},r,{key:"sc-0-0"}))]},this.seal=function(){t.sealed=!0},this.instance=new qt({isServer:!0}),this.sealed=!1}var n=t.prototype;n.collectStyles=function(t){return this.sealed?xt(2):e.createElement(an,{sheet:this.instance},t)},n.interleaveWithNodeStream=function(e){return xt(3)}}();var On=Pn;function An(e){if(Array.isArray(e))return e}function Dn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Nn(e,t){if(e){if("string"===typeof e)return Dn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Dn(e,t):void 0}}function Rn(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function jn(e,t){return An(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||Nn(e,t)||Rn()}var Mn=n(5637),Ln="8.10.1";Mn.default.registerVersion("firebase",Ln,"app"),Mn.default.SDK_VERSION=Ln,function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)};var r=function(e){e=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof n.g&&n.g,e];for(var t=0;t<e.length;++t){var r=e[t];if(r&&r.Math==Math)return r}return globalThis}(this);function i(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}function o(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:i(e)}}!function(e,n){if(n){var i=r;e=e.split(".");for(var o=0;o<e.length-1;o++){var a=e[o];a in i||(i[a]={}),i=i[a]}(n=n(o=i[e=e[e.length-1]]))!=o&&null!=n&&t(i,e,{configurable:!0,writable:!0,value:n})}}("Promise",(function(e){function t(e){this.b=0,this.c=void 0,this.a=[];var t=this.f();try{e(t.resolve,t.reject)}catch(n){t.reject(n)}}function n(){this.a=null}function i(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;n.prototype.b=function(e){if(null==this.a){this.a=[];var t=this;this.c((function(){t.g()}))}this.a.push(e)};var a=r.setTimeout;n.prototype.c=function(e){a(e,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var e=this.a;this.a=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch($n){this.f($n)}}}this.a=null},n.prototype.f=function(e){this.c((function(){throw e}))},t.prototype.f=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.m),reject:e(this.g)}},t.prototype.m=function(e){if(e===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.s(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.v(e):this.h(e)}},t.prototype.v=function(e){var t=void 0;try{t=e.then}catch(n){return void this.g(n)}"function"==typeof t?this.u(t,e):this.h(e)},t.prototype.g=function(e){this.i(2,e)},t.prototype.h=function(e){this.i(1,e)},t.prototype.i=function(e,t){if(0!=this.b)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.b);this.b=e,this.c=t,this.l()},t.prototype.l=function(){if(null!=this.a){for(var e=0;e<this.a.length;++e)s.b(this.a[e]);this.a=null}};var s=new n;return t.prototype.s=function(e){var t=this.f();e.Ra(t.resolve,t.reject)},t.prototype.u=function(e,t){var n=this.f();try{e.call(t,n.resolve,n.reject)}catch($n){n.reject($n)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{i(e(t))}catch(ga){o(ga)}}:t}var i,o,a=new t((function(e,t){i=e,o=t}));return this.Ra(r(e,i),r(n,o)),a},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.Ra=function(e,t){function n(){switch(r.b){case 1:e(r.c);break;case 2:t(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},t.resolve=i,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var r=o(e),a=r.next();!a.done;a=r.next())i(a.value).Ra(t,n)}))},t.all=function(e){var n=o(e),r=n.next();return r.done?i([]):new t((function(e,t){function o(t){return function(n){a[t]=n,0==--s&&e(a)}}var a=[],s=0;do{a.push(void 0),s++,i(r.value).Ra(o(a.length-1),t),r=n.next()}while(!r.done)}))},t}));var a=a||{},s=this||self,u=/^[\w+/_-]+[=]{0,2}$/,c=null;function l(e){return(e=e.querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&u.test(e)?e:""}function f(){}function h(e){var t=typeof e;return"object"!=t?t:e?Array.isArray(e)?"array":t:"null"}function d(e){var t=h(e);return"array"==t||"object"==t&&"number"==typeof e.length}function p(e){return"function"==h(e)}function v(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function g(e){return Object.prototype.hasOwnProperty.call(e,m)&&e[m]||(e[m]=++y)}var m="closure_uid_"+(1e9*Math.random()>>>0),y=0;function b(e,t,n){return e.call.apply(e.bind,arguments)}function w(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function _(e,t,n){return(_=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?b:w).apply(null,arguments)}function x(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var S=Date.now;function E(e,t){function n(){}n.prototype=t.prototype,e.bb=t.prototype,e.prototype=new n,e.prototype.constructor=e}function k(e){return e}function T(e,t,n){this.code=P+e,this.message=t||O[e]||"",this.a=n||null}function C(e){var t=e&&e.code;return t?new T(t.substring(P.length),e.message,e.serverResponse):null}E(T,Error),T.prototype.w=function(){var e={code:this.code,message:this.message};return this.a&&(e.serverResponse=this.a),e},T.prototype.toJSON=function(){return this.w()};var I,P="auth/",O={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},A={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function D(e){for(var t in A)if(A[t].id===e)return{firebaseEndpoint:(e=A[t]).Ua,secureTokenEndpoint:e.$a,identityPlatformEndpoint:e.Xa};return null}function N(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(gt){return!1}}function R(e){if(Error.captureStackTrace)Error.captureStackTrace(this,R);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}function j(e,t){for(var n="",r=(e=e.split("%s")).length-1,i=0;i<r;i++)n+=e[i]+(i<t.length?t[i]:"%s");R.call(this,n+e[r])}function M(e,t){throw new j("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}function L(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function F(e,t){e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}function U(){this.b=this.a=null}I=D("__EID__")?"__EID__":void 0,E(R,Error),R.prototype.name="CustomError",E(j,R),j.prototype.name="AssertionError",L.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var B=new L((function(){return new V}),(function(e){e.reset()}));function q(){var e=_t,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function V(){this.next=this.b=this.a=null}U.prototype.add=function(e,t){var n=B.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},V.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},V.prototype.reset=function(){this.next=this.b=this.a=null};var z=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},W=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};var H=Array.prototype.filter?function(e,t){return Array.prototype.filter.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=[],i=0,o="string"===typeof e?e.split(""):e,a=0;a<n;a++)if(a in o){var s=o[a];t.call(void 0,s,a,e)&&(r[i++]=s)}return r},K=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=Array(n),i="string"===typeof e?e.split(""):e,o=0;o<n;o++)o in i&&(r[o]=t.call(void 0,i[o],o,e));return r},G=Array.prototype.some?function(e,t){return Array.prototype.some.call(e,t,void 0)}:function(e,t){for(var n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e))return!0;return!1};function Y(e,t){return 0<=z(e,t)}function $(e,t){var n;return(n=0<=(t=z(e,t)))&&Array.prototype.splice.call(e,t,1),n}function Q(e,t){!function(e,t){for(var n="string"===typeof e?e.split(""):e,r=e.length-1;0<=r;--r)r in n&&t.call(void 0,n[r],r,e)}(e,(function(n,r){t.call(void 0,n,r,e)&&1==Array.prototype.splice.call(e,r,1).length&&0}))}function X(e){return Array.prototype.concat.apply([],arguments)}function J(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}var Z,ee=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},te=/&/g,ne=/</g,re=/>/g,ie=/"/g,oe=/'/g,ae=/\x00/g,se=/[\x00&<>"']/;function ue(e,t){return-1!=e.indexOf(t)}function ce(e,t){return e<t?-1:e>t?1:0}e:{var le=s.navigator;if(le){var fe=le.userAgent;if(fe){Z=fe;break e}}Z=""}function he(e){return ue(Z,e)}function de(e,t){for(var n in e)t.call(void 0,e[n],n,e)}function pe(e){for(var t in e)return!1;return!0}function ve(e){var t,n={};for(t in e)n[t]=e[t];return n}var ge="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function me(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<ge.length;o++)n=ge[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function ye(e,t){e:{try{var n=e&&e.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||s).Element&&r.Location){var i=r;break e}}catch(ht){}i=null}if(i&&"undefined"!=typeof i[t]&&(!e||!(e instanceof i[t])&&(e instanceof i.Location||e instanceof i.Element))){if(v(e))try{var o=e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch(ht){o="<object could not be stringified>"}else o=void 0===e?"undefined":null===e?"null":typeof e;M("Argument is not a %s (or a non-Element, non-Location mock); got: %s",t,o)}}function be(e,t){this.a=e===Se&&t||"",this.b=xe}function we(e){return e instanceof be&&e.constructor===be&&e.b===xe?e.a:(M("expected object of type Const, got '"+e+"'"),"type_error:Const")}be.prototype.ta=!0,be.prototype.sa=function(){return this.a},be.prototype.toString=function(){return"Const{"+this.a+"}"};var _e,xe={},Se={};function Ee(){if(void 0===_e){var e=null,t=s.trustedTypes;if(t&&t.createPolicy){try{e=t.createPolicy("goog#html",{createHTML:k,createScript:k,createScriptURL:k})}catch(n){s.console&&s.console.error(n.message)}_e=e}else _e=e}return _e}function ke(e,t){this.a=t===Oe?e:""}function Te(e){return e instanceof ke&&e.constructor===ke?e.a:(M("expected object of type TrustedResourceUrl, got '"+e+"' of type "+h(e)),"type_error:TrustedResourceUrl")}function Ce(e,t){var n=we(e);if(!Pe.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(e){var t=Ee();return new ke(e=t?t.createScriptURL(e):e,Oe)}(e=n.replace(Ie,(function(e,r){if(!Object.prototype.hasOwnProperty.call(t,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(t));return(e=t[r])instanceof be?we(e):encodeURIComponent(String(e))})))}ke.prototype.ta=!0,ke.prototype.sa=function(){return this.a.toString()},ke.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Ie=/%{(\w+)}/g,Pe=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Oe={};function Ae(e,t){this.a=t===Fe?e:""}function De(e){return e instanceof Ae&&e.constructor===Ae?e.a:(M("expected object of type SafeUrl, got '"+e+"' of type "+h(e)),"type_error:SafeUrl")}Ae.prototype.ta=!0,Ae.prototype.sa=function(){return this.a.toString()},Ae.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Ne=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Re=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,je=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Me(e){if(e instanceof Ae)return e;if(e="object"==typeof e&&e.ta?e.sa():String(e),je.test(e))e=new Ae(e,Fe);else{var t=(e=(e=String(e)).replace(/(%0A|%0D)/g,"")).match(Re);e=t&&Ne.test(t[1])?new Ae(e,Fe):null}return e}function Le(e){return e instanceof Ae?e:(e="object"==typeof e&&e.ta?e.sa():String(e),je.test(e)||(e="about:invalid#zClosurez"),new Ae(e,Fe))}var Fe={},Ue=new Ae("about:invalid#zClosurez",Fe);function Be(e,t,n){this.a=n===qe?e:""}Be.prototype.ta=!0,Be.prototype.sa=function(){return this.a.toString()},Be.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var qe={};function Ve(e,t,n,r){return e=e instanceof Ae?e:Le(e),t=t||s,n=n instanceof be?we(n):n||"",t.open(De(e),n,r,void 0)}function ze(e,t){for(var n=e.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function We(e){return se.test(e)&&(-1!=e.indexOf("&")&&(e=e.replace(te,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(ne,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(re,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(ie,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(oe,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(ae,"&#0;"))),e}function He(e){return He[" "](e),e}He[" "]=f;var Ke,Ge=he("Opera"),Ye=he("Trident")||he("MSIE"),$e=he("Edge"),Qe=$e||Ye,Xe=he("Gecko")&&!(ue(Z.toLowerCase(),"webkit")&&!he("Edge"))&&!(he("Trident")||he("MSIE"))&&!he("Edge"),Je=ue(Z.toLowerCase(),"webkit")&&!he("Edge");function Ze(){var e=s.document;return e?e.documentMode:void 0}e:{var et="",tt=function(){var e=Z;return Xe?/rv:([^\);]+)(\)|;)/.exec(e):$e?/Edge\/([\d\.]+)/.exec(e):Ye?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Je?/WebKit\/(\S+)/.exec(e):Ge?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(tt&&(et=tt?tt[1]:""),Ye){var nt=Ze();if(null!=nt&&nt>parseFloat(et)){Ke=String(nt);break e}}Ke=et}var rt,it={};function ot(e){return function(e,t){var n=it;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(){for(var t=0,n=ee(String(Ke)).split("."),r=ee(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=ce(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||ce(0==a[2].length,0==s[2].length)||ce(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t}))}if(s.document&&Ye){var at=Ze();rt=at||(parseInt(Ke,10)||void 0)}else rt=void 0;var st=rt;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(va){}var ut=!Ye||9<=Number(st);function ct(e){var t=document;return"string"===typeof e?t.getElementById(e):e}function lt(e,t){de(t,(function(t,n){t&&"object"==typeof t&&t.ta&&(t=t.sa()),"style"==n?e.style.cssText=t:"class"==n?e.className=t:"for"==n?e.htmlFor=t:pt.hasOwnProperty(n)?e.setAttribute(pt[n],t):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?e.setAttribute(n,t):e[n]=t}))}var ft,dt,pt={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function vt(e,t,n){function r(n){n&&t.appendChild("string"===typeof n?e.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!d(o)||v(o)&&0<o.nodeType)r(o);else{e:{if(o&&"number"==typeof o.length){if(v(o)){var a="function"==typeof o.item||"string"==typeof o.item;break e}if(p(o)){a="function"==typeof o.item;break e}}a=!1}W(a?J(o):o,r)}}}function mt(e,t){return t=String(t),"application/xhtml+xml"===e.contentType&&(t=t.toLowerCase()),e.createElement(t)}function yt(e){s.setTimeout((function(){throw e}),0)}function bt(e,t){dt||function(){if(s.Promise&&s.Promise.resolve){var e=s.Promise.resolve(void 0);dt=function(){e.then(xt)}}else dt=function(){var e=xt;!p(s.setImmediate)||s.Window&&s.Window.prototype&&!he("Edge")&&s.Window.prototype.setImmediate==s.setImmediate?(ft||(ft=function(){var e=s.MessageChannel;if("undefined"===typeof e&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!he("Presto")&&(e=function(){var e=mt(document,"IFRAME");e.style.display="none",document.documentElement.appendChild(e);var t=e.contentWindow;(e=t.document).open(),e.close();var n="callImmediate"+Math.random(),r="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=_((function(e){"*"!=r&&e.origin!=r||e.data!=n||this.port1.onmessage()}),this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,r)}}}),"undefined"!==typeof e&&!he("Trident")&&!he("MSIE")){var t=new e,n={},r=n;return t.port1.onmessage=function(){if(void 0!==n.next){var e=(n=n.next).Hb;n.Hb=null,e()}},function(e){r.next={Hb:e},r=r.next,t.port2.postMessage(0)}}return function(e){s.setTimeout(e,0)}}()),ft(e)):s.setImmediate(e)}}(),wt||(dt(),wt=!0),_t.add(e,t)}var wt=!1,_t=new U;function xt(){for(var e;e=q();){try{e.a.call(e.b)}catch(gt){yt(gt)}F(B,e)}wt=!1}function St(e,t){if(this.a=Et,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,e!=f)try{var n=this;e.call(t,(function(e){Lt(n,kt,e)}),(function(e){if(!(e instanceof Wt))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(wm){}Lt(n,Tt,e)}))}catch(r){Lt(this,Tt,r)}}var Et=0,kt=2,Tt=3;function Ct(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Ct.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var It=new L((function(){return new Ct}),(function(e){e.reset()}));function Pt(e,t,n){var r=It.get();return r.g=e,r.b=t,r.f=n,r}function Ot(e){if(e instanceof St)return e;var t=new St(f);return Lt(t,kt,e),t}function At(e){return new St((function(t,n){n(e)}))}function Dt(e,t,n){Ft(e,t,n,null)||bt(x(t,e))}function Nt(e){return new St((function(t){var n=e.length,r=[];if(n)for(var i=function(e,i,o){n--,r[e]=i?{Qb:!0,value:o}:{Qb:!1,reason:o},0==n&&t(r)},o=0;o<e.length;o++)Dt(e[o],x(i,o,!0),x(i,o,!1));else t(r)}))}function Rt(e,t){if(e.a==Et)if(e.c){var n=e.c;if(n.b){for(var r=0,i=null,o=null,a=n.b;a&&(a.c||(r++,a.a==e&&(i=a),!(i&&1<r)));a=a.next)i||(o=a);i&&(n.a==Et&&1==r?Rt(n,t):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):Bt(n),qt(n,i,Tt,t)))}e.c=null}else Lt(e,Tt,t)}function jt(e,t){e.b||e.a!=kt&&e.a!=Tt||Ut(e),e.f?e.f.next=t:e.b=t,e.f=t}function Mt(e,t,n,r){var i=Pt(null,null,null);return i.a=new St((function(e,o){i.g=t?function(n){try{var i=t.call(r,n);e(i)}catch($n){o($n)}}:e,i.b=n?function(t){try{var i=n.call(r,t);void 0===i&&t instanceof Wt?o(t):e(i)}catch($n){o($n)}}:o})),i.a.c=e,jt(e,i),i.a}function Lt(e,t,n){e.a==Et&&(e===n&&(t=Tt,n=new TypeError("Promise cannot resolve to itself")),e.a=1,Ft(n,e.$c,e.ad,e)||(e.i=n,e.a=t,e.c=null,Ut(e),t!=Tt||n instanceof Wt||function(e,t){e.g=!0,bt((function(){e.g&&zt.call(null,t)}))}(e,n)))}function Ft(e,t,n,r){if(e instanceof St)return jt(e,Pt(t||f,n||null,r)),!0;if(N(e))return e.then(t,n,r),!0;if(v(e))try{var i=e.then;if(p(i))return function(e,t,n,r,i){function o(e){s||(s=!0,r.call(i,e))}function a(e){s||(s=!0,n.call(i,e))}var s=!1;try{t.call(e,a,o)}catch(u){o(u)}}(e,i,t,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function Ut(e){e.h||(e.h=!0,bt(e.gc,e))}function Bt(e){var t=null;return e.b&&(t=e.b,e.b=t.next,t.next=null),e.b||(e.f=null),t}function qt(e,t,n,r){if(n==Tt&&t.b&&!t.c)for(;e&&e.g;e=e.c)e.g=!1;if(t.a)t.a.c=null,Vt(t,n,r);else try{t.c?t.g.call(t.f):Vt(t,n,r)}catch(wm){zt.call(null,wm)}F(It,t)}function Vt(e,t,n){t==kt?e.g.call(e.f,n):e.b&&e.b.call(e.f,n)}St.prototype.then=function(e,t,n){return Mt(this,p(e)?e:null,p(t)?t:null,n)},St.prototype.$goog_Thenable=!0,(e=St.prototype).oa=function(e,t){return(e=Pt(e,e,t)).c=!0,jt(this,e),this},e.o=function(e,t){return Mt(this,null,e,t)},e.cancel=function(e){if(this.a==Et){var t=new Wt(e);bt((function(){Rt(this,t)}),this)}},e.$c=function(e){this.a=Et,Lt(this,kt,e)},e.ad=function(e){this.a=Et,Lt(this,Tt,e)},e.gc=function(){for(var e;e=Bt(this);)qt(this,e,this.a,this.i);this.h=!1};var zt=yt;function Wt(e){R.call(this,e)}function Ht(){0!=Kt&&(Gt[g(this)]=this),this.ya=this.ya,this.pa=this.pa}E(Wt,R),Wt.prototype.name="cancel";var Kt=0,Gt={};function Yt(e){if(!e.ya&&(e.ya=!0,e.Da(),0!=Kt)){var t=g(e);if(0!=Kt&&e.pa&&0<e.pa.length)throw Error(e+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Gt[t]}}Ht.prototype.ya=!1,Ht.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var $t=Object.freeze||function(e){return e},Qt=!Ye||9<=Number(st),Xt=Ye&&!ot("9"),Jt=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{s.addEventListener("test",f,t),s.removeEventListener("test",f,t)}catch(n){}return e}();function Zt(e,t){this.type=e,this.b=this.target=t,this.defaultPrevented=!1}function en(e,t){if(Zt.call(this,e?e.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.b=t,t=e.relatedTarget){if(Xe){e:{try{He(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:tn[e.pointerType]||"",this.a=e,e.defaultPrevented&&this.preventDefault()}}Zt.prototype.preventDefault=function(){this.defaultPrevented=!0},E(en,Zt);var tn=$t({2:"touch",3:"pen",4:"mouse"});en.prototype.preventDefault=function(){en.bb.preventDefault.call(this);var e=this.a;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,Xt)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(gt){}},en.prototype.g=function(){return this.a};var nn="closure_listenable_"+(1e6*Math.random()|0),rn=0;function on(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.Wa=i,this.key=++rn,this.wa=this.Qa=!1}function an(e){e.wa=!0,e.listener=null,e.proxy=null,e.src=null,e.Wa=null}function sn(e){this.src=e,this.a={},this.b=0}function un(e,t){var n=t.type;n in e.a&&$(e.a[n],t)&&(an(t),0==e.a[n].length&&(delete e.a[n],e.b--))}function cn(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.wa&&o.listener==t&&o.capture==!!n&&o.Wa==r)return i}return-1}sn.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=cn(e,t,r,i);return-1<a?(t=e[a],n||(t.Qa=!1)):((t=new on(t,this.src,o,!!r,i)).Qa=n,e.push(t)),t};var ln="closure_lm_"+(1e6*Math.random()|0),fn={};function hn(e,t,n,r,i){if(r&&r.once)pn(e,t,n,r,i);else if(Array.isArray(t))for(var o=0;o<t.length;o++)hn(e,t[o],n,r,i);else n=Sn(n),e&&e[nn]?kn(e,t,n,v(r)?!!r.capture:!!r,i):dn(e,t,n,!1,r,i)}function dn(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=v(i)?!!i.capture:!!i,s=_n(e);if(s||(e[ln]=s=new sn(e)),!(n=s.add(t,n,r,a,o)).proxy){if(r=function(){var e=wn,t=Qt?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Jt||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(mn(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}0}}function pn(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)pn(e,t[o],n,r,i);else n=Sn(n),e&&e[nn]?Tn(e,t,n,v(r)?!!r.capture:!!r,i):dn(e,t,n,!0,r,i)}function vn(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)vn(e,t[o],n,r,i);else r=v(r)?!!r.capture:!!r,n=Sn(n),e&&e[nn]?(e=e.v,(t=String(t).toString())in e.a&&(-1<(n=cn(o=e.a[t],n,r,i))&&(an(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.a[t],e.b--)))):e&&(e=_n(e))&&(t=e.a[t.toString()],e=-1,t&&(e=cn(t,n,r,i)),(n=-1<e?t[e]:null)&&gn(n))}function gn(e){if("number"!==typeof e&&e&&!e.wa){var t=e.src;if(t&&t[nn])un(t.v,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(mn(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=_n(t))?(un(n,e),0==n.b&&(n.src=null,t[ln]=null)):an(e)}}}function mn(e){return e in fn?fn[e]:fn[e]="on"+e}function yn(e,t,n,r){var i=!0;if((e=_n(e))&&(t=e.a[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var o=t[e];o&&o.capture==n&&!o.wa&&(o=bn(o,r),i=i&&!1!==o)}return i}function bn(e,t){var n=e.listener,r=e.Wa||e.src;return e.Qa&&gn(e),n.call(r,t)}function wn(e,t){if(e.wa)return!0;if(!Qt){if(!t)e:{t=["window","event"];for(var n=s,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}if(t=new en(r=t,this),n=!0,!(0>r.keyCode||void 0!=r.returnValue)){e:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break e}catch(ht){i=!0}(i||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=t.b;i;i=i.parentNode)r.push(i);for(e=e.type,i=r.length-1;0<=i;i--){t.b=r[i];var o=yn(r[i],e,!0,t);n=n&&o}for(i=0;i<r.length;i++)t.b=r[i],o=yn(r[i],e,!1,t),n=n&&o}return n}return bn(e,new en(t,this))}function _n(e){return(e=e[ln])instanceof sn?e:null}var xn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Sn(e){return p(e)?e:(e[xn]||(e[xn]=function(t){return e.handleEvent(t)}),e[xn])}function En(){Ht.call(this),this.v=new sn(this),this.bc=this,this.hb=null}function kn(e,t,n,r,i){e.v.add(String(t),n,!1,r,i)}function Tn(e,t,n,r,i){e.v.add(String(t),n,!0,r,i)}function Cn(e,t,n,r){if(!(t=e.v.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.wa&&a.capture==n){var s=a.listener,u=a.Wa||a.src;a.Qa&&un(e.v,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}function In(e,t,n){if(p(e))n&&(e=_(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=_(e.handleEvent,e)}return 2147483647<Number(t)?-1:s.setTimeout(e,t||0)}function Pn(e){var t=null;return new St((function(n,r){-1==(t=In((function(){n(void 0)}),e))&&r(Error("Failed to schedule timer."))})).o((function(e){throw s.clearTimeout(t),e}))}function On(e){if(e.X&&"function"==typeof e.X)return e.X();if("string"===typeof e)return e.split("");if(d(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}function An(e){if(e.Y&&"function"==typeof e.Y)return e.Y();if(!e.X||"function"!=typeof e.X){if(d(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}function Dn(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Dn)for(n=e.Y(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Nn(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];Rn(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)Rn(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function Rn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}E(En,Ht),En.prototype[nn]=!0,En.prototype.addEventListener=function(e,t,n,r){hn(this,e,t,n,r)},En.prototype.removeEventListener=function(e,t,n,r){vn(this,e,t,n,r)},En.prototype.dispatchEvent=function(e){var t,n=this.hb;if(n)for(t=[];n;n=n.hb)t.push(n);n=this.bc;var r=e.type||e;if("string"===typeof e)e=new Zt(e,n);else if(e instanceof Zt)e.target=e.target||n;else{var i=e;me(e=new Zt(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var a=e.b=t[o];i=Cn(a,r,!0,e)&&i}if(i=Cn(a=e.b=n,r,!0,e)&&i,i=Cn(a,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=Cn(a=e.b=t[o],r,!1,e)&&i;return i},En.prototype.Da=function(){if(En.bb.Da.call(this),this.v){var e,t=this.v;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)an(n[r]);delete t.a[e],t.b--}}this.hb=null},(e=Dn.prototype).X=function(){Nn(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},e.Y=function(){return Nn(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0},e.get=function(e,t){return Rn(this.b,e)?this.b[e]:t},e.set=function(e,t){Rn(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},e.forEach=function(e,t){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var jn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ln(e,t){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,e instanceof Ln?(this.i=void 0!==t?t:e.i,Fn(this,e.c),this.l=e.l,this.a=e.a,Un(this,e.g),this.f=e.f,Bn(this,ar(e.b)),this.h=e.h):e&&(n=String(e).match(jn))?(this.i=!!t,Fn(this,n[1]||"",!0),this.l=Hn(n[2]||""),this.a=Hn(n[3]||"",!0),Un(this,n[4]),this.f=Hn(n[5]||"",!0),Bn(this,n[6]||"",!0),this.h=Hn(n[7]||"")):(this.i=!!t,this.b=new er(null,this.i))}function Fn(e,t,n){e.c=n?Hn(t,!0):t,e.c&&(e.c=e.c.replace(/:$/,""))}function Un(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.g=t}else e.g=null}function Bn(e,t,n){t instanceof er?(e.b=t,function(e,t){t&&!e.f&&(tr(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(rr(this,t),or(this,n,e))}),e)),e.f=t}(e.b,e.i)):(n||(t=Kn(t,Jn)),e.b=new er(t,e.i))}function qn(e,t,n){e.b.set(t,n)}function Vn(e,t){return e.b.get(t)}function zn(e){return e instanceof Ln?new Ln(e):new Ln(e,void 0)}function Wn(e,t,n,r){var i=new Ln(null,void 0);return e&&Fn(i,e),t&&(i.a=t),n&&Un(i,n),r&&(i.f=r),i}function Hn(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Kn(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Gn),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Gn(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Ln.prototype.toString=function(){var e=[],t=this.c;t&&e.push(Kn(t,Yn,!0),":");var n=this.a;return(n||"file"==t)&&(e.push("//"),(t=this.l)&&e.push(Kn(t,Yn,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&e.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&e.push("/"),e.push(Kn(n,"/"==n.charAt(0)?Xn:Qn,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.h)&&e.push("#",Kn(n,Zn)),e.join("")},Ln.prototype.resolve=function(e){var t=new Ln(this),n=!!e.c;n?Fn(t,e.c):n=!!e.l,n?t.l=e.l:n=!!e.a,n?t.a=e.a:n=null!=e.g;var r=e.f;if(n)Un(t,e.g);else if(n=!!e.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=t.f.lastIndexOf("/");-1!=i&&(r=t.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ue(i,"./")||ue(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?t.f=r:n=""!==e.b.toString(),n?Bn(t,ar(e.b)):n=!!e.h,n&&(t.h=e.h),t};var Yn=/[#\/\?@]/g,Qn=/[#\?:]/g,Xn=/[#\?]/g,Jn=/[#\?@]/g,Zn=/#/g;function er(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function tr(e){e.a||(e.a=new Dn,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function nr(e){var t=An(e);if("undefined"==typeof t)throw Error("Keys are undefined");var n=new er(null,void 0);e=On(e);for(var r=0;r<t.length;r++){var i=t[r],o=e[r];Array.isArray(o)?or(n,i,o):n.add(i,o)}return n}function rr(e,t){tr(e),t=sr(e,t),Rn(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,Rn((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&Nn(e)))}function ir(e,t){return tr(e),t=sr(e,t),Rn(e.a.b,t)}function or(e,t,n){rr(e,t),0<n.length&&(e.c=null,e.a.set(sr(e,t),J(n)),e.b+=n.length)}function ar(e){var t=new er;return t.c=e.c,e.a&&(t.a=new Dn(e.a),t.b=e.b),t}function sr(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function ur(e){var t=[];return lr(new cr,e,t),t.join("")}function cr(){}function lr(e,t,n){if(null==t)n.push("null");else{if("object"==typeof t){if(Array.isArray(t)){var r=t;t=r.length,n.push("[");for(var i="",o=0;o<t;o++)n.push(i),lr(e,r[o],n),i=",";return void n.push("]")}if(!(t instanceof String||t instanceof Number||t instanceof Boolean)){for(r in n.push("{"),i="",t)Object.prototype.hasOwnProperty.call(t,r)&&("function"!=typeof(o=t[r])&&(n.push(i),dr(r,n),n.push(":"),lr(e,o,n),i=","));return void n.push("}")}t=t.valueOf()}switch(typeof t){case"string":dr(t,n);break;case"number":n.push(isFinite(t)&&!isNaN(t)?String(t):"null");break;case"boolean":n.push(String(t));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof t)}}}(e=er.prototype).add=function(e,t){tr(this),this.c=null,e=sr(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},e.clear=function(){this.a=this.c=null,this.b=0},e.forEach=function(e,t){tr(this),this.a.forEach((function(n,r){W(n,(function(n){e.call(t,n,r,this)}),this)}),this)},e.Y=function(){tr(this);for(var e=this.a.X(),t=this.a.Y(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},e.X=function(e){tr(this);var t=[];if("string"===typeof e)ir(this,e)&&(t=X(t,this.a.get(sr(this,e))));else{e=this.a.X();for(var n=0;n<e.length;n++)t=X(t,e[n])}return t},e.set=function(e,t){return tr(this),this.c=null,ir(this,e=sr(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},e.get=function(e,t){return e&&0<(e=this.X(e)).length?String(e[0]):t},e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.Y(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.X(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.c=e.join("&")};var fr={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},hr=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function dr(e,t){t.push('"',e.replace(hr,(function(e){var t=fr[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),fr[e]=t),t})),'"')}function pr(){var e=Rr();return Ye&&!!st&&11==st||/Edge\/\d+/.test(e)}function vr(){return s.window&&s.window.location.href||self&&self.location&&self.location.href||""}function gr(e,t){t=t||s.window;var n="about:blank";e&&(n=De(Me(e)||Ue)),t.location.href=n}function mr(e,t){var n,r=[];for(n in e)n in t?typeof e[n]!=typeof t[n]?r.push(n):"object"==typeof e[n]&&null!=e[n]&&null!=t[n]?0<mr(e[n],t[n]).length&&r.push(n):e[n]!==t[n]&&r.push(n):r.push(n);for(n in t)n in e||r.push(n);return r}function yr(e){return!!((e=(e||Rr()).toLowerCase()).match(/android/)||e.match(/webos/)||e.match(/iphone|ipad|ipod/)||e.match(/blackberry/)||e.match(/windows phone/)||e.match(/iemobile/))}function br(e){e=e||s.window;try{e.close()}catch(gt){}}function wr(e,t,n){var r=Math.floor(1e9*Math.random()).toString();t=t||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-t)/2;for(a in t={width:t,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Rr().toLowerCase(),r&&(t.target=r,ue(n,"crios/")&&(t.target="_blank")),Ar(Rr())==Pr&&(e=e||"http://localhost",t.scrollbars=!0),n=e||"",(e=t)||(e={}),r=window,t=n instanceof Ae?n:Me("undefined"!=typeof n.href?n.href:String(n))||Ue,n=e.target||n.target,i=[],e)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+e[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(e[a]?1:0))}var a=i.join(",");if((he("iPhone")&&!he("iPod")&&!he("iPad")||he("iPad")||he("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(ye(a=mt(document,"A"),"HTMLAnchorElement"),t=t instanceof Ae?t:Le(t),a.href=De(t),a.setAttribute("target",n),e.noreferrer&&a.setAttribute("rel","noreferrer"),(e=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(e),a={}):e.noreferrer?(a=Ve("",r,n,a),e=De(t),a&&(Qe&&ue(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),a.opener=null,e='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+We(e)+'">',e=new Be(e=(r=Ee())?r.createHTML(e):e,null,qe),r=a.document)&&(r.write(function(e){return e instanceof Be&&e.constructor===Be?e.a:(M("expected object of type SafeHtml, got '"+e+"' of type "+h(e)),"type_error:SafeHtml")}(e)),r.close())):(a=Ve(t,r,n,a))&&e.noopener&&(a.opener=null),a)try{a.focus()}catch(s){}return a}var _r=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xr=/^[^@]+@[^@]+$/;function Sr(){var e=null;return new St((function(t){"complete"==s.document.readyState?t():(e=function(){t()},pn(window,"load",e))})).o((function(t){throw vn(window,"load",e),t}))}function Er(e){return e=e||Rr(),!("file:"!==Ur()&&"ionic:"!==Ur()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function kr(){var e=s.window;try{return!(!e||e==e.top)}catch(gt){return!1}}function Tr(){return"undefined"!==typeof s.WorkerGlobalScope&&"function"===typeof s.importScripts}function Cr(){return Mn.default.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Mn.default.INTERNAL.hasOwnProperty("node")?"Node":Tr()?"Worker":"Browser"}function Ir(){var e=Cr();return"ReactNative"===e||"Node"===e}var Pr="Firefox",Or="Chrome";function Ar(e){var t=e.toLowerCase();return ue(t,"opera/")||ue(t,"opr/")||ue(t,"opios/")?"Opera":ue(t,"iemobile")?"IEMobile":ue(t,"msie")||ue(t,"trident/")?"IE":ue(t,"edge/")?"Edge":ue(t,"firefox/")?Pr:ue(t,"silk/")?"Silk":ue(t,"blackberry")?"Blackberry":ue(t,"webos")?"Webos":!ue(t,"safari/")||ue(t,"chrome/")||ue(t,"crios/")||ue(t,"android")?!ue(t,"chrome/")&&!ue(t,"crios/")||ue(t,"edge/")?ue(t,"android")?"Android":(e=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==e.length?e[1]:"Other":Or:"Safari"}var Dr={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Nr(e,t){t=t||[];var n,r=[],i={};for(n in Dr)i[Dr[n]]=!0;for(n=0;n<t.length;n++)"undefined"!==typeof i[t[n]]&&(delete i[t[n]],r.push(t[n]));return r.sort(),(t=r).length||(t=["FirebaseCore-web"]),"Browser"===(r=Cr())?r=Ar(i=Rr()):"Worker"===r&&(r=Ar(i=Rr())+"-"+r),r+"/JsCore/"+e+"/"+t.join(",")}function Rr(){return s.navigator&&s.navigator.userAgent||""}function jr(e,t){e=e.split("."),t=t||s;for(var n=0;n<e.length&&"object"==typeof t&&null!=t;n++)t=t[e[n]];return n!=e.length&&(t=void 0),t}function Mr(){try{var e=s.localStorage,t=Wr();if(e)return e.setItem(t,"1"),e.removeItem(t),!pr()||!!s.indexedDB}catch(n){return Tr()&&!!s.indexedDB}return!1}function Lr(){return(Fr()||"chrome-extension:"===Ur()||Er())&&!Ir()&&Mr()&&!Tr()}function Fr(){return"http:"===Ur()||"https:"===Ur()}function Ur(){return s.location&&s.location.protocol||null}function Br(e){return!yr(e=e||Rr())&&Ar(e)!=Pr}function qr(e){return"undefined"===typeof e?null:ur(e)}function Vr(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&null!==e[t]&&void 0!==e[t]&&(n[t]=e[t]);return n}function zr(e){if(null!==e)return JSON.parse(e)}function Wr(e){return e||Math.floor(1e9*Math.random()).toString()}function Hr(e){return"Safari"!=Ar(e=e||Rr())&&!e.toLowerCase().match(/iphone|ipad|ipod/)}function Kr(){var e=s.___jsl;if(e&&e.H)for(var t in e.H)if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=e.H[t].L.concat(),e.CP)for(var n=0;n<e.CP.length;n++)e.CP[n]=null}function Gr(e,t){if(e>t)throw Error("Short delay should be less than long delay!");this.a=e,this.c=t,e=Rr(),t=Cr(),this.b=yr(e)||"ReactNative"===t}function Yr(){var e=s.document;return!e||"undefined"===typeof e.visibilityState||"visible"==e.visibilityState}function $r(e){try{var t=new Date(parseInt(e,10));if(!isNaN(t.getTime())&&!/[^0-9]/.test(e))return t.toUTCString()}catch(n){}return null}function Qr(){return!(!jr("fireauth.oauthhelper",s)&&!jr("fireauth.iframe",s))}Gr.prototype.get=function(){var e=s.navigator;return!e||"boolean"!==typeof e.onLine||!Fr()&&"chrome-extension:"!==Ur()&&"undefined"===typeof e.connection||e.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Xr,Jr={};function Zr(e){Jr[e]||(Jr[e]=!0,"undefined"!==typeof console&&"function"===typeof console.warn&&console.warn(e))}try{var ei={};Object.defineProperty(ei,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(ei,"abcd",{configurable:!0,enumerable:!0,value:2}),Xr=2==ei.abcd}catch(va){Xr=!1}function ti(e,t,n){Xr?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,value:n}):e[t]=n}function ni(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&ti(e,n,t[n])}function ri(e){var t={};return ni(t,e),t}function ii(e){var t=e;if("object"==typeof e&&null!=e)for(var n in t="length"in e?[]:{},e)ti(t,n,ii(e[n]));return t}function oi(e){var t=e&&(e[li]?"phone":null);if(!(t&&e&&e[ci]))throw new T("internal-error","Internal assert: invalid MultiFactorInfo object");ti(this,"uid",e[ci]),ti(this,"displayName",e[si]||null);var n=null;e[ui]&&(n=new Date(e[ui]).toUTCString()),ti(this,"enrollmentTime",n),ti(this,"factorId",t)}function ai(e){try{var t=new fi(e)}catch(n){t=null}return t}oi.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var si="displayName",ui="enrolledAt",ci="mfaEnrollmentId",li="phoneInfo";function fi(e){oi.call(this,e),ti(this,"phoneNumber",e[li])}function hi(e){var t={},n=e[gi],r=e[yi],i=e[bi];if(e=ai(e[mi]),!i||i!=pi&&i!=vi&&!n||i==vi&&!r||i==di&&!e)throw Error("Invalid checkActionCode response!");i==vi?(t[_i]=n||null,t[Si]=n||null,t[wi]=r):(t[_i]=r||null,t[Si]=r||null,t[wi]=n||null),t[xi]=e||null,ti(this,ki,i),ti(this,Ei,ii(t))}E(fi,oi),fi.prototype.w=function(){var e=fi.bb.w.call(this);return e.phoneNumber=this.phoneNumber,e};var di="REVERT_SECOND_FACTOR_ADDITION",pi="EMAIL_SIGNIN",vi="VERIFY_AND_CHANGE_EMAIL",gi="email",mi="mfaInfo",yi="newEmail",bi="requestType",wi="email",_i="fromEmail",xi="multiFactorInfo",Si="previousEmail",Ei="data",ki="operation";function Ti(e){var t=Vn(e=zn(e),Ci)||null,n=Vn(e,Ii)||null,r=Vn(e,Ai)||null;if(r=r&&Ni[r]||null,!t||!n||!r)throw new T("argument-error",Ci+", "+Ii+"and "+Ai+" are required in a valid action code URL.");ni(this,{apiKey:t,operation:r,code:n,continueUrl:Vn(e,Pi)||null,languageCode:Vn(e,Oi)||null,tenantId:Vn(e,Di)||null})}var Ci="apiKey",Ii="oobCode",Pi="continueUrl",Oi="languageCode",Ai="mode",Di="tenantId",Ni={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:di,signIn:pi,verifyAndChangeEmail:vi,verifyEmail:"VERIFY_EMAIL"};function Ri(e){try{return new Ti(e)}catch(gt){return null}}function ji(e){var t=e[Bi];if("undefined"===typeof t)throw new T("missing-continue-uri");if("string"!==typeof t||"string"===typeof t&&!t.length)throw new T("invalid-continue-uri");this.h=t,this.b=this.a=null,this.g=!1;var n=e[Mi];if(n&&"object"===typeof n){t=n[zi];var r=n[qi];if(n=n[Vi],"string"===typeof t&&t.length){if(this.a=t,"undefined"!==typeof r&&"boolean"!==typeof r)throw new T("argument-error",qi+" property must be a boolean when specified.");if(this.g=!!r,"undefined"!==typeof n&&("string"!==typeof n||"string"===typeof n&&!n.length))throw new T("argument-error",Vi+" property must be a non empty string when specified.");this.b=n||null}else{if("undefined"!==typeof t)throw new T("argument-error",zi+" property must be a non empty string when specified.");if("undefined"!==typeof r||"undefined"!==typeof n)throw new T("missing-android-pkg-name")}}else if("undefined"!==typeof n)throw new T("argument-error",Mi+" property must be a non null object when specified.");if(this.f=null,(t=e[Ui])&&"object"===typeof t){if("string"===typeof(t=t[Wi])&&t.length)this.f=t;else if("undefined"!==typeof t)throw new T("argument-error",Wi+" property must be a non empty string when specified.")}else if("undefined"!==typeof t)throw new T("argument-error",Ui+" property must be a non null object when specified.");if("undefined"!==typeof(t=e[Fi])&&"boolean"!==typeof t)throw new T("argument-error",Fi+" property must be a boolean when specified.");if(this.c=!!t,"undefined"!==typeof(e=e[Li])&&("string"!==typeof e||"string"===typeof e&&!e.length))throw new T("argument-error",Li+" property must be a non empty string when specified.");this.i=e||null}var Mi="android",Li="dynamicLinkDomain",Fi="handleCodeInApp",Ui="iOS",Bi="url",qi="installApp",Vi="minimumVersion",zi="packageName",Wi="bundleId";function Hi(e){var t={};for(var n in t.continueUrl=e.h,t.canHandleCodeInApp=e.c,(t.androidPackageName=e.a)&&(t.androidMinimumVersion=e.b,t.androidInstallApp=e.g),t.iOSBundleId=e.f,t.dynamicLinkDomain=e.i,t)null===t[n]&&delete t[n];return t}var Ki=null;function Gi(e){var t=[];return function(e,t){function n(t){for(;r<e.length;){var n=e.charAt(r++),i=Ki[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}!function(){if(!Ki){Ki={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=e.concat(t[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Ki[o]&&(Ki[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;t(i<<2|o>>4),64!=a&&(t(o<<4&240|a>>2),64!=s&&t(a<<6&192|s))}}(e,(function(e){t.push(e)})),t}function Yi(e){var t=Qi(e);if(!(t&&t.sub&&t.iss&&t.aud&&t.exp))throw Error("Invalid JWT");this.h=e,this.a=t.exp,this.i=t.sub,e=Date.now()/1e3,this.g=t.iat||(e>this.a?this.a:e),this.b=t.provider_id||t.firebase&&t.firebase.sign_in_provider||null,this.f=t.firebase&&t.firebase.tenant||null,this.c=!!t.is_anonymous||"anonymous"==this.b}function $i(e){try{return new Yi(e)}catch(gt){return null}}function Qi(e){if(!e)return null;if(3!=(e=e.split(".")).length)return null;for(var t=(4-(e=e[1]).length%4)%4,n=0;n<t;n++)e+=".";try{var r=Gi(e);for(e=[],n=t=0;t<r.length;){var i=r[t++];if(128>i)e[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[t++];e[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[t++];var a=r[t++],s=((7&i)<<18|(63&o)<<12|(63&a)<<6|63&r[t++])-65536;e[n++]=String.fromCharCode(55296+(s>>10)),e[n++]=String.fromCharCode(56320+(1023&s))}else o=r[t++],a=r[t++],e[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}return JSON.parse(e.join(""))}catch($n){}return null}Yi.prototype.T=function(){return this.f},Yi.prototype.l=function(){return this.c},Yi.prototype.toString=function(){return this.h};var Xi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Ji=["client_id","response_type","scope","redirect_uri","state"],Zi={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:Ji},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:Ji},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:Ji},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:Xi},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function eo(e){for(var t in Zi)if(Zi[t].fa==e)return Zi[t];return null}function to(e){var t={};t["facebook.com"]=ao,t["google.com"]=uo,t["github.com"]=so,t["twitter.com"]=co;var n=e&&e[ro];try{if(n)return t[n]?new t[n](e):new oo(e);if("undefined"!==typeof e[no])return new io(e)}catch(r){}return null}var no="idToken",ro="providerId";function io(e){var t=e[ro];if(!t&&e[no]){var n=$i(e[no]);n&&n.b&&(t=n.b)}if(!t)throw Error("Invalid additional user info!");"anonymous"!=t&&"custom"!=t||(t=null),n=!1,"undefined"!==typeof e.isNewUser?n=!!e.isNewUser:"identitytoolkit#SignupNewUserResponse"===e.kind&&(n=!0),ti(this,"providerId",t),ti(this,"isNewUser",n)}function oo(e){io.call(this,e),ti(this,"profile",ii((e=zr(e.rawUserInfo||"{}"))||{}))}function ao(e){if(oo.call(this,e),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function so(e){if(oo.call(this,e),"github.com"!=this.providerId)throw Error("Invalid provider ID!");ti(this,"username",this.profile&&this.profile.login||null)}function uo(e){if(oo.call(this,e),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function co(e){if(oo.call(this,e),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");ti(this,"username",e.screenName||null)}function lo(e){var t=zn(e),n=Vn(t,"link"),r=Vn(zn(n),"link");return t=Vn(t,"deep_link_id"),Vn(zn(t),"link")||t||r||n||e}function fo(e,t){if(!e&&!t)throw new T("internal-error","Internal assert: no raw session string available");if(e&&t)throw new T("internal-error","Internal assert: unable to determine the session type");this.a=e||null,this.b=t||null,this.type=this.a?ho:po}E(oo,io),E(ao,oo),E(so,oo),E(uo,oo),E(co,oo);var ho="enroll",po="signin";function vo(){}function go(e,t){return e.then((function(e){if(e[as]){var n=$i(e[as]);if(!n||t!=n.i)throw new T("user-mismatch");return e}throw new T("user-mismatch")})).o((function(e){throw e&&e.code&&e.code==P+"user-not-found"?new T("user-mismatch"):e}))}function mo(e,t){if(!t)throw new T("internal-error","failed to construct a credential");this.a=t,ti(this,"providerId",e),ti(this,"signInMethod",e)}function yo(e){return{pendingToken:e.a,requestUri:"http://localhost"}}function bo(e){if(e&&e.providerId&&e.signInMethod&&0==e.providerId.indexOf("saml.")&&e.pendingToken)try{return new mo(e.providerId,e.pendingToken)}catch(gt){}return null}function wo(e,t,n){if(this.a=null,t.idToken||t.accessToken)t.idToken&&ti(this,"idToken",t.idToken),t.accessToken&&ti(this,"accessToken",t.accessToken),t.nonce&&!t.pendingToken&&ti(this,"nonce",t.nonce),t.pendingToken&&(this.a=t.pendingToken);else{if(!t.oauthToken||!t.oauthTokenSecret)throw new T("internal-error","failed to construct a credential");ti(this,"accessToken",t.oauthToken),ti(this,"secret",t.oauthTokenSecret)}ti(this,"providerId",e),ti(this,"signInMethod",n)}function _o(e){var t={};return e.idToken&&(t.id_token=e.idToken),e.accessToken&&(t.access_token=e.accessToken),e.secret&&(t.oauth_token_secret=e.secret),t.providerId=e.providerId,e.nonce&&!e.a&&(t.nonce=e.nonce),t={postBody:nr(t).toString(),requestUri:"http://localhost"},e.a&&(delete t.postBody,t.pendingToken=e.a),t}function xo(e){if(e&&e.providerId&&e.signInMethod){var t={idToken:e.oauthIdToken,accessToken:e.oauthTokenSecret?null:e.oauthAccessToken,oauthTokenSecret:e.oauthTokenSecret,oauthToken:e.oauthTokenSecret&&e.oauthAccessToken,nonce:e.nonce,pendingToken:e.pendingToken};try{return new wo(e.providerId,t,e.signInMethod)}catch(n){}}return null}function So(e,t){this.Qc=t||[],ni(this,{providerId:e,isOAuthProvider:!0}),this.Jb={},this.qb=(eo(e)||{}).Ja||null,this.pb=null}function Eo(e){if("string"!==typeof e||0!=e.indexOf("saml."))throw new T("argument-error",'SAML provider IDs must be prefixed with "saml."');So.call(this,e,[])}function ko(e){So.call(this,e,Ji),this.a=[]}function To(){ko.call(this,"facebook.com")}function Co(e){if(!e)throw new T("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return v(e)&&(t=e.accessToken),(new To).credential({accessToken:t})}function Io(){ko.call(this,"github.com")}function Po(e){if(!e)throw new T("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return v(e)&&(t=e.accessToken),(new Io).credential({accessToken:t})}function Oo(){ko.call(this,"google.com"),this.Ca("profile")}function Ao(e,t){var n=e;return v(e)&&(n=e.idToken,t=e.accessToken),(new Oo).credential({idToken:n,accessToken:t})}function Do(){So.call(this,"twitter.com",Xi)}function No(e,t){var n=e;if(v(n)||(n={oauthToken:e,oauthTokenSecret:t}),!n.oauthToken||!n.oauthTokenSecret)throw new T("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new wo("twitter.com",n,"twitter.com")}function Ro(e,t,n){this.a=e,this.f=t,ti(this,"providerId","password"),ti(this,"signInMethod",n===Mo.EMAIL_LINK_SIGN_IN_METHOD?Mo.EMAIL_LINK_SIGN_IN_METHOD:Mo.EMAIL_PASSWORD_SIGN_IN_METHOD)}function jo(e){return e&&e.email&&e.password?new Ro(e.email,e.password,e.signInMethod):null}function Mo(){ni(this,{providerId:"password",isOAuthProvider:!1})}function Lo(e,t){if(!(t=Fo(t)))throw new T("argument-error","Invalid email link!");return new Ro(e,t.code,Mo.EMAIL_LINK_SIGN_IN_METHOD)}function Fo(e){return(e=Ri(e=lo(e)))&&e.operation===pi?e:null}function Uo(e){if(!(e.fb&&e.eb||e.La&&e.ea))throw new T("internal-error");this.a=e,ti(this,"providerId","phone"),this.fa="phone",ti(this,"signInMethod","phone")}function Bo(e){if(e&&"phone"===e.providerId&&(e.verificationId&&e.verificationCode||e.temporaryProof&&e.phoneNumber)){var t={};return W(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){e[n]&&(t[n]=e[n])})),new Uo(t)}return null}function qo(e){return e.a.La&&e.a.ea?{temporaryProof:e.a.La,phoneNumber:e.a.ea}:{sessionInfo:e.a.fb,code:e.a.eb}}function Vo(e){try{this.a=e||Mn.default.auth()}catch(gt){throw new T("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}ni(this,{providerId:"phone",isOAuthProvider:!1})}function zo(e,t){if(!e)throw new T("missing-verification-id");if(!t)throw new T("missing-verification-code");return new Uo({fb:e,eb:t})}function Wo(e){if(e.temporaryProof&&e.phoneNumber)return new Uo({La:e.temporaryProof,ea:e.phoneNumber});var t=e&&e.providerId;if(!t||"password"===t)return null;var n=e&&e.oauthAccessToken,r=e&&e.oauthTokenSecret,i=e&&e.nonce,o=e&&e.oauthIdToken,a=e&&e.pendingToken;try{switch(t){case"google.com":return Ao(o,n);case"facebook.com":return Co(n);case"github.com":return Po(n);case"twitter.com":return No(n,r);default:return n||r||o||a?a?0==t.indexOf("saml.")?new mo(t,a):new wo(t,{pendingToken:a,idToken:e.oauthIdToken,accessToken:e.oauthAccessToken},t):new ko(t).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(s){return null}}function Ho(e){if(!e.isOAuthProvider)throw new T("invalid-oauth-provider")}function Ko(e,t,n,r,i,o,a){if(this.c=e,this.b=t||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new T("invalid-auth-event");if(this.g&&this.a)throw new T("invalid-auth-event");if(this.g&&!this.f)throw new T("invalid-auth-event")}function Go(e){return(e=e||{}).type?new Ko(e.type,e.eventId,e.urlResponse,e.sessionId,e.error&&C(e.error),e.postBody,e.tenantId):null}function Yo(){this.b=null,this.a=[]}fo.prototype.Ha=function(){return this.a?Ot(this.a):Ot(this.b)},fo.prototype.w=function(){return this.type==ho?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},vo.prototype.ka=function(){},vo.prototype.b=function(){},vo.prototype.c=function(){},vo.prototype.w=function(){},mo.prototype.ka=function(e){return Is(e,yo(this))},mo.prototype.b=function(e,t){var n=yo(this);return n.idToken=t,Ps(e,n)},mo.prototype.c=function(e,t){return go(Os(e,yo(this)),t)},mo.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},wo.prototype.ka=function(e){return Is(e,_o(this))},wo.prototype.b=function(e,t){var n=_o(this);return n.idToken=t,Ps(e,n)},wo.prototype.c=function(e,t){return go(Os(e,_o(this)),t)},wo.prototype.w=function(){var e={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(e.oauthIdToken=this.idToken),this.accessToken&&(e.oauthAccessToken=this.accessToken),this.secret&&(e.oauthTokenSecret=this.secret),this.nonce&&(e.nonce=this.nonce),this.a&&(e.pendingToken=this.a),e},So.prototype.Ka=function(e){return this.Jb=ve(e),this},E(Eo,So),E(ko,So),ko.prototype.Ca=function(e){return Y(this.a,e)||this.a.push(e),this},ko.prototype.Rb=function(){return J(this.a)},ko.prototype.credential=function(e,t){var n;if(!(n=v(e)?{idToken:e.idToken||null,accessToken:e.accessToken||null,nonce:e.rawNonce||null}:{idToken:e||null,accessToken:t||null}).idToken&&!n.accessToken)throw new T("argument-error","credential failed: must provide the ID token and/or the access token.");return new wo(this.providerId,n,this.providerId)},E(To,ko),ti(To,"PROVIDER_ID","facebook.com"),ti(To,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),E(Io,ko),ti(Io,"PROVIDER_ID","github.com"),ti(Io,"GITHUB_SIGN_IN_METHOD","github.com"),E(Oo,ko),ti(Oo,"PROVIDER_ID","google.com"),ti(Oo,"GOOGLE_SIGN_IN_METHOD","google.com"),E(Do,So),ti(Do,"PROVIDER_ID","twitter.com"),ti(Do,"TWITTER_SIGN_IN_METHOD","twitter.com"),Ro.prototype.ka=function(e){return this.signInMethod==Mo.EMAIL_LINK_SIGN_IN_METHOD?fu(e,Fs,{email:this.a,oobCode:this.f}):fu(e,au,{email:this.a,password:this.f})},Ro.prototype.b=function(e,t){return this.signInMethod==Mo.EMAIL_LINK_SIGN_IN_METHOD?fu(e,Us,{idToken:t,email:this.a,oobCode:this.f}):fu(e,Js,{idToken:t,email:this.a,password:this.f})},Ro.prototype.c=function(e,t){return go(this.ka(e),t)},Ro.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},ni(Mo,{PROVIDER_ID:"password"}),ni(Mo,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),ni(Mo,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Uo.prototype.ka=function(e){return e.gb(qo(this))},Uo.prototype.b=function(e,t){var n=qo(this);return n.idToken=t,fu(e,uu,n)},Uo.prototype.c=function(e,t){var n=qo(this);return n.operation="REAUTH",go(e=fu(e,cu,n),t)},Uo.prototype.w=function(){var e={providerId:"phone"};return this.a.fb&&(e.verificationId=this.a.fb),this.a.eb&&(e.verificationCode=this.a.eb),this.a.La&&(e.temporaryProof=this.a.La),this.a.ea&&(e.phoneNumber=this.a.ea),e},Vo.prototype.gb=function(e,t){var n=this.a.a;return Ot(t.verify()).then((function(r){if("string"!==typeof r)throw new T("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");if("recaptcha"===t.type){var i,o=v(e)?e.session:null,a=v(e)?e.phoneNumber:e;return i=o&&o.type==ho?o.Ha().then((function(e){return function(e,t){return fu(e,eu,t).then((function(e){return e.phoneSessionInfo.sessionInfo}))}(n,{idToken:e,phoneEnrollmentInfo:{phoneNumber:a,recaptchaToken:r}})})):o&&o.type==po?o.Ha().then((function(t){return function(e,t){return fu(e,tu,t).then((function(e){return e.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:t,mfaEnrollmentId:e.multiFactorHint&&e.multiFactorHint.uid||e.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(e,t){return fu(e,Qs,t)}(n,{phoneNumber:a,recaptchaToken:r}),i.then((function(e){return"function"===typeof t.reset&&t.reset(),e}),(function(e){throw"function"===typeof t.reset&&t.reset(),e}))}throw new T("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}))},ni(Vo,{PROVIDER_ID:"phone"}),ni(Vo,{PHONE_SIGN_IN_METHOD:"phone"}),Ko.prototype.getUid=function(){var e=[];return e.push(this.c),this.b&&e.push(this.b),this.f&&e.push(this.f),this.h&&e.push(this.h),e.join("-")},Ko.prototype.T=function(){return this.h},Ko.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var $o,Qo=null;function Xo(e){var t="unauthorized-domain",n=void 0,r=zn(e);e=r.a,"chrome-extension"==(r=r.c)?n=ze("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):"http"==r||"https"==r?n=ze("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):t="operation-not-supported-in-this-environment",T.call(this,t,n)}function Jo(e,t,n){T.call(this,e,n),(e=t||{}).Kb&&ti(this,"email",e.Kb),e.ea&&ti(this,"phoneNumber",e.ea),e.credential&&ti(this,"credential",e.credential),e.$b&&ti(this,"tenantId",e.$b)}function Zo(e){if(e.code){var t=e.code||"";0==t.indexOf(P)&&(t=t.substring(P.length));var n={credential:Wo(e),$b:e.tenantId};if(e.email)n.Kb=e.email;else if(e.phoneNumber)n.ea=e.phoneNumber;else if(!n.credential)return new T(t,e.message||void 0);return new Jo(t,n,e.message)}return null}function ea(){}function ta(e){return e.c||(e.c=e.b())}function na(){}function ra(e){if(!e.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var t=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<t.length;n++){var r=t[n];try{return new ActiveXObject(r),e.f=r}catch(wm){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return e.f}function ia(){}function oa(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=_(this.qc,this),this.a.onerror=_(this.Tb,this),this.a.onprogress=_(this.rc,this),this.a.ontimeout=_(this.vc,this)}function aa(e,t){e.readyState=t,e.onreadystatechange&&e.onreadystatechange()}function sa(e,t,n){this.reset(e,t,n,void 0,void 0)}E(Xo,T),E(Jo,T),Jo.prototype.w=function(){var e={code:this.code,message:this.message};this.email&&(e.email=this.email),this.phoneNumber&&(e.phoneNumber=this.phoneNumber),this.tenantId&&(e.tenantId=this.tenantId);var t=this.credential&&this.credential.w();return t&&me(e,t),e},Jo.prototype.toJSON=function(){return this.w()},ea.prototype.c=null,E(na,ea),na.prototype.a=function(){var e=ra(this);return e?new ActiveXObject(e):new XMLHttpRequest},na.prototype.b=function(){var e={};return ra(this)&&(e[0]=!0,e[1]=!0),e},$o=new na,E(ia,ea),ia.prototype.a=function(){var e=new XMLHttpRequest;if("withCredentials"in e)return e;if("undefined"!=typeof XDomainRequest)return new oa;throw Error("Unsupported browser")},ia.prototype.b=function(){return{}},(e=oa.prototype).open=function(e,t,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(e,t)},e.send=function(e){if(e){if("string"!=typeof e)throw Error("Only string data is supported");this.a.send(e)}else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(e){return"content-type"==e.toLowerCase()?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,aa(this,4)},e.Tb=function(){this.status=500,this.response=this.responseText="",aa(this,4)},e.vc=function(){this.Tb()},e.rc=function(){this.status=200,aa(this,1)},e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},sa.prototype.a=null;function ua(e){this.f=e,this.b=this.c=this.a=null}function ca(e,t){this.name=e,this.value=t}sa.prototype.reset=function(e,t,n,r,i){"number"==typeof i||0,r||S(),delete this.a},ca.prototype.toString=function(){return this.name};var la=new ca("SEVERE",1e3),fa=new ca("WARNING",900),ha=new ca("CONFIG",700),da=new ca("FINE",500);function pa(e){return e.c?e.c:e.a?pa(e.a):(M("Root logger has no level set."),null)}ua.prototype.log=function(e,t,n){if(e.value>=pa(this).value)for(p(t)&&(t=t()),e=new sa(e,String(t),this.f),n&&(e.a=n),n=this;n;)n=n.a};var va,ma={},ya=null;function ba(e){var t;if(ya||(ya=new ua(""),ma[""]=ya,ya.c=ha),!(t=ma[e])){t=new ua(e);var n=e.lastIndexOf("."),r=e.substr(n+1);(n=ba(e.substr(0,n))).b||(n.b={}),n.b[r]=t,t.a=n,ma[e]=t}return t}function wa(e,t){e&&e.log(da,t,void 0)}function _a(e){this.f=e}function xa(e){En.call(this),this.u=e,this.h=void 0,this.readyState=Sa,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=ba("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}E(_a,ea),_a.prototype.a=function(){return new xa(this.f)},_a.prototype.b=(va={},function(){return va}),E(xa,En);var Sa=0;function Ea(e){e.c.read().then(e.pc.bind(e)).catch(e.Va.bind(e))}function ka(e){e.readyState=4,e.g=null,e.c=null,e.m=null,Ta(e)}function Ta(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Ca(e){En.call(this),this.headers=new Dn,this.D=e||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=Ia,this.u=this.S=!1}(e=xa.prototype).open=function(e,t){if(this.readyState!=Sa)throw this.abort(),Error("Error reopening a connection");this.s=e,this.f=t,this.readyState=1,Ta(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var t={headers:this.l,method:this.s,credentials:this.h,cache:void 0};e&&(t.body=e),this.u.fetch(new Request(this.f,t)).then(this.uc.bind(this),this.Va.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,ka(this)),this.readyState=Sa},e.uc=function(e){this.a&&(this.g=e,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=e.headers,this.readyState=2,Ta(this)),this.a&&(this.readyState=3,Ta(this),this.a&&("arraybuffer"===this.responseType?e.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):"undefined"!==typeof s.ReadableStream&&"body"in e?(this.response=this.responseText="",this.c=e.body.getReader(),this.m=new TextDecoder,Ea(this)):e.text().then(this.tc.bind(this),this.Va.bind(this)))))},e.pc=function(e){if(this.a){var t=this.m.decode(e.value?e.value:new Uint8Array(0),{stream:!e.done});t&&(this.response=this.responseText+=t),e.done?ka(this):Ta(this),3==this.readyState&&Ea(this)}},e.tc=function(e){this.a&&(this.response=this.responseText=e,ka(this))},e.sc=function(e){this.a&&(this.response=e,ka(this))},e.Va=function(e){var t=this.i;t&&t.log(fa,"Failed to fetch url "+this.f,e instanceof Error?e:Error(e)),this.a&&ka(this)},e.setRequestHeader=function(e,t){this.l.append(e,t)},e.getResponseHeader=function(e){return this.b?this.b.get(e.toLowerCase())||"":((e=this.i)&&e.log(fa,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var e=this.i;return e&&e.log(fa,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}e=[];for(var t=this.b.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(xa.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(e){this.h=e?"include":"same-origin"}}),E(Ca,En);var Ia="";Ca.prototype.b=ba("goog.net.XhrIo");var Pa=/^https?$/i,Oa=["POST","PUT"];function Aa(e,t,n,r,i){if(e.a)throw Error("[goog.net.XhrIo] Object is active with another request="+e.l+"; newUri="+t);n=n?n.toUpperCase():"GET",e.l=t,e.h="",e.P=n,e.J=!1,e.c=!0,e.a=e.D?e.D.a():$o.a(),e.C=e.D?ta(e.D):ta($o),e.a.onreadystatechange=_(e.Wb,e);try{wa(e.b,Ba(e,"Opening Xhr")),e.N=!0,e.a.open(n,String(t),!0),e.N=!1}catch(ht){return wa(e.b,Ba(e,"Error opening Xhr: "+ht.message)),void Na(e,ht)}t=r||"";var o=new Dn(e.headers);i&&function(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(d(e)||"string"===typeof e)W(e,t,void 0);else for(var n=An(e),r=On(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(i,(function(e,t){o.set(t,e)})),i=function(e){e:{for(var t=Da,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(o.Y()),r=s.FormData&&t instanceof s.FormData,!Y(Oa,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(e,t){this.a.setRequestHeader(t,e)}),e),e.m&&(e.a.responseType=e.m),"withCredentials"in e.a&&e.a.withCredentials!==e.S&&(e.a.withCredentials=e.S);try{La(e),0<e.g&&(e.u=function(e){return Ye&&ot(9)&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(e.a),wa(e.b,Ba(e,"Will abort after "+e.g+"ms if incomplete, xhr2 "+e.u)),e.u?(e.a.timeout=e.g,e.a.ontimeout=_(e.Ma,e)):e.s=In(e.Ma,e.g,e)),wa(e.b,Ba(e,"Sending request")),e.i=!0,e.a.send(t),e.i=!1}catch(ht){wa(e.b,Ba(e,"Send error: "+ht.message)),Na(e,ht)}}function Da(e){return"content-type"==e.toLowerCase()}function Na(e,t){e.c=!1,e.a&&(e.f=!0,e.a.abort(),e.f=!1),e.h=t,Ra(e),Ma(e)}function Ra(e){e.J||(e.J=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function ja(e){if(e.c&&"undefined"!=typeof a)if(e.C[1]&&4==Fa(e)&&2==Ua(e))wa(e.b,Ba(e,"Local request error detected and ignored"));else if(e.i&&4==Fa(e))In(e.Wb,0,e);else if(e.dispatchEvent("readystatechange"),4==Fa(e)){wa(e.b,Ba(e,"Request complete")),e.c=!1;try{var t,n=Ua(e);e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.l).match(jn)[1]||null;if(!o&&s.self&&s.self.location){var u=s.self.location.protocol;o=u.substr(0,u.length-1)}i=!Pa.test(o?o.toLowerCase():"")}t=i}if(t)e.dispatchEvent("complete"),e.dispatchEvent("success");else{try{var c=2<Fa(e)?e.a.statusText:""}catch(l){wa(e.b,"Can not get status: "+l.message),c=""}e.h=c+" ["+Ua(e)+"]",Ra(e)}}finally{Ma(e)}}}function Ma(e,t){if(e.a){La(e);var n=e.a,r=e.C[0]?f:null;e.a=null,e.C=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(wm){(e=e.b)&&e.log(la,"Problem encountered resetting onreadystatechange: "+wm.message,void 0)}}}function La(e){e.a&&e.u&&(e.a.ontimeout=null),e.s&&(s.clearTimeout(e.s),e.s=null)}function Fa(e){return e.a?e.a.readyState:0}function Ua(e){try{return 2<Fa(e)?e.a.status:-1}catch(gt){return-1}}function Ba(e,t){return t+" ["+e.P+" "+e.l+" "+Ua(e)+"]"}function qa(e){var t=Ja;this.g=[],this.u=t,this.s=e||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Va(e,t,n){e.a=!0,e.c=n,e.f=!t,Ka(e)}function za(e){if(e.a){if(!e.v)throw new Ga(e);e.v=!1}}function Wa(e,t,n,r){e.g.push([t,n,r]),e.a&&Ka(e)}function Ha(e){return G(e.g,(function(e){return p(e[1])}))}function Ka(e){if(e.h&&e.a&&Ha(e)){var t=e.h,n=Qa[t];n&&(s.clearTimeout(n.a),delete Qa[t]),e.h=0}e.b&&(e.b.l--,delete e.b),t=e.c;for(var r=n=!1;e.g.length&&!e.i;){var i=e.g.shift(),o=i[0],a=i[1];if(i=i[2],o=e.f?a:o)try{var u=o.call(i||e.s,t);void 0!==u&&(e.f=e.f&&(u==t||u instanceof Error),e.c=t=u),(N(t)||"function"===typeof s.Promise&&t instanceof s.Promise)&&(r=!0,e.i=!0)}catch(c){t=c,e.f=!0,Ha(e)||(n=!0)}}e.c=t,r&&(u=_(e.m,e,!0),r=_(e.m,e,!1),t instanceof qa?(Wa(t,u,r),t.C=!0):t.then(u,r)),n&&(t=new $a(t),Qa[t.a]=t,e.h=t.a)}function Ga(){R.call(this)}function Ya(){R.call(this)}function $a(e){this.a=s.setTimeout(_(this.c,this),0),this.b=e}(e=Ca.prototype).Ma=function(){"undefined"!=typeof a&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",wa(this.b,Ba(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},e.abort=function(){this.a&&this.c&&(wa(this.b,Ba(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Ma(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Ma(this,!0)),Ca.bb.Da.call(this)},e.Wb=function(){this.ya||(this.N||this.i||this.f?ja(this):this.Jc())},e.Jc=function(){ja(this)},e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Ia:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var e=this.b;return e&&e.log(la,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(gt){return wa(this.b,"Can not get response: "+gt.message),null}},qa.prototype.cancel=function(e){if(this.a)this.c instanceof qa&&this.c.cancel();else{if(this.b){var t=this.b;delete this.b,e?t.cancel(e):(t.l--,0>=t.l&&t.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(e=new Ya(this),za(this),Va(this,!1,e))}},qa.prototype.m=function(e,t){this.i=!1,Va(this,e,t)},qa.prototype.then=function(e,t,n){var r,i,o=new St((function(e,t){r=e,i=t}));return Wa(this,r,(function(e){e instanceof Ya?o.cancel():i(e)})),o.then(e,t,n)},qa.prototype.$goog_Thenable=!0,E(Ga,R),Ga.prototype.message="Deferred has already fired",Ga.prototype.name="AlreadyCalledError",E(Ya,R),Ya.prototype.message="Deferred was canceled",Ya.prototype.name="CanceledError",$a.prototype.c=function(){throw delete Qa[this.a],this.b};var Qa={};function Xa(e){var t={},n=t.document||document,r=Te(e).toString(),i=mt(document,"SCRIPT"),o={Xb:i,Ma:void 0},a=new qa(o),u=null,f=null!=t.timeout?t.timeout:5e3;return 0<f&&(u=window.setTimeout((function(){Za(i,!0);var e=new ns(ts,"Timeout reached for loading script "+r);za(a),Va(a,!1,e)}),f),o.Ma=u),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Za(i,t.xd||!1,u),za(a),Va(a,!0,null))},i.onerror=function(){Za(i,!0,u);var e=new ns(es,"Error while loading script "+r);za(a),Va(a,!1,e)},me(o=t.attributes||{},{type:"text/javascript",charset:"UTF-8"}),lt(i,o),function(e,t){ye(e,"HTMLScriptElement"),e.src=Te(t),(t=e.ownerDocument&&e.ownerDocument.defaultView)&&t!=s?t=l(t.document):(null===c&&(c=l(s.document)),t=c),t&&e.setAttribute("nonce",t)}(i,e),function(e){var t;return(t=(e||document).getElementsByTagName("HEAD"))&&0!=t.length?t[0]:e.documentElement}(n).appendChild(i),a}function Ja(){if(this&&this.Xb){var e=this.Xb;e&&"SCRIPT"==e.tagName&&Za(e,!0,this.Ma)}}function Za(e,t,n){null!=n&&s.clearTimeout(n),e.onload=f,e.onerror=f,e.onreadystatechange=f,t&&window.setTimeout((function(){e&&e.parentNode&&e.parentNode.removeChild(e)}),0)}var es=0,ts=1;function ns(e,t){var n="Jsloader error (code #"+e+")";t&&(n+=": "+t),R.call(this,n),this.code=e}function rs(e){this.f=e}function is(e,t,n){if(this.c=e,e=t||{},this.l=e.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=e.secureTokenTimeout||ss,this.g=ve(e.secureTokenHeaders||us),this.h=e.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=e.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=e.firebaseTimeout||cs,this.a=ve(e.firebaseHeaders||ls),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==Cr(),!(n=s.XMLHttpRequest||n&&Mn.default.INTERNAL.node&&Mn.default.INTERNAL.node.XMLHttpRequest)&&!Tr())throw new T("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,Tr()?this.f=new _a(self):Ir()?this.f=new rs(n):this.f=new ia,this.b=null}E(ns,R),E(rs,ea),rs.prototype.a=function(){return new this.f},rs.prototype.b=function(){return{}};var os,as="idToken",ss=new Gr(3e4,6e4),us={"Content-Type":"application/x-www-form-urlencoded"},cs=new Gr(3e4,6e4),ls={"Content-Type":"application/json"};function fs(e,t){t?e.a["X-Firebase-Locale"]=t:delete e.a["X-Firebase-Locale"]}function hs(e,t){t&&(e.l=ds("https://securetoken.googleapis.com/v1/token",t),e.h=ds("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",t),e.i=ds("https://identitytoolkit.googleapis.com/v2/",t))}function ds(e,t){return e=zn(e),t=zn(t.url),e.f=e.a+e.f,Fn(e,t.c),e.a=t.a,Un(e,t.g),e.toString()}function ps(e,t){t?(e.a["X-Client-Version"]=t,e.g["X-Client-Version"]=t):(delete e.a["X-Client-Version"],delete e.g["X-Client-Version"])}function vs(e,t,n,r,i,o,a){(function(){var e=Rr();return!((e=Ar(e)!=Or?null:(e=e.match(/\sChrome\/(\d+)/i))&&2==e.length?parseInt(e[1],10):null)&&30>e)&&(!Ye||!st||9<st)})()||Tr()?e=_(e.u,e):(os||(os=new St((function(e,t){!function(e,t){if(((window.gapi||{}).client||{}).request)e();else{s[ms]=function(){((window.gapi||{}).client||{}).request?e():t(Error("CORS_UNSUPPORTED"))},function(e,t){Wa(e,null,t,void 0)}(Xa(Ce(gs,{onload:ms})),(function(){t(Error("CORS_UNSUPPORTED"))}))}}(e,t)}))),e=_(e.s,e)),e(t,n,r,i,o,a)}is.prototype.T=function(){return this.b},is.prototype.u=function(e,t,n,r,i,o){if(Tr()&&("undefined"===typeof s.fetch||"undefined"===typeof s.Headers||"undefined"===typeof s.Request))throw new T("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new Ca(this.f);if(o){a.g=Math.max(0,o);var u=setTimeout((function(){a.dispatchEvent("timeout")}),o)}kn(a,"complete",(function(){u&&clearTimeout(u);var e=null;try{e=JSON.parse(function(e){try{return e.a?e.a.responseText:""}catch(t){return wa(e.b,"Can not get responseText: "+t.message),""}}(this))||null}catch($n){e=null}t&&t(e)})),Tn(a,"ready",(function(){u&&clearTimeout(u),Yt(this)})),Tn(a,"timeout",(function(){u&&clearTimeout(u),Yt(this),t&&t(null)})),Aa(a,e,n,r,i)};var gs=new be(Se,"https://apis.google.com/js/client.js?onload=%{onload}"),ms="__fcb"+Math.floor(1e6*Math.random()).toString();function ys(e,t,n,r,i,o,a){var s=zn(t+n);qn(s,"key",e.c),a&&qn(s,"cb",Date.now().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&qn(s,c,i[c]);return new St((function(t,n){vs(e,s.toString(),(function(e){e?e.error?n(du(e,o||{})):t(e):n(new T("network-request-failed"))}),r,u?void 0:ur(Vr(i)),e.a,e.v.get())}))}function bs(e){if("string"!==typeof(e=e.email)||!xr.test(e))throw new T("invalid-email")}function ws(e){"email"in e&&bs(e)}function _s(e){if(!e[as]){if(e.mfaPendingCredential)throw new T("multi-factor-auth-required",null,ve(e));throw new T("internal-error")}}function xs(e){if(e.phoneNumber||e.temporaryProof){if(!e.phoneNumber||!e.temporaryProof)throw new T("internal-error")}else{if(!e.sessionInfo)throw new T("missing-verification-id");if(!e.code)throw new T("missing-verification-code")}}is.prototype.s=function(e,t,n,r,i){var o=this;os.then((function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:e,method:n,body:r,headers:i,authType:"none",callback:function(e){window.gapi.auth.setToken(a),t&&t(e)}})})).o((function(e){t&&t({error:{message:e&&e.message||"CORS_UNSUPPORTED"}})}))},is.prototype.Ab=function(){return fu(this,Zs,{})},is.prototype.Cb=function(e,t){return fu(this,Xs,{idToken:e,email:t})},is.prototype.Db=function(e,t){return fu(this,Js,{idToken:e,password:t})};var Ss={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function Es(e){if(!e.phoneVerificationInfo)throw new T("internal-error");if(!e.phoneVerificationInfo.sessionInfo)throw new T("missing-verification-id");if(!e.phoneVerificationInfo.code)throw new T("missing-verification-code")}function ks(e){if(!e.requestUri||!e.sessionId&&!e.postBody&&!e.pendingToken)throw new T("internal-error")}function Ts(e,t){return t.oauthIdToken&&t.providerId&&0==t.providerId.indexOf("oidc.")&&!t.pendingToken&&(e.sessionId?t.nonce=e.sessionId:e.postBody&&(ir(e=new er(e.postBody),"nonce")&&(t.nonce=e.get("nonce")))),t}function Cs(e){var t=null;if(e.needConfirmation?(e.code="account-exists-with-different-credential",t=Zo(e)):"FEDERATED_USER_ID_ALREADY_LINKED"==e.errorMessage?(e.code="credential-already-in-use",t=Zo(e)):"EMAIL_EXISTS"==e.errorMessage?(e.code="email-already-in-use",t=Zo(e)):e.errorMessage&&(t=hu(e.errorMessage)),t)throw t;_s(e)}function Is(e,t){return t.returnIdpCredential=!0,fu(e,nu,t)}function Ps(e,t){return t.returnIdpCredential=!0,fu(e,iu,t)}function Os(e,t){return t.returnIdpCredential=!0,t.autoCreate=!1,fu(e,ru,t)}function As(e){if(!e.oobCode)throw new T("invalid-action-code")}(e=is.prototype).Eb=function(e,t){var n={idToken:e},r=[];return de(Ss,(function(e,i){var o=t[i];null===o?r.push(e):i in t&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),fu(this,Xs,n)},e.wb=function(e,t){return me(e={requestType:"PASSWORD_RESET",email:e},t),fu(this,Ks,e)},e.xb=function(e,t){return me(e={requestType:"EMAIL_SIGNIN",email:e},t),fu(this,zs,e)},e.vb=function(e,t){return me(e={requestType:"VERIFY_EMAIL",idToken:e},t),fu(this,Ws,e)},e.Fb=function(e,t,n){return me(e={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:e,newEmail:t},n),fu(this,Hs,e)},e.gb=function(e){return fu(this,su,e)},e.ob=function(e,t){return fu(this,$s,{oobCode:e,newPassword:t})},e.Sa=function(e){return fu(this,Ns,{oobCode:e})},e.kb=function(e){return fu(this,Ds,{oobCode:e})};var Ds={endpoint:"setAccountInfo",A:As,Z:"email",B:!0},Ns={endpoint:"resetPassword",A:As,G:function(e){var t=e.requestType;if(!t||!e.email&&"EMAIL_SIGNIN"!=t&&"VERIFY_AND_CHANGE_EMAIL"!=t)throw new T("internal-error")},B:!0},Rs={endpoint:"signupNewUser",A:function(e){if(bs(e),!e.password)throw new T("weak-password")},G:_s,V:!0,B:!0},js={endpoint:"createAuthUri",B:!0},Ms={endpoint:"deleteAccount",O:["idToken"]},Ls={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(e){if(!Array.isArray(e.deleteProvider))throw new T("internal-error")}},Fs={endpoint:"emailLinkSignin",O:["email","oobCode"],A:bs,G:_s,V:!0,B:!0},Us={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:bs,G:_s,V:!0},Bs={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:Es,G:_s,B:!0,Na:!0},qs={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:Es,G:_s,B:!0,Na:!0},Vs={endpoint:"getAccountInfo"},zs={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(e){if("EMAIL_SIGNIN"!=e.requestType)throw new T("internal-error");bs(e)},Z:"email",B:!0},Ws={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(e){if("VERIFY_EMAIL"!=e.requestType)throw new T("internal-error")},Z:"email",B:!0},Hs={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(e){if("VERIFY_AND_CHANGE_EMAIL"!=e.requestType)throw new T("internal-error")},Z:"email",B:!0},Ks={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(e){if("PASSWORD_RESET"!=e.requestType)throw new T("internal-error");bs(e)},Z:"email",B:!0},Gs={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},Ys={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(e){if(!e.recaptchaSiteKey)throw new T("internal-error")}},$s={endpoint:"resetPassword",A:As,Z:"email",B:!0},Qs={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Xs={endpoint:"setAccountInfo",O:["idToken"],A:ws,V:!0},Js={endpoint:"setAccountInfo",O:["idToken"],A:function(e){if(ws(e),!e.password)throw new T("weak-password")},G:_s,V:!0},Zs={endpoint:"signupNewUser",G:_s,V:!0,B:!0},eu={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(e){if(!e.phoneEnrollmentInfo)throw new T("internal-error");if(!e.phoneEnrollmentInfo.phoneNumber)throw new T("missing-phone-number");if(!e.phoneEnrollmentInfo.recaptchaToken)throw new T("missing-app-credential")},G:function(e){if(!e.phoneSessionInfo||!e.phoneSessionInfo.sessionInfo)throw new T("internal-error")},B:!0,Na:!0},tu={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(e){if(!e.phoneSignInInfo||!e.phoneSignInInfo.recaptchaToken)throw new T("missing-app-credential")},G:function(e){if(!e.phoneResponseInfo||!e.phoneResponseInfo.sessionInfo)throw new T("internal-error")},B:!0,Na:!0},nu={endpoint:"verifyAssertion",A:ks,Za:Ts,G:Cs,V:!0,B:!0},ru={endpoint:"verifyAssertion",A:ks,Za:Ts,G:function(e){if(e.errorMessage&&"USER_NOT_FOUND"==e.errorMessage)throw new T("user-not-found");if(e.errorMessage)throw hu(e.errorMessage);_s(e)},V:!0,B:!0},iu={endpoint:"verifyAssertion",A:function(e){if(ks(e),!e.idToken)throw new T("internal-error")},Za:Ts,G:Cs,V:!0},ou={endpoint:"verifyCustomToken",A:function(e){if(!e.token)throw new T("invalid-custom-token")},G:_s,V:!0,B:!0},au={endpoint:"verifyPassword",A:function(e){if(bs(e),!e.password)throw new T("wrong-password")},G:_s,V:!0,B:!0},su={endpoint:"verifyPhoneNumber",A:xs,G:_s,B:!0},uu={endpoint:"verifyPhoneNumber",A:function(e){if(!e.idToken)throw new T("internal-error");xs(e)},G:function(e){if(e.temporaryProof)throw e.code="credential-already-in-use",Zo(e);_s(e)}},cu={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:xs,G:_s,B:!0},lu={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(e){if(!!e[as]^!!e.refreshToken)throw new T("internal-error")},B:!0,Na:!0};function fu(e,t,n){if(!function(e,t){if(!t||!t.length)return!0;if(!e)return!1;for(var n=0;n<t.length;n++){var r=e[t[n]];if(void 0===r||null===r||""===r)return!1}return!0}(n,t.O))return At(new T("internal-error"));var r,i=!!t.Na,o=t.Vb||"POST";return Ot(n).then(t.A).then((function(){return t.V&&(n.returnSecureToken=!0),t.B&&e.b&&"undefined"===typeof n.tenantId&&(n.tenantId=e.b),ys(e,i?e.i:e.h,t.endpoint,o,n,t.Ib,t.mb||!1)})).then((function(e){return r=e,t.Za?t.Za(n,r):r})).then(t.G).then((function(){if(!t.Z)return r;if(!(t.Z in r))throw new T("internal-error");return r[t.Z]}))}function hu(e){return du({error:{errors:[{message:e}],code:400,message:e}})}function du(e,t){var n=(e.error&&e.error.errors&&e.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new T(r[n]):null)return n;for(var i in n=e.error&&e.error.message||"",me(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},t||{}),t=(t=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<t.length?t[1]:void 0,r)if(0===n.indexOf(i))return new T(r[i],t);return!t&&e&&(t=qr(e)),new T("internal-error",t)}function pu(e){this.b=e,this.a=null,this.sb=function(e){return(yu||(yu=new St((function(e,t){function n(){Kr(),jr("gapi.load")("gapi.iframes",{callback:e,ontimeout:function(){Kr(),t(Error("Network Error"))},timeout:gu.get()})}if(jr("gapi.iframes.Iframe"))e();else if(jr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();s[r]=function(){jr("gapi.load")?n():t(Error("Network Error"))},Ot(Xa(r=Ce(vu,{onload:r}))).o((function(){t(Error("Network Error"))}))}})).o((function(e){throw yu=null,e})))).then((function(){return new St((function(t,n){jr("gapi.iframes.getContext")().open({where:document.body,url:e.b,messageHandlersFilter:jr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),t()}e.a=r,e.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),mu.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var vu=new be(Se,"https://apis.google.com/js/api.js?onload=%{onload}"),gu=new Gr(3e4,6e4),mu=new Gr(5e3,15e3),yu=null;function bu(e,t,n,r){this.l=e,this.h=t,this.i=n,this.g=r,this.f=null,this.g?e=Wn((e=zn(this.g.url)).c,e.a,e.g,"/emulator/auth/iframe"):e=Wn("https",this.l,null,"/__/auth/iframe"),this.a=e,qn(this.a,"apiKey",this.h),qn(this.a,"appName",this.i),this.b=null,this.c=[]}function wu(e,t,n,r,i,o){this.u=e,this.s=t,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function _u(e){try{return Mn.default.app(e).auth().Ga()}catch(gt){return[]}}function xu(e,t,n,r,i,o){this.s=e,this.g=t,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function Su(e){var t=vr();return function(e){return fu(e,Gs,{}).then((function(e){return e.authorizedDomains||[]}))}(e).then((function(e){e:{var n=zn(t),r=n.c;n=n.a;for(var i=0;i<e.length;i++){var o=e[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=zn(o).a==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:_r.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){e=!0;break e}}e=!1}if(!e)throw new Xo(vr())}))}function Eu(e){return e.m||(e.m=Sr().then((function(){if(!e.u){var t=e.c,n=e.i,r=_u(e.b),i=new bu(e.s,e.g,e.b,e.f);i.f=t,i.b=n,i.c=J(r||[]),e.u=i.toString()}e.v=new pu(e.u),function(e){if(!e.v)throw Error("IfcHandler must be initialized!");!function(e,t){e.sb.then((function(){e.a.register("authEvent",t,jr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(e.v,(function(t){var n={};if(t&&t.authEvent){var r=!1;for(t=Go(t.authEvent),n=0;n<e.h.length;n++)r=e.h[n](t)||r;return(n={}).status=r?"ACK":"ERROR",Ot(n)}return n.status="ERROR",Ot(n)}))}(e)}))),e.m}function ku(e){return e.l||(e.C=e.c?Nr(e.c,_u(e.b)):null,e.l=new is(e.g,D(e.i),e.C),e.f&&hs(e.l,e.f)),e.l}function Tu(e,t,n,r,i,o,a,s,u,c,l,f){return(e=new wu(e,t,n,r,i,f)).l=o,e.g=a,e.i=s,e.b=ve(u||null),e.f=c,e.zb(l).toString()}function Cu(e){if(this.a=e||Mn.default.INTERNAL.reactNative&&Mn.default.INTERNAL.reactNative.AsyncStorage,!this.a)throw new T("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function Iu(e){this.b=e,this.a={},this.f=_(this.c,this)}bu.prototype.toString=function(){return this.f?qn(this.a,"v",this.f):rr(this.a.b,"v"),this.b?qn(this.a,"eid",this.b):rr(this.a.b,"eid"),this.c.length?qn(this.a,"fw",this.c.join(",")):rr(this.a.b,"fw"),this.a.toString()},wu.prototype.zb=function(e){return this.h=e,this},wu.prototype.toString=function(){if(this.v){var e=zn(this.v.url);e=Wn(e.c,e.a,e.g,"/emulator/auth/handler")}else e=Wn("https",this.u,null,"/__/auth/handler");if(qn(e,"apiKey",this.s),qn(e,"appName",this.c),qn(e,"authType",this.m),this.a.isOAuthProvider){var t=this.a;try{var n=Mn.default.app(this.c).auth().la()}catch(s){n=null}for(var r in t.pb=n,qn(e,"providerId",this.a.providerId),t=Vr((n=this.a).Jb))t[r]=t[r].toString();r=n.Qc,t=ve(t);for(var i=0;i<r.length;i++){var o=r[i];o in t&&delete t[o]}n.qb&&n.pb&&!t[n.qb]&&(t[n.qb]=n.pb),pe(t)||qn(e,"customParameters",qr(t))}if("function"===typeof this.a.Rb&&((n=this.a.Rb()).length&&qn(e,"scopes",n.join(","))),this.l?qn(e,"redirectUrl",this.l):rr(e.b,"redirectUrl"),this.g?qn(e,"eventId",this.g):rr(e.b,"eventId"),this.i?qn(e,"v",this.i):rr(e.b,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!Vn(e,a)&&qn(e,a,this.b[a]);return this.h?qn(e,"tid",this.h):rr(e.b,"tid"),this.f?qn(e,"eid",this.f):rr(e.b,"eid"),(a=_u(this.c)).length&&qn(e,"fw",a.join(",")),e.toString()},(e=xu.prototype).Pb=function(e,t,n){var r=new T("popup-closed-by-user"),i=new T("web-storage-unsupported"),o=this,a=!1;return this.ma().then((function(){(function(e){var t={type:"webStorageSupport"};return Eu(e).then((function(){return function(e,t){return e.sb.then((function(){return new St((function(n){e.a.send(t.type,t,n,jr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(e.v,t)})).then((function(e){if(e&&e.length&&"undefined"!==typeof e[0].webStorageSupport)return e[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(e&&br(e),t(i),a=!0)}))})).o((function(){})).then((function(){if(!a)return function(e){return new St((function(t){return function n(){Pn(2e3).then((function(){if(e&&!e.closed)return n();t()}))}()}))}(e)})).then((function(){if(!a)return Pn(n).then((function(){t(r)}))}))},e.Yb=function(){var e=Rr();return!Br(e)&&!Hr(e)},e.Ub=function(){return!1},e.Nb=function(e,t,n,r,i,o,a,s){if(!e)return At(new T("popup-blocked"));if(a&&!Br())return this.ma().o((function(t){br(e),i(t)})),r(),Ot();this.a||(this.a=Su(ku(this)));var u=this;return this.a.then((function(){var t=u.ma().o((function(t){throw br(e),i(t),t}));return r(),t})).then((function(){(Ho(n),a)||gr(Tu(u.s,u.g,u.b,t,n,null,o,u.c,void 0,u.i,s,u.f),e)})).o((function(e){throw"auth/network-request-failed"==e.code&&(u.a=null),e}))},e.Ob=function(e,t,n,r){this.a||(this.a=Su(ku(this)));var i=this;return this.a.then((function(){Ho(t),gr(Tu(i.s,i.g,i.b,e,t,vr(),n,i.c,void 0,i.i,r,i.f))})).o((function(e){throw"auth/network-request-failed"==e.code&&(i.a=null),e}))},e.ma=function(){var e=this;return Eu(this).then((function(){return e.v.sb})).o((function(){throw e.a=null,new T("network-request-failed")}))},e.ac=function(){return!0},e.Ea=function(e){this.h.push(e)},e.Ta=function(e){Q(this.h,(function(t){return t==e}))},(e=Cu.prototype).get=function(e){return Ot(this.a.getItem(e)).then((function(e){return e&&zr(e)}))},e.set=function(e,t){return Ot(this.a.setItem(e,qr(t)))},e.U=function(e){return Ot(this.a.removeItem(e))},e.ca=function(){},e.ia=function(){};var Pu,Ou=[];function Au(e,t,n){pe(e.a)&&e.b.addEventListener("message",e.f),"undefined"===typeof e.a[t]&&(e.a[t]=[]),e.a[t].push(n)}function Du(e){this.a=e}function Nu(e){this.c=e,this.b=!1,this.a=[]}function Ru(e,t,n,r){var i,o,a,s,u=n||{},c=null;if(e.b)return At(Error("connection_unavailable"));var l=r?800:50,f="undefined"!==typeof MessageChannel?new MessageChannel:null;return new St((function(n,r){f?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),f.port1.start(),a=setTimeout((function(){r(Error("unsupported_event"))}),l),o=function(e){e.data.eventId===i&&("ack"===e.data.status?(clearTimeout(a),s=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===e.data.status?(clearTimeout(s),"undefined"!==typeof e.data.response?n(e.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))},c={messageChannel:f,onMessage:o},e.a.push(c),f.port1.addEventListener("message",o),e.c.postMessage({eventType:t,eventId:i,data:u},[f.port2])):r(Error("connection_unavailable"))})).then((function(t){return ju(e,c),t})).o((function(t){throw ju(e,c),t}))}function ju(e,t){if(t){var n=t.messageChannel,r=t.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),Q(e.a,(function(e){return e==t}))}}function Mu(){if(!Bu())throw new T("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=s.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var e=this;Tr()&&self?(this.v=function(){var e=Tr()?self:null;if(W(Ou,(function(n){n.b==e&&(t=n)})),!t){var t=new Iu(e);Ou.push(t)}return t}(),Au(this.v,"keyChanged",(function(t,n){return Hu(e).then((function(t){return 0<t.length&&W(e.a,(function(e){e(t)})),{keyProcessed:Y(t,n.key)}}))})),Au(this.v,"ping",(function(){return Ot(["keyChanged"])}))):function(){var e=s.navigator;return e&&e.serviceWorker?Ot().then((function(){return e.serviceWorker.ready})).then((function(e){return e.active||null})).o((function(){return null})):Ot(null)}().then((function(t){(e.h=t)&&(e.g=new Nu(new Du(t)),Ru(e.g,"ping",null,!0).then((function(t){t[0].fulfilled&&Y(t[0].value,"keyChanged")&&(e.s=!0)})).o((function(){})))}))}function Lu(e){return new St((function(t,n){var r=e.m.open("firebaseLocalStorageDb",1);r.onerror=function(e){try{e.preventDefault()}catch(t){}n(Error(e.target.error))},r.onupgradeneeded=function(e){e=e.target.result;try{e.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){n(t)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?t(r):function(e){return new St((function(t,n){var r=e.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){t()},r.onerror=function(e){n(Error(e.target.error))}}))}(e).then((function(){return Lu(e)})).then((function(e){t(e)})).o((function(e){n(e)}))}}))}function Fu(e){return e.i||(e.i=Lu(e)),e.i}function Uu(e,t){var n=0;return new St((function r(i,o){Fu(e).then(t).then(i).o((function(t){if(!(3<++n))return Fu(e).then((function(t){return t.close(),e.i=void 0,r(i,o)})).o((function(e){o(e)}));o(t)}))}))}function Bu(){try{return!!s.indexedDB}catch(va){return!1}}function qu(e){return e.objectStore("firebaseLocalStorage")}function Vu(e,t){return e.transaction(["firebaseLocalStorage"],t?"readwrite":"readonly")}function zu(e){return new St((function(t,n){e.onsuccess=function(e){e&&e.target?t(e.target.result):t()},e.onerror=function(e){n(e.target.error)}}))}function Wu(e,t){return e.g&&e.h&&function(){var e=s.navigator;return e&&e.serviceWorker&&e.serviceWorker.controller||null}()===e.h?Ru(e.g,"keyChanged",{key:t},e.s).then((function(){})).o((function(){})):Ot()}function Hu(e){return Fu(e).then((function(e){var t=qu(Vu(e,!1));return t.getAll?zu(t.getAll()):new St((function(e,n){var r=[],i=t.openCursor();i.onsuccess=function(t){(t=t.target.result)?(r.push(t.value),t.continue()):e(r)},i.onerror=function(e){n(e.target.error)}}))})).then((function(t){var n={},r=[];if(0==e.b){for(r=0;r<t.length;r++)n[t[r].fbase_key]=t[r].value;r=mr(e.c,n),e.c=n}return r}))}function Ku(e){e.l&&e.l.cancel("STOP_EVENT"),e.f&&(clearTimeout(e.f),e.f=null)}function Gu(e){var t=this,n=null;this.a=[],this.type="indexedDB",this.c=e,this.b=Ot().then((function(){if(Bu()){var e=Wr(),r="__sak"+e;return Pu||(Pu=new Mu),(n=Pu).set(r,e).then((function(){return n.get(r)})).then((function(t){if(t!==e)throw Error("indexedDB not supported!");return n.U(r)})).then((function(){return n})).o((function(){return t.c}))}return t.c})).then((function(e){return t.type=e.type,e.ca((function(e){W(t.a,(function(t){t(e)}))})),e}))}function Yu(){this.a={},this.type="inMemory"}function $u(){if(!function(){var e="Node"==Cr();if(!(e=Qu()||e&&Mn.default.INTERNAL.node&&Mn.default.INTERNAL.node.localStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(gt){return!1}}()){if("Node"==Cr())throw new T("internal-error","The LocalStorage compatibility library was not found.");throw new T("web-storage-unsupported")}this.a=Qu()||Mn.default.INTERNAL.node.localStorage,this.type="localStorage"}function Qu(){try{var e=s.localStorage,t=Wr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(n){return null}}function Xu(){this.type="nullStorage"}function Ju(){if(!function(){var e="Node"==Cr();if(!(e=Zu()||e&&Mn.default.INTERNAL.node&&Mn.default.INTERNAL.node.sessionStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(gt){return!1}}()){if("Node"==Cr())throw new T("internal-error","The SessionStorage compatibility library was not found.");throw new T("web-storage-unsupported")}this.a=Zu()||Mn.default.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Zu(){try{var e=s.sessionStorage,t=Wr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(n){return null}}function ec(){var e={};e.Browser=rc,e.Node=ic,e.ReactNative=oc,e.Worker=ac,this.a=e[Cr()]}Iu.prototype.c=function(e){var t=e.data.eventType,n=e.data.eventId,r=this.a[t];if(r&&0<r.length){e.ports[0].postMessage({status:"ack",eventId:n,eventType:t,response:null});var i=[];W(r,(function(t){i.push(Ot().then((function(){return t(e.origin,e.data.data)})))})),Nt(i).then((function(r){var i=[];W(r,(function(e){i.push({fulfilled:e.Qb,value:e.value,reason:e.reason?e.reason.message:void 0})})),W(i,(function(e){for(var t in e)"undefined"===typeof e[t]&&delete e[t]})),e.ports[0].postMessage({status:"done",eventId:n,eventType:t,response:i})}))}},Du.prototype.postMessage=function(e,t){this.a.postMessage(e,t)},Nu.prototype.close=function(){for(;0<this.a.length;)ju(this,this.a[0]);this.b=!0},(e=Mu.prototype).set=function(e,t){var n=this,r=!1;return Uu(this,(function(t){return zu((t=qu(Vu(t,!0))).get(e))})).then((function(i){return Uu(n,(function(o){if(o=qu(Vu(o,!0)),i)return i.value=t,zu(o.put(i));n.b++,r=!0;var a={};return a.fbase_key=e,a.value=t,zu(o.add(a))}))})).then((function(){return n.c[e]=t,Wu(n,e)})).oa((function(){r&&n.b--}))},e.get=function(e){return Uu(this,(function(t){return zu(qu(Vu(t,!1)).get(e))})).then((function(e){return e&&e.value}))},e.U=function(e){var t=this,n=!1;return Uu(this,(function(r){return n=!0,t.b++,zu(qu(Vu(r,!0)).delete(e))})).then((function(){return delete t.c[e],Wu(t,e)})).oa((function(){n&&t.b--}))},e.ca=function(e){0==this.a.length&&function(e){function t(){e.f=setTimeout((function(){e.l=Hu(e).then((function(t){0<t.length&&W(e.a,(function(e){e(t)}))})).then((function(){t()})).o((function(e){"STOP_EVENT"!=e.message&&t()}))}),800)}Ku(e),t()}(this),this.a.push(e)},e.ia=function(e){Q(this.a,(function(t){return t==e})),0==this.a.length&&Ku(this)},(e=Gu.prototype).get=function(e){return this.b.then((function(t){return t.get(e)}))},e.set=function(e,t){return this.b.then((function(n){return n.set(e,t)}))},e.U=function(e){return this.b.then((function(t){return t.U(e)}))},e.ca=function(e){this.a.push(e)},e.ia=function(e){Q(this.a,(function(t){return t==e}))},(e=Yu.prototype).get=function(e){return Ot(this.a[e])},e.set=function(e,t){return this.a[e]=t,Ot()},e.U=function(e){return delete this.a[e],Ot()},e.ca=function(){},e.ia=function(){},(e=$u.prototype).get=function(e){var t=this;return Ot().then((function(){return zr(t.a.getItem(e))}))},e.set=function(e,t){var n=this;return Ot().then((function(){var r=qr(t);null===r?n.U(e):n.a.setItem(e,r)}))},e.U=function(e){var t=this;return Ot().then((function(){t.a.removeItem(e)}))},e.ca=function(e){s.window&&hn(s.window,"storage",e)},e.ia=function(e){s.window&&vn(s.window,"storage",e)},(e=Xu.prototype).get=function(){return Ot(null)},e.set=function(){return Ot()},e.U=function(){return Ot()},e.ca=function(){},e.ia=function(){},(e=Ju.prototype).get=function(e){var t=this;return Ot().then((function(){return zr(t.a.getItem(e))}))},e.set=function(e,t){var n=this;return Ot().then((function(){var r=qr(t);null===r?n.U(e):n.a.setItem(e,r)}))},e.U=function(e){var t=this;return Ot().then((function(){t.a.removeItem(e)}))},e.ca=function(){},e.ia=function(){};var tc,nc,rc={F:$u,cb:Ju},ic={F:$u,cb:Ju},oc={F:Cu,cb:Xu},ac={F:$u,cb:Xu},sc={rd:"local",NONE:"none",td:"session"};function uc(){var e=!(Hr(Rr())||!kr()),t=Br(),n=Mr();this.m=e,this.h=t,this.l=n,this.a={},tc||(tc=new ec),e=tc;try{this.g=!pr()&&Qr()||!s.indexedDB?new e.a.F:new Gu(Tr()?new Yu:new e.a.F)}catch(r){this.g=new Yu,this.h=!0}try{this.i=new e.a.cb}catch(r){this.i=new Yu}this.v=new Yu,this.f=_(this.Zb,this),this.b={}}function cc(){return nc||(nc=new uc),nc}function lc(e,t){switch(t){case"session":return e.i;case"none":return e.v;default:return e.g}}function fc(e,t){return"firebase:"+e.name+(t?":"+t:"")}function hc(e,t,n){return n=fc(t,n),"local"==t.F&&(e.b[n]=null),lc(e,t.F).U(n)}function dc(e){e.c&&(clearInterval(e.c),e.c=null)}function pc(e){this.a=e,this.b=cc()}(e=uc.prototype).get=function(e,t){return lc(this,e.F).get(fc(e,t))},e.set=function(e,t,n){var r=fc(e,n),i=this,o=lc(this,e.F);return o.set(r,t).then((function(){return o.get(r)})).then((function(t){"local"==e.F&&(i.b[r]=t)}))},e.addListener=function(e,t,n){e=fc(e,t),this.l&&(this.b[e]=s.localStorage.getItem(e)),pe(this.a)&&(lc(this,"local").ca(this.f),this.h||(pr()||!Qr())&&s.indexedDB||!this.l||function(e){dc(e),e.c=setInterval((function(){for(var t in e.a){var n=s.localStorage.getItem(t),r=e.b[t];n!=r&&(e.b[t]=n,n=new en({type:"storage",key:t,target:window,oldValue:r,newValue:n,a:!0}),e.Zb(n))}}),1e3)}(this)),this.a[e]||(this.a[e]=[]),this.a[e].push(n)},e.removeListener=function(e,t,n){e=fc(e,t),this.a[e]&&(Q(this.a[e],(function(e){return e==n})),0==this.a[e].length&&delete this.a[e]),pe(this.a)&&(lc(this,"local").ia(this.f),dc(this))},e.Zb=function(e){if(e&&e.g){var t=e.a.key;if(null==t)for(var n in this.a){var r=this.b[n];"undefined"===typeof r&&(r=null);var i=s.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.nb(n))}else if(0==t.indexOf("firebase:")&&this.a[t]){if("undefined"!==typeof e.a.a?lc(this,"local").ia(this.f):dc(this),this.m)if(n=s.localStorage.getItem(t),(r=e.a.newValue)!==n)null!==r?s.localStorage.setItem(t,r):s.localStorage.removeItem(t);else if(this.b[t]===r&&"undefined"===typeof e.a.a)return;var o=this;n=function(){"undefined"===typeof e.a.a&&o.b[t]===s.localStorage.getItem(t)||(o.b[t]=s.localStorage.getItem(t),o.nb(t))},Ye&&st&&10==st&&s.localStorage.getItem(t)!==e.a.newValue&&e.a.newValue!==e.a.oldValue?setTimeout(n,10):n()}}else W(e,_(this.nb,this))},e.nb=function(e){this.a[e]&&W(this.a[e],(function(e){e()}))};var vc,gc={name:"authEvent",F:"local"};function mc(){this.a=cc()}function yc(e,t){this.b=bc,this.f=s.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=e,this.h=t,this.l=s.Int32Array?new Int32Array(64):Array(64),void 0===vc&&(vc=s.Int32Array?new Int32Array(Tc):Tc),this.reset()}E(yc,(function(){this.b=-1}));for(var bc=64,wc=bc-1,_c=[],xc=0;xc<wc;xc++)_c[xc]=0;var Sc=X(128,_c);function Ec(e){for(var t=e.f,n=e.l,r=0,i=0;i<t.length;)n[r++]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i=4*r;for(t=16;64>t;t++){i=0|n[t-15],r=0|n[t-2];var o=(0|n[t-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[t-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[t]=o+a|0}r=0|e.a[0],i=0|e.a[1];var s=0|e.a[2],u=0|e.a[3],c=0|e.a[4],l=0|e.a[5],f=0|e.a[6];for(o=0|e.a[7],t=0;64>t;t++){var h=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&l^~c&f)+(0|vc[t])|0)+(0|n[t])|0)|0,o=f,f=l,l=c,c=u+a|0,u=s,s=i,i=r,r=a+h|0}e.a[0]=e.a[0]+r|0,e.a[1]=e.a[1]+i|0,e.a[2]=e.a[2]+s|0,e.a[3]=e.a[3]+u|0,e.a[4]=e.a[4]+c|0,e.a[5]=e.a[5]+l|0,e.a[6]=e.a[6]+f|0,e.a[7]=e.a[7]+o|0}function kc(e,t,n){void 0===n&&(n=t.length);var r=0,i=e.c;if("string"===typeof t)for(;r<n;)e.f[i++]=t.charCodeAt(r++),i==e.b&&(Ec(e),i=0);else{if(!d(t))throw Error("message must be string or array");for(;r<n;){var o=t[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");e.f[i++]=o,i==e.b&&(Ec(e),i=0)}}e.c=i,e.g+=n}yc.prototype.reset=function(){this.g=this.c=0,this.a=s.Int32Array?new Int32Array(this.h):J(this.h)};var Tc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Cc(){yc.call(this,8,Ic)}E(Cc,yc);var Ic=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Pc(e,t,n,r,i,o){this.v=e,this.i=t,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=t+":"+n,this.C=new mc,this.g=new pc(this.h),this.f=null,this.b=[],this.a=this.c=null}function Oc(e){return new T("invalid-cordova-configuration",e)}function Ac(e){var t=new Cc;kc(t,e),e=[];var n=8*t.g;56>t.c?kc(t,Sc,56-t.c):kc(t,Sc,t.b-(t.c-56));for(var r=63;56<=r;r--)t.f[r]=255&n,n/=256;for(Ec(t),r=n=0;r<t.i;r++)for(var i=24;0<=i;i-=8)e[n++]=t.a[r]>>i&255;return function(e){return K(e,(function(e){return 1<(e=e.toString(16)).length?e:"0"+e})).join("")}(e)}function Dc(e,t){for(var n=0;n<e.b.length;n++)try{e.b[n](t)}catch(r){}}function Nc(e){return e.f||(e.f=e.ma().then((function(){return new St((function(t){e.Ea((function n(r){return t(r),e.Ta(n),!1})),function(e){function t(t){r=!0,i&&i.cancel(),Rc(e).then((function(r){var i=n;if(r&&t&&t.url){var o=null;-1!=(i=lo(t.url)).indexOf("/__/auth/callback")&&(o=(o="object"===typeof(o=zr(Vn(o=zn(i),"firebaseError")||null))?C(o):null)?new Ko(r.c,r.b,null,null,o,null,r.T()):new Ko(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}Dc(e,i)}))}var n=new Ko("unknown",null,null,null,new T("no-auth-event")),r=!1,i=Pn(500).then((function(){return Rc(e).then((function(){r||Dc(e,n)}))})),o=s.handleOpenURL;s.handleOpenURL=function(e){if(0==e.toLowerCase().indexOf(jr("BuildInfo.packageName",s).toLowerCase()+"://")&&t({url:e}),"function"===typeof o)try{o(e)}catch(n){console.error(n)}},Qo||(Qo=new Yo),function(e){var t=Qo;t.a.push(e),t.b||(t.b=function(e){for(var n=0;n<t.a.length;n++)t.a[n](e)},"function"===typeof(e=jr("universalLinks.subscribe",s))&&e(null,t.b))}(t)}(e)}))}))),e.f}function Rc(e){var t=null;return function(e){return e.b.get(gc,e.a).then((function(e){return Go(e)}))}(e.g).then((function(n){return t=n,hc((n=e.g).b,gc,n.a)})).then((function(){return t}))}function jc(e){this.a=e,this.b=cc()}(e=Pc.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(Er(void 0)?Sr().then((function(){return new St((function(e,t){var n=s.document,r=setTimeout((function(){t(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),e()}),!1)}))})):At(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!==typeof jr("universalLinks.subscribe",s))throw Oc("cordova-universal-links-plugin-fix is not installed");if("undefined"===typeof jr("BuildInfo.packageName",s))throw Oc("cordova-plugin-buildinfo is not installed");if("function"!==typeof jr("cordova.plugins.browsertab.openUrl",s))throw Oc("cordova-plugin-browsertab is not installed");if("function"!==typeof jr("cordova.InAppBrowser.open",s))throw Oc("cordova-plugin-inappbrowser is not installed")}),(function(){throw new T("cordova-not-ready")}))},e.Pb=function(e,t){return t(new T("operation-not-supported-in-this-environment")),Ot()},e.Nb=function(){return At(new T("operation-not-supported-in-this-environment"))},e.ac=function(){return!1},e.Yb=function(){return!0},e.Ub=function(){return!0},e.Ob=function(e,t,n,r){if(this.c)return At(new T("redirect-operation-pending"));var i=this,o=s.document,a=null,u=null,c=null,l=null;return this.c=Ot().then((function(){return Ho(t),Nc(i)})).then((function(){return function(e,t,n,r,i){var o=function(){for(var e=20,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}(),a=new Ko(t,r,null,o,new T("no-auth-event"),null,i),u=jr("BuildInfo.packageName",s);if("string"!==typeof u)throw new T("invalid-cordova-configuration");var c=jr("BuildInfo.displayName",s),l={};if(Rr().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=u;else{if(!Rr().toLowerCase().match(/android/))return At(new T("operation-not-supported-in-this-environment"));l.apn=u}c&&(l.appDisplayName=c),o=Ac(o),l.sessionId=o;var f=Tu(e.v,e.i,e.l,t,n,null,r,e.m,l,e.u,i,e.s);return e.ma().then((function(){var t=e.h;return e.C.a.set(gc,a.w(),t)})).then((function(){var t=jr("cordova.plugins.browsertab.isAvailable",s);if("function"!==typeof t)throw new T("invalid-cordova-configuration");var n=null;t((function(t){if(t){if("function"!==typeof(n=jr("cordova.plugins.browsertab.openUrl",s)))throw new T("invalid-cordova-configuration");n(f)}else{if("function"!==typeof(n=jr("cordova.InAppBrowser.open",s)))throw new T("invalid-cordova-configuration");t=Rr(),e.a=n(f,t.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||t.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,e,t,n,r)})).then((function(){return new St((function(e,t){u=function(){var t=jr("cordova.plugins.browsertab.close",s);return e(),"function"===typeof t&&t(),i.a&&"function"===typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(u),c=function(){a||(a=Pn(2e3).then((function(){t(new T("redirect-cancelled-by-user"))})))},l=function(){Yr()&&c()},o.addEventListener("resume",c,!1),Rr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)})).o((function(e){return Rc(i).then((function(){throw e}))}))})).oa((function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),a&&a.cancel(),u&&i.Ta(u),i.c=null}))},e.Ea=function(e){this.b.push(e),Nc(this).o((function(t){"auth/invalid-cordova-configuration"===t.code&&(t=new Ko("unknown",null,null,null,new T("no-auth-event")),e(t))}))},e.Ta=function(e){Q(this.b,(function(t){return t==e}))};var Mc={name:"pendingRedirect",F:"session"};function Lc(e){return hc(e.b,Mc,e.a)}function Fc(e,t,n,r){this.i={},this.u=0,this.D=e,this.v=t,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=_(this.s,this),this.b=new Zc,this.C=new il,this.g=new jc(Xc(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Uc(this.D,this.v,this.m,I,this.J)}function Uc(e,t,n,r,i){var o=Mn.default.SDK_VERSION||null;return Er()?new Pc(e,t,n,o,r,i):new xu(e,t,n,o,r,i)}function Bc(e){e.f||(e.f=!0,e.a.Ea(e.l));var t=e.a;return e.a.ma().o((function(n){throw e.a==t&&e.reset(),n}))}function qc(e){e.a.Yb()&&Bc(e).o((function(t){var n=new Ko("unknown",null,null,null,new T("operation-not-supported-in-this-environment"));Gc(t)&&e.s(n)})),e.a.Ub()||el(e.b)}function Vc(e,t){Y(e.h,t)||e.h.push(t),e.f||function(e){return e.b.get(Mc,e.a).then((function(e){return"pending"==e}))}(e.g).then((function(t){t?Lc(e.g).then((function(){Bc(e).o((function(t){var n=new Ko("unknown",null,null,null,new T("operation-not-supported-in-this-environment"));Gc(t)&&e.s(n)}))})):qc(e)})).o((function(){qc(e)}))}function zc(e,t){Q(e.h,(function(e){return e==t}))}Fc.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=Uc(this.D,this.v,this.m,null,this.J),this.i={}},Fc.prototype.s=function(e){if(!e)throw new T("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),e&&e.getUid()&&this.i.hasOwnProperty(e.getUid()))return!1;for(var t=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Gb(e.c,e.b)){(t=this.c[e.c])&&(t.h(e,r),e&&(e.f||e.b)&&(this.i[e.getUid()]=!0,this.u=Date.now())),t=!0;break}}return el(this.b),t};var Wc=new Gr(2e3,1e4),Hc=new Gr(3e4,6e4);function Kc(e,t,n,r,i,o,a){return e.a.Nb(t,n,r,(function(){e.f||(e.f=!0,e.a.Ea(e.l))}),(function(){e.reset()}),i,o,a)}function Gc(e){return!(!e||"auth/cordova-not-ready"!=e.code)}function Yc(e,t,n,r,i){var o;return function(e){return e.b.set(Mc,"pending",e.a)}(e.g).then((function(){return e.a.Ob(t,n,r,i).o((function(t){if(Gc(t))throw new T("operation-not-supported-in-this-environment");return o=t,Lc(e.g).then((function(){throw o}))})).then((function(){return e.a.ac()?new St((function(){})):Lc(e.g).then((function(){return e.ra()})).then((function(){})).o((function(){}))}))}))}function $c(e,t,n,r,i){return e.a.Pb(r,(function(e){t.na(n,null,e,i)}),Wc.get())}Fc.prototype.ra=function(){return this.b.ra()};var Qc={};function Xc(e,t,n){return e=e+":"+t,n&&(e=e+":"+n.url),e}function Jc(e,t,n,r){var i=Xc(t,n,r);return Qc[i]||(Qc[i]=new Fc(e,t,n,r)),Qc[i]}function Zc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function el(e){e.g||(e.g=!0,rl(e,!1,null,null))}function tl(e){e.g&&!e.i&&rl(e,!1,null,null)}function nl(e,t){if(e.b=function(){return Ot(t)},e.f.length)for(var n=0;n<e.f.length;n++)e.f[n](t)}function rl(e,t,n,r){t?r?function(e,t){if(e.b=function(){return At(t)},e.c.length)for(var n=0;n<e.c.length;n++)e.c[n](t)}(e,r):nl(e,n):nl(e,{user:null}),e.f=[],e.c=[]}function il(){}function ol(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(e){this.jb=e},enumerable:!1})}function al(e,t){this.a=t,ti(this,"verificationId",e)}function sl(e,t,n,r){return new Vo(e).gb(t,n).then((function(e){return new al(e,r)}))}function ul(e){var t=Qi(e);if(!(t&&t.exp&&t.auth_time&&t.iat))throw new T("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");ni(this,{token:e,expirationTime:$r(1e3*t.exp),authTime:$r(1e3*t.auth_time),issuedAtTime:$r(1e3*t.iat),signInProvider:t.firebase&&t.firebase.sign_in_provider?t.firebase.sign_in_provider:null,signInSecondFactor:t.firebase&&t.firebase.sign_in_second_factor?t.firebase.sign_in_second_factor:null,claims:t})}function cl(e,t,n){var r=t&&t[fl];if(!r)throw new T("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=e,this.f=ve(t),this.g=n,this.c=new fo(null,r),this.b=[];var i=this;W(t[ll]||[],(function(e){(e=ai(e))&&i.b.push(e)})),ti(this,"auth",this.a),ti(this,"session",this.c),ti(this,"hints",this.b)}Zc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Zc.prototype.h=function(e,t){if(e){this.reset(),this.g=!0;var n=e.c,r=e.b,i=e.a&&"auth/web-storage-unsupported"==e.a.code,o=e.a&&"auth/operation-not-supported-in-this-environment"==e.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?e.a?(rl(this,!0,null,e.a),Ot()):t.Fa(n,r)?function(e,t,n){n=n.Fa(t.c,t.b);var r=t.g,i=t.f,o=t.i,a=t.T(),s=!!t.c.match(/Redirect$/);n(r,i,a,o).then((function(t){rl(e,s,t,null)})).o((function(t){rl(e,s,null,t)}))}(this,e,t):At(new T("invalid-auth-event")):(rl(this,!1,null,null),Ot())}else At(new T("invalid-auth-event"))},Zc.prototype.ra=function(){var e=this;return new St((function(t,n){e.b?e.b().then(t,n):(e.f.push(t),e.c.push(n),function(e){var t=new T("timeout");e.a&&e.a.cancel(),e.a=Pn(Hc.get()).then((function(){e.b||(e.g=!0,rl(e,!0,null,t))}))}(e))}))},il.prototype.h=function(e,t){if(e){var n=e.c,r=e.b;e.a?(t.na(e.c,null,e.a,e.b),Ot()):t.Fa(n,r)?function(e,t){var n=e.b,r=e.c;t.Fa(r,n)(e.g,e.f,e.T(),e.i).then((function(e){t.na(r,e,null,n)})).o((function(e){t.na(r,null,e,n)}))}(e,t):At(new T("invalid-auth-event"))}else At(new T("invalid-auth-event"))},al.prototype.confirm=function(e){return e=zo(this.verificationId,e),this.a(e)};var ll="mfaInfo",fl="mfaPendingCredential";function hl(e,t,n,r){T.call(this,"multi-factor-auth-required",r,t),this.b=new cl(e,t,n),ti(this,"resolver",this.b)}function dl(e,t,n){if(e&&v(e.serverResponse)&&"auth/multi-factor-auth-required"===e.code)try{return new hl(t,e.serverResponse,n,e.message)}catch(r){}return null}function pl(){}function vl(e){ti(this,"factorId",e.fa),this.a=e}function gl(e){if(vl.call(this,e),this.a.fa!=Vo.PROVIDER_ID)throw new T("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function ml(e,t){for(var n in Zt.call(this,e),t)this[n]=t[n]}function yl(e,t){this.a=e,this.b=[],this.c=_(this.yc,this),hn(this.a,"userReloaded",this.c);var n=[];t&&t.multiFactor&&t.multiFactor.enrolledFactors&&W(t.multiFactor.enrolledFactors,(function(e){var t=null,r={};if(e){e.uid&&(r[ci]=e.uid),e.displayName&&(r[si]=e.displayName),e.enrollmentTime&&(r[ui]=new Date(e.enrollmentTime).toISOString()),e.phoneNumber&&(r[li]=e.phoneNumber);try{t=new fi(r)}catch(ht){}e=t}else e=null;e&&n.push(e)})),bl(this,n)}function bl(e,t){e.b=t,ti(e,"enrolledFactors",t)}function wl(e,t,n){if(this.h=e,this.i=t,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function _l(e,t){e.stop(),e.b=Pn(function(e,t){return t?(e.a=e.c,e.g()):(t=e.a,e.a*=2,e.a>e.f&&(e.a=e.f),t)}(e,t)).then((function(){return function(){var e=s.document,t=null;return Yr()||!e?Ot():new St((function(n){t=function(){Yr()&&(e.removeEventListener("visibilitychange",t,!1),n())},e.addEventListener("visibilitychange",t,!1)})).o((function(n){throw e.removeEventListener("visibilitychange",t,!1),n}))}()})).then((function(){return e.h()})).then((function(){_l(e,!0)})).o((function(t){e.i(t)&&_l(e,!1)}))}function xl(e){this.f=e,this.b=this.a=null,this.c=Date.now()}function Sl(e,t){"undefined"===typeof t&&(e.b?t=(t=e.b).a-t.g:t=0),e.c=Date.now()+1e3*t}function El(e,t){e.b=$i(t[as]||""),e.a=t.refreshToken,Sl(e,"undefined"!==typeof(t=t.expiresIn)?Number(t):void 0)}function kl(e,t){return function(e,t){return new St((function(n,r){"refresh_token"==t.grant_type&&t.refresh_token||"authorization_code"==t.grant_type&&t.code?vs(e,e.l+"?key="+encodeURIComponent(e.c),(function(e){e?e.error?r(du(e)):e.access_token&&e.refresh_token?n(e):r(new T("internal-error")):r(new T("network-request-failed"))}),"POST",nr(t).toString(),e.g,e.m.get()):r(new T("internal-error"))}))}(e.f,t).then((function(t){return e.b=$i(t.access_token),e.a=t.refresh_token,Sl(e,t.expires_in),{accessToken:e.b.toString(),refreshToken:e.a}})).o((function(t){throw"auth/user-token-expired"==t.code&&(e.a=null),t}))}function Tl(e,t){this.a=e||null,this.b=t||null,ni(this,{lastSignInTime:$r(t||null),creationTime:$r(e||null)})}function Cl(e,t,n,r,i,o){ni(this,{uid:e,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:t})}function Il(e,t,n){this.N=[],this.l=e.apiKey,this.m=e.appName,this.s=e.authDomain||null;var r=Mn.default.SDK_VERSION?Nr(Mn.default.SDK_VERSION):null;this.a=new is(this.l,D(I),r),(this.u=e.emulatorConfig||null)&&hs(this.a,this.u),this.h=new xl(this.a),Ll(this,t[as]),El(this.h,t),ti(this,"refreshToken",this.h.a),Bl(this,n||{}),En.call(this),this.P=!1,this.s&&Lr()&&(this.b=Jc(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=function(e){return new wl((function(){return e.I(!0)}),(function(e){return!(!e||"auth/network-request-failed"!=e.code)}),(function(){var t=e.h.c-Date.now()-3e5;return 0<t?t:0}))}(this),this.ba=_(this.ib,this);var i=this;this.za=null,this.Pa=function(e){i.xa(e.h)},this.qa=null,this.Ba=function(e){Pl(i,e.c)},this.$=null,this.aa=[],this.Oa=function(e){Dl(i,e.f)},this.ja=null,this.S=new yl(this,n),ti(this,"multiFactor",this.S)}function Pl(e,t){e.u=t,hs(e.a,t),e.b&&(t=e.b,e.b=Jc(e.s,e.l,e.m,e.u),e.P&&(zc(t,e),Vc(e.b,e)))}function Ol(e,t){e.qa&&vn(e.qa,"languageCodeChanged",e.Pa),(e.qa=t)&&hn(t,"languageCodeChanged",e.Pa)}function Al(e,t){e.$&&vn(e.$,"emulatorConfigChanged",e.Ba),(e.$=t)&&hn(t,"emulatorConfigChanged",e.Ba)}function Dl(e,t){e.aa=t,ps(e.a,Mn.default.SDK_VERSION?Nr(Mn.default.SDK_VERSION,e.aa):null)}function Nl(e,t){e.ja&&vn(e.ja,"frameworkChanged",e.Oa),(e.ja=t)&&hn(t,"frameworkChanged",e.Oa)}function Rl(e){try{return Mn.default.app(e.m).auth()}catch(gt){throw new T("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+e.m+"'!")}}function jl(e){e.J||e.D.b||(e.D.start(),vn(e,"tokenChanged",e.ba),hn(e,"tokenChanged",e.ba))}function Ml(e){vn(e,"tokenChanged",e.ba),e.D.stop()}function Ll(e,t){e.Aa=t,ti(e,"_lat",t)}function Fl(e){for(var t=[],n=0;n<e.W.length;n++)t.push(e.W[n](e));return Nt(t).then((function(){return e}))}function Ul(e){e.b&&!e.P&&(e.P=!0,Vc(e.b,e))}function Bl(e,t){ni(e,{uid:t.uid,displayName:t.displayName||null,photoURL:t.photoURL||null,email:t.email||null,emailVerified:t.emailVerified||!1,phoneNumber:t.phoneNumber||null,isAnonymous:t.isAnonymous||!1,tenantId:t.tenantId||null,metadata:new Tl(t.createdAt,t.lastLoginAt),providerData:[]}),e.a.b=e.tenantId}function ql(){}function Vl(e){return Ot().then((function(){if(e.J)throw new T("app-deleted")}))}function zl(e){return K(e.providerData,(function(e){return e.providerId}))}function Wl(e,t){t&&(Hl(e,t.providerId),e.providerData.push(t))}function Hl(e,t){Q(e.providerData,(function(e){return e.providerId==t}))}function Kl(e,t,n){("uid"!=t||n)&&e.hasOwnProperty(t)&&ti(e,t,n)}function Gl(e,t){e!=t&&(ni(e,{uid:t.uid,displayName:t.displayName,photoURL:t.photoURL,email:t.email,emailVerified:t.emailVerified,phoneNumber:t.phoneNumber,isAnonymous:t.isAnonymous,tenantId:t.tenantId,providerData:[]}),t.metadata?ti(e,"metadata",function(e){return new Tl(e.a,e.b)}(t.metadata)):ti(e,"metadata",new Tl),W(t.providerData,(function(t){Wl(e,t)})),function(e,t){e.b=t.b,e.a=t.a,e.c=t.c}(e.h,t.h),ti(e,"refreshToken",e.h.a),bl(e.S,t.S.b))}function Yl(e){return e.I().then((function(t){var n=e.isAnonymous;return function(e,t){return fu(e.a,Vs,{idToken:t}).then(_(e.Kc,e))}(e,t).then((function(){return n||Kl(e,"isAnonymous",!1),t}))}))}function $l(e,t){t[as]&&e.Aa!=t[as]&&(El(e.h,t),e.dispatchEvent(new ml("tokenChanged")),Ll(e,t[as]),Kl(e,"refreshToken",e.h.a))}function Ql(e,t){return Yl(e).then((function(){if(Y(zl(e),t))return Fl(e).then((function(){throw new T("provider-already-linked")}))}))}function Xl(e,t,n){return ri({user:e,credential:Wo(t),additionalUserInfo:t=to(t),operationType:n})}function Jl(e,t){return $l(e,t),e.reload().then((function(){return e}))}function Zl(e,t,n,r,i){if(!Lr())return At(new T("operation-not-supported-in-this-environment"));if(e.i&&!i)return At(e.i);var o=eo(n.providerId),a=Wr(e.uid+":::"),s=null;(!Br()||kr())&&e.s&&n.isOAuthProvider&&(s=Tu(e.s,e.l,e.m,t,n,null,a,Mn.default.SDK_VERSION||null,null,null,e.tenantId,e.u));var u=wr(s,o&&o.va,o&&o.ua);return r=r().then((function(){if(tf(e),!i)return e.I().then((function(){}))})).then((function(){return Kc(e.b,u,t,n,a,!!s,e.tenantId)})).then((function(){return new St((function(n,r){e.na(t,null,new T("cancelled-popup-request"),e.g||null),e.f=n,e.C=r,e.g=a,e.c=$c(e.b,e,t,u,a)}))})).then((function(e){return u&&br(u),e?ri(e):null})).o((function(e){throw u&&br(u),e})),nf(e,r,i)}function ef(e,t,n,r,i){if(!Lr())return At(new T("operation-not-supported-in-this-environment"));if(e.i&&!i)return At(e.i);var o=null,a=Wr(e.uid+":::");return r=r().then((function(){if(tf(e),!i)return e.I().then((function(){}))})).then((function(){return e.ga=a,Fl(e)})).then((function(t){return e.ha&&(t=(t=e.ha).b.set(af,e.w(),t.a)),t})).then((function(){return Yc(e.b,t,n,a,e.tenantId)})).o((function(t){if(o=t,e.ha)return sf(e.ha);throw o})).then((function(){if(o)throw o})),nf(e,r,i)}function tf(e){if(!e.b||!e.P){if(e.b&&!e.P)throw new T("internal-error");throw new T("auth-domain-config-required")}}function nf(e,t,n){var r=function(e,t,n){return e.i&&!n?(t.cancel(),At(e.i)):t.o((function(t){throw!t||"auth/user-disabled"!=t.code&&"auth/user-token-expired"!=t.code||(e.i||e.dispatchEvent(new ml("userInvalidated")),e.i=t),t}))}(e,t,n);return e.N.push(r),r.oa((function(){$(e.N,r)})),r.o((function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=dl(t.w(),Rl(e),_(e.jc,e))),n||t}))}function rf(e){if(!e.apiKey)return null;var t={apiKey:e.apiKey,authDomain:e.authDomain,appName:e.appName,emulatorConfig:e.emulatorConfig},n={};if(!e.stsTokenManager||!e.stsTokenManager.accessToken)return null;n[as]=e.stsTokenManager.accessToken,n.refreshToken=e.stsTokenManager.refreshToken||null;var r=e.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new Il(t,n,e);return e.providerData&&W(e.providerData,(function(e){e&&Wl(i,ri(e))})),e.redirectEventId&&(i.ga=e.redirectEventId),i}function of(e){this.a=e,this.b=cc()}cl.prototype.Rc=function(e){var t=this;return e.tb(this.a.a,this.c).then((function(e){var n=ve(t.f);return delete n[ll],delete n[fl],me(n,e),t.g(n)}))},E(hl,T),pl.prototype.tb=function(e,t,n){return t.type==ho?function(e,t,n,r){return n.Ha().then((function(n){return n={idToken:n},"undefined"!==typeof r&&(n.displayName=r),me(n,{phoneVerificationInfo:qo(e.a)}),fu(t,Bs,n)}))}(this,e,t,n):function(e,t,n){return n.Ha().then((function(n){return me(n={mfaPendingCredential:n},{phoneVerificationInfo:qo(e.a)}),fu(t,qs,n)}))}(this,e,t)},E(vl,pl),E(gl,vl),E(ml,Zt),(e=yl.prototype).yc=function(e){bl(this,function(e){var t=[];return W(e.mfaInfo||[],(function(e){(e=ai(e))&&t.push(e)})),t}(e.hd))},e.Sb=function(){return this.a.I().then((function(e){return new fo(e,null)}))},e.fc=function(e,t){var n=this,r=this.a.a;return this.Sb().then((function(n){return e.tb(r,n,t)})).then((function(e){return $l(n.a,e),n.a.reload()}))},e.bd=function(e){var t=this,n="string"===typeof e?e:e.uid,r=this.a.a;return this.a.I().then((function(e){return fu(r,lu,{idToken:e,mfaEnrollmentId:n})})).then((function(e){var r=H(t.b,(function(e){return e.uid!=n}));return bl(t,r),$l(t.a,e),t.a.reload().o((function(e){if("auth/user-token-expired"!=e.code)throw e}))}))},e.w=function(){return{multiFactor:{enrolledFactors:K(this.b,(function(e){return e.w()}))}}},wl.prototype.start=function(){this.a=this.c,_l(this,!0)},wl.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},xl.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},xl.prototype.getToken=function(e){return e=!!e,this.b&&!this.a?At(new T("user-token-expired")):e||!this.b||Date.now()>this.c-3e4?this.a?kl(this,{grant_type:"refresh_token",refresh_token:this.a}):Ot(null):Ot({accessToken:this.b.toString(),refreshToken:this.a})},Tl.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},E(Il,En),Il.prototype.xa=function(e){this.za=e,fs(this.a,e)},Il.prototype.la=function(){return this.za},Il.prototype.Ga=function(){return J(this.aa)},Il.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())},ti(Il.prototype,"providerId","firebase"),(e=Il.prototype).reload=function(){var e=this;return nf(this,Vl(this).then((function(){return Yl(e).then((function(){return Fl(e)})).then(ql)})))},e.oc=function(e){return this.I(e).then((function(e){return new ul(e)}))},e.I=function(e){var t=this;return nf(this,Vl(this).then((function(){return t.h.getToken(e)})).then((function(e){if(!e)throw new T("internal-error");return e.accessToken!=t.Aa&&(Ll(t,e.accessToken),t.dispatchEvent(new ml("tokenChanged"))),Kl(t,"refreshToken",e.refreshToken),e.accessToken})))},e.Kc=function(e){if(!(e=e.users)||!e.length)throw new T("internal-error");Bl(this,{uid:(e=e[0]).localId,displayName:e.displayName,photoURL:e.photoUrl,email:e.email,emailVerified:!!e.emailVerified,phoneNumber:e.phoneNumber,lastLoginAt:e.lastLoginAt,createdAt:e.createdAt,tenantId:e.tenantId});for(var t=function(e){return(e=e.providerUserInfo)&&e.length?K(e,(function(e){return new Cl(e.rawId,e.providerId,e.email,e.displayName,e.photoUrl,e.phoneNumber)})):[]}(e),n=0;n<t.length;n++)Wl(this,t[n]);Kl(this,"isAnonymous",!(this.email&&e.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new ml("userReloaded",{hd:e}))},e.Lc=function(e){return Zr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(e)},e.ub=function(e){var t=this,n=null;return nf(this,e.c(this.a,this.uid).then((function(e){return $l(t,e),n=Xl(t,e,"reauthenticate"),t.i=null,t.reload()})).then((function(){return n})),!0)},e.Cc=function(e){return Zr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(e)},e.rb=function(e){var t=this,n=null;return nf(this,Ql(this,e.providerId).then((function(){return t.I()})).then((function(n){return e.b(t.a,n)})).then((function(e){return n=Xl(t,e,"link"),Jl(t,e)})).then((function(){return n})))},e.Dc=function(e,t){var n=this;return nf(this,Ql(this,"phone").then((function(){return sl(Rl(n),e,t,_(n.rb,n))})))},e.Mc=function(e,t){var n=this;return nf(this,Ot().then((function(){return sl(Rl(n),e,t,_(n.ub,n))})),!0)},e.Cb=function(e){var t=this;return nf(this,this.I().then((function(n){return t.a.Cb(n,e)})).then((function(e){return $l(t,e),t.reload()})))},e.ed=function(e){var t=this;return nf(this,this.I().then((function(n){return e.b(t.a,n)})).then((function(e){return $l(t,e),t.reload()})))},e.Db=function(e){var t=this;return nf(this,this.I().then((function(n){return t.a.Db(n,e)})).then((function(e){return $l(t,e),t.reload()})))},e.Eb=function(e){if(void 0===e.displayName&&void 0===e.photoURL)return Vl(this);var t=this;return nf(this,this.I().then((function(n){return t.a.Eb(n,{displayName:e.displayName,photoUrl:e.photoURL})})).then((function(e){return $l(t,e),Kl(t,"displayName",e.displayName||null),Kl(t,"photoURL",e.photoUrl||null),W(t.providerData,(function(e){"password"===e.providerId&&(ti(e,"displayName",t.displayName),ti(e,"photoURL",t.photoURL))})),Fl(t)})).then(ql))},e.cd=function(e){var t=this;return nf(this,Yl(this).then((function(n){return Y(zl(t),e)?function(e,t,n){return fu(e,Ls,{idToken:t,deleteProvider:n})}(t.a,n,[e]).then((function(e){var n={};return W(e.providerUserInfo||[],(function(e){n[e.providerId]=!0})),W(zl(t),(function(e){n[e]||Hl(t,e)})),n[Vo.PROVIDER_ID]||ti(t,"phoneNumber",null),Fl(t)})):Fl(t).then((function(){throw new T("no-such-provider")}))})))},e.delete=function(){var e=this;return nf(this,this.I().then((function(t){return fu(e.a,Ms,{idToken:t})})).then((function(){e.dispatchEvent(new ml("userDeleted"))}))).then((function(){for(var t=0;t<e.N.length;t++)e.N[t].cancel("app-deleted");Ol(e,null),Al(e,null),Nl(e,null),e.N=[],e.J=!0,Ml(e),ti(e,"refreshToken",null),e.b&&zc(e.b,e)}))},e.Gb=function(e,t){return!!("linkViaPopup"==e&&(this.g||null)==t&&this.f||"reauthViaPopup"==e&&(this.g||null)==t&&this.f||"linkViaRedirect"==e&&(this.ga||null)==t||"reauthViaRedirect"==e&&(this.ga||null)==t)},e.na=function(e,t,n,r){"linkViaPopup"!=e&&"reauthViaPopup"!=e||r!=(this.g||null)||(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(e,t){return"linkViaPopup"==e&&t==(this.g||null)?_(this.Lb,this):"reauthViaPopup"==e&&t==(this.g||null)?_(this.Mb,this):"linkViaRedirect"==e&&(this.ga||null)==t?_(this.Lb,this):"reauthViaRedirect"==e&&(this.ga||null)==t?_(this.Mb,this):null},e.Ec=function(e){var t=this;return Zl(this,"linkViaPopup",e,(function(){return Ql(t,e.providerId).then((function(){return Fl(t)}))}),!1)},e.Nc=function(e){return Zl(this,"reauthViaPopup",e,(function(){return Ot()}),!0)},e.Fc=function(e){var t=this;return ef(this,"linkViaRedirect",e,(function(){return Ql(t,e.providerId)}),!1)},e.Oc=function(e){return ef(this,"reauthViaRedirect",e,(function(){return Ot()}),!0)},e.Lb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return n=this.I().then((function(n){return Ps(i.a,{requestUri:e,postBody:r,sessionId:t,idToken:n})})).then((function(e){return o=Xl(i,e,"link"),Jl(i,e)})).then((function(){return o})),nf(this,n)},e.Mb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return nf(this,Ot().then((function(){return go(Os(i.a,{requestUri:e,sessionId:t,postBody:r,tenantId:n}),i.uid)})).then((function(e){return o=Xl(i,e,"reauthenticate"),$l(i,e),i.i=null,i.reload()})).then((function(){return o})),!0)},e.vb=function(e){var t=this,n=null;return nf(this,this.I().then((function(t){return n=t,"undefined"===typeof e||pe(e)?{}:Hi(new ji(e))})).then((function(e){return t.a.vb(n,e)})).then((function(e){if(t.email!=e)return t.reload()})).then((function(){})))},e.Fb=function(e,t){var n=this,r=null;return nf(this,this.I().then((function(e){return r=e,"undefined"===typeof t||pe(t)?{}:Hi(new ji(t))})).then((function(t){return n.a.Fb(r,e,t)})).then((function(e){if(n.email!=e)return n.reload()})).then((function(){})))},e.jc=function(e){var t=null,n=this;return nf(this,e=go(Ot(e),n.uid).then((function(e){return t=Xl(n,e,"reauthenticate"),$l(n,e),n.i=null,n.reload()})).then((function(){return t})),!0)},e.toJSON=function(){return this.w()},e.w=function(){var e={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&me(e,this.metadata.w()),W(this.providerData,(function(t){e.providerData.push(function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}(t))})),me(e,this.S.w()),e};var af={name:"redirectUser",F:"session"};function sf(e){return hc(e.b,af,e.a)}function uf(e){this.a=e,this.b=cc(),this.c=null,this.f=function(e){var t=ff("local"),n=ff("session"),r=ff("none");return function(e,t,n){var r=fc(t,n),i=lc(e,t.F);return e.get(t,n).then((function(o){var a=null;try{a=zr(s.localStorage.getItem(r))}catch(u){}if(a&&!o)return s.localStorage.removeItem(r),e.set(t,a,n);a&&o&&"localStorage"!=i.type&&s.localStorage.removeItem(r)}))}(e.b,t,e.a).then((function(){return e.b.get(n,e.a)})).then((function(i){return i?n:e.b.get(r,e.a).then((function(n){return n?r:e.b.get(t,e.a).then((function(n){return n?t:e.b.get(lf,e.a).then((function(e){return e?ff(e):t}))}))}))})).then((function(t){return e.c=t,cf(e,t.F)})).o((function(){e.c||(e.c=t)}))}(this),this.b.addListener(ff("local"),this.a,_(this.g,this))}function cf(e,t){var n,r=[];for(n in sc)sc[n]!==t&&r.push(hc(e.b,ff(sc[n]),e.a));return r.push(hc(e.b,lf,e.a)),function(e){return new St((function(t,n){var r=e.length,i=[];if(r)for(var o=function(e,n){r--,i[e]=n,0==r&&t(i)},a=function(e){n(e)},s=0;s<e.length;s++)Dt(e[s],x(o,s),a);else t(i)}))}(r)}uf.prototype.g=function(){var e=this,t=ff("local");vf(this,(function(){return Ot().then((function(){return e.c&&"local"!=e.c.F?e.b.get(t,e.a):null})).then((function(n){if(n)return cf(e,"local").then((function(){e.c=t}))}))}))};var lf={name:"persistence",F:"session"};function ff(e){return{name:"authUser",F:e}}function hf(e,t){return vf(e,(function(){return e.b.set(e.c,t.w(),e.a)}))}function df(e){return vf(e,(function(){return hc(e.b,e.c,e.a)}))}function pf(e,t,n){return vf(e,(function(){return e.b.get(e.c,e.a).then((function(e){return e&&t&&(e.authDomain=t),e&&n&&(e.emulatorConfig=n),rf(e||{})}))}))}function vf(e,t){return e.f=e.f.then(t,t),e.f}function gf(e){if(this.l=!1,ti(this,"settings",new ol),ti(this,"app",e),!kf(this).options||!kf(this).options.apiKey)throw new T("invalid-api-key");e=Mn.default.SDK_VERSION?Nr(Mn.default.SDK_VERSION):null,this.a=new is(kf(this).options&&kf(this).options.apiKey,D(I),e),this.P=[],this.s=[],this.N=[],this.Pa=Mn.default.INTERNAL.createSubscribe(_(this.zc,this)),this.W=void 0,this.ib=Mn.default.INTERNAL.createSubscribe(_(this.Ac,this)),Sf(this,null),this.i=new uf(kf(this).options.apiKey+":"+kf(this).name),this.D=new of(kf(this).options.apiKey+":"+kf(this).name),this.$=Pf(this,function(e){var t=kf(e).options.authDomain,n=function(e){var t=function(e,t){return e.b.get(af,e.a).then((function(e){return e&&t&&(e.authDomain=t),rf(e||{})}))}(e.D,kf(e).options.authDomain).then((function(t){return(e.m=t)&&(t.ha=e.D),sf(e.D)}));return Pf(e,t)}(e).then((function(){return pf(e.i,t,e.R)})).then((function(t){return t?(t.ha=e.D,e.m&&(e.m.ga||null)==(t.ga||null)?t:t.reload().then((function(){return hf(e.i,t).then((function(){return t}))})).o((function(n){return"auth/network-request-failed"==n.code?t:df(e.i)}))):null})).then((function(t){Sf(e,t||null)}));return Pf(e,n)}(this)),this.h=Pf(this,function(e){return e.$.then((function(){return _f(e)})).o((function(){})).then((function(){if(!e.l)return e.ja()})).o((function(){})).then((function(){if(!e.l){e.ba=!0;var t=e.i;t.b.addListener(ff("local"),t.a,e.ja)}}))}(this)),this.ba=!1,this.ja=_(this.Zc,this),this.Ba=_(this.da,this),this.qa=_(this.mc,this),this.za=_(this.wc,this),this.Aa=_(this.xc,this),this.b=null,function(e){var t=kf(e).options.authDomain,n=kf(e).options.apiKey;t&&Lr()&&(e.Oa=e.$.then((function(){if(!e.l){if(e.b=Jc(t,n,kf(e).name,e.R),Vc(e.b,e),Tf(e)&&Ul(Tf(e)),e.m){Ul(e.m);var r=e.m;r.xa(e.la()),Ol(r,e),Dl(r=e.m,e.J),Nl(r,e),Pl(r=e.m,e.R),Al(r,e),e.m=null}return e.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=_(this.delete,this),this.INTERNAL.logFramework=_(this.Gc,this),this.u=0,En.call(this),function(e){Object.defineProperty(e,"lc",{get:function(){return this.la()},set:function(e){this.xa(e)},enumerable:!1}),e.aa=null,Object.defineProperty(e,"ti",{get:function(){return this.T()},set:function(e){this.zb(e)},enumerable:!1}),e.S=null,Object.defineProperty(e,"emulatorConfig",{get:function(){if(this.R){var e=zn(this.R.url);e=ri({protocol:e.c,host:e.a,port:e.g,options:ri({disableWarnings:this.R.ec})})}else e=null;return e},enumerable:!1})}(this),this.J=[],this.R=null}function mf(e){Zt.call(this,"languageCodeChanged"),this.h=e}function yf(e){Zt.call(this,"emulatorConfigChanged"),this.c=e}function bf(e){Zt.call(this,"frameworkChanged"),this.f=e}function wf(e){return e.Oa||At(new T("auth-domain-config-required"))}function _f(e){if(!Lr())return At(new T("operation-not-supported-in-this-environment"));var t=wf(e).then((function(){return e.b.ra()})).then((function(e){return e?ri(e):null}));return Pf(e,t)}function xf(e,t){var n={};return n.apiKey=kf(e).options.apiKey,n.authDomain=kf(e).options.authDomain,n.appName=kf(e).name,e.R&&(n.emulatorConfig=e.R),e.$.then((function(){return function(e,t,n,r){var i=new Il(e,t);return n&&(i.ha=n),r&&Dl(i,r),i.reload().then((function(){return i}))}(n,t,e.D,e.Ga())})).then((function(t){return Tf(e)&&t.uid==Tf(e).uid?(Gl(Tf(e),t),e.da(t)):(Sf(e,t),Ul(t),e.da(t))})).then((function(){If(e)}))}function Sf(e,t){Tf(e)&&(function(e,t){Q(e.W,(function(e){return e==t}))}(Tf(e),e.Ba),vn(Tf(e),"tokenChanged",e.qa),vn(Tf(e),"userDeleted",e.za),vn(Tf(e),"userInvalidated",e.Aa),Ml(Tf(e))),t&&(t.W.push(e.Ba),hn(t,"tokenChanged",e.qa),hn(t,"userDeleted",e.za),hn(t,"userInvalidated",e.Aa),0<e.u&&jl(t)),ti(e,"currentUser",t),t&&(t.xa(e.la()),Ol(t,e),Dl(t,e.J),Nl(t,e),Pl(t,e.R),Al(t,e))}function Ef(e,t){var n=null,r=null;return Pf(e,t.then((function(t){return n=Wo(t),r=to(t),xf(e,t)}),(function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=dl(t.w(),e,_(e.kc,e))),n||t})).then((function(){return ri({user:Tf(e),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function kf(e){return e.app}function Tf(e){return e.currentUser}function Cf(e){return Tf(e)&&Tf(e)._lat||null}function If(e){if(e.ba){for(var t=0;t<e.s.length;t++)e.s[t]&&e.s[t](Cf(e));if(e.W!==e.getUid()&&e.N.length)for(e.W=e.getUid(),t=0;t<e.N.length;t++)e.N[t]&&e.N[t](Cf(e))}}function Pf(e,t){return e.P.push(t),t.oa((function(){$(e.P,t)})),t}function Of(){}function Af(){this.a={},this.b=1e12}uf.prototype.yb=function(e){var t=null,n=this;return function(e){var t=new T("invalid-persistence-type"),n=new T("unsupported-persistence-type");e:{for(r in sc)if(sc[r]==e){var r=!0;break e}r=!1}if(!r||"string"!==typeof e)throw t;switch(Cr()){case"ReactNative":if("session"===e)throw n;break;case"Node":if("none"!==e)throw n;break;case"Worker":if("session"===e||!Bu()&&"none"!==e)throw n;break;default:if(!Mr()&&"none"!==e)throw n}}(e),vf(this,(function(){return e!=n.c.F?n.b.get(n.c,n.a).then((function(r){return t=r,cf(n,e)})).then((function(){if(n.c=ff(e),t)return n.b.set(n.c,t,n.a)})):Ot()}))},E(gf,En),E(mf,Zt),E(yf,Zt),E(bf,Zt),(e=gf.prototype).yb=function(e){return Pf(this,e=this.i.yb(e))},e.xa=function(e){this.aa===e||this.l||(this.aa=e,fs(this.a,this.aa),this.dispatchEvent(new mf(this.la())))},e.la=function(){return this.aa},e.fd=function(){var e=s.navigator;this.xa(e&&(e.languages&&e.languages[0]||e.language||e.userLanguage)||null)},e.gd=function(e,t){if(!this.R){if(!/^https?:\/\//.test(e))throw new T("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(e){"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),s.document&&!e&&Sr().then((function(){var e=s.document.createElement("div");e.innerText="Running in emulator mode. Do not use with production credentials.",e.style.position="fixed",e.style.width="100%",e.style.backgroundColor="#ffffff",e.style.border=".1em solid #000000",e.style.color="#b50000",e.style.bottom="0px",e.style.left="0px",e.style.margin="0px",e.style.zIndex=1e4,e.style.textAlign="center",e.classList.add("firebase-emulator-warning"),s.document.body.appendChild(e)}))})(t=!!t&&!!t.disableWarnings),this.R={url:e,ec:t},this.settings.jb=!0,hs(this.a,this.R),this.dispatchEvent(new yf(this.R))}},e.Gc=function(e){this.J.push(e),ps(this.a,Mn.default.SDK_VERSION?Nr(Mn.default.SDK_VERSION,this.J):null),this.dispatchEvent(new bf(this.J))},e.Ga=function(){return J(this.J)},e.zb=function(e){this.S===e||this.l||(this.S=e,this.a.b=this.S)},e.T=function(){return this.S},e.toJSON=function(){return{apiKey:kf(this).options.apiKey,authDomain:kf(this).options.authDomain,appName:kf(this).name,currentUser:Tf(this)&&Tf(this).w()}},e.Gb=function(e,t){switch(e){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==t&&!!this.f;default:return!1}},e.na=function(e,t,n,r){"signInViaPopup"==e&&this.g==r&&(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(e,t){return"signInViaRedirect"==e||"signInViaPopup"==e&&this.g==t&&this.f?_(this.ic,this):null},e.ic=function(e,t,n,r){var i=this,o={requestUri:e,postBody:r,sessionId:t,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return Ef(i,Is(i.a,o))}))},e.Xc=function(e){if(!Lr())return At(new T("operation-not-supported-in-this-environment"));var t=this,n=eo(e.providerId),r=Wr(),i=null;(!Br()||kr())&&kf(this).options.authDomain&&e.isOAuthProvider&&(i=Tu(kf(this).options.authDomain,kf(this).options.apiKey,kf(this).name,"signInViaPopup",e,null,r,Mn.default.SDK_VERSION||null,null,null,this.T(),this.R));var o=wr(i,n&&n.va,n&&n.ua);return n=wf(this).then((function(n){return Kc(n,o,"signInViaPopup",e,r,!!i,t.T())})).then((function(){return new St((function(e,n){t.na("signInViaPopup",null,new T("cancelled-popup-request"),t.g),t.f=e,t.C=n,t.g=r,t.c=$c(t.b,t,"signInViaPopup",o,r)}))})).then((function(e){return o&&br(o),e?ri(e):null})).o((function(e){throw o&&br(o),e})),Pf(this,n)},e.Yc=function(e){if(!Lr())return At(new T("operation-not-supported-in-this-environment"));var t=this,n=wf(this).then((function(){return function(e){return vf(e,(function(){return e.b.set(lf,e.c.F,e.a)}))}(t.i)})).then((function(){return Yc(t.b,"signInViaRedirect",e,void 0,t.T())}));return Pf(this,n)},e.ra=function(){var e=this;return _f(this).then((function(t){return e.b&&tl(e.b.b),t})).o((function(t){throw e.b&&tl(e.b.b),t}))},e.dd=function(e){if(!e)return At(new T("null-user"));if(this.S!=e.tenantId)return At(new T("tenant-id-mismatch"));var t=this,n={};n.apiKey=kf(this).options.apiKey,n.authDomain=kf(this).options.authDomain,n.appName=kf(this).name;var r=function(e,t,n,r){var i=e.h,o={};return o[as]=i.b&&i.b.toString(),o.refreshToken=i.a,t=new Il(t||{apiKey:e.l,authDomain:e.s,appName:e.m},o),n&&(t.ha=n),r&&Dl(t,r),Gl(t,e),t}(e,n,t.D,t.Ga());return Pf(this,this.h.then((function(){if(kf(t).options.apiKey!=e.l)return r.reload()})).then((function(){return Tf(t)&&e.uid==Tf(t).uid?(Gl(Tf(t),e),t.da(e)):(Sf(t,r),Ul(r),t.da(r))})).then((function(){If(t)})))},e.Bb=function(){var e=this;return Pf(this,this.h.then((function(){return e.b&&tl(e.b.b),Tf(e)?(Sf(e,null),df(e.i).then((function(){If(e)}))):Ot()})))},e.Zc=function(){var e=this;return pf(this.i,kf(this).options.authDomain).then((function(t){if(!e.l){var n;if(n=Tf(e)&&t){n=Tf(e).uid;var r=t.uid;n=void 0!==n&&null!==n&&""!==n&&void 0!==r&&null!==r&&""!==r&&n==r}if(n)return Gl(Tf(e),t),Tf(e).I();(Tf(e)||t)&&(Sf(e,t),t&&(Ul(t),t.ha=e.D),e.b&&Vc(e.b,e),If(e))}}))},e.da=function(e){return hf(this.i,e)},e.mc=function(){If(this),this.da(Tf(this))},e.wc=function(){this.Bb()},e.xc=function(){this.Bb()},e.kc=function(e){var t=this;return this.h.then((function(){return Ef(t,Ot(e))}))},e.zc=function(e){var t=this;this.addAuthTokenListener((function(){e.next(Tf(t))}))},e.Ac=function(e){var t=this;!function(e,t){e.N.push(t),Pf(e,e.h.then((function(){!e.l&&Y(e.N,t)&&e.W!==e.getUid()&&(e.W=e.getUid(),t(Cf(e)))})))}(this,(function(){e.next(Tf(t))}))},e.Ic=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"===typeof e?e(Tf(r)):"function"===typeof e.next&&e.next(Tf(r))})),this.Pa(e,t,n)},e.Hc=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.W=r.getUid(),"function"===typeof e?e(Tf(r)):"function"===typeof e.next&&e.next(Tf(r))})),this.ib(e,t,n)},e.nc=function(e){var t=this;return Pf(this,this.h.then((function(){return Tf(t)?Tf(t).I(e).then((function(e){return{accessToken:e}})):null})))},e.Tc=function(e){var t=this;return this.h.then((function(){return Ef(t,fu(t.a,ou,{token:e}))})).then((function(e){var n=e.user;return Kl(n,"isAnonymous",!1),t.da(n),e}))},e.Uc=function(e,t){var n=this;return this.h.then((function(){return Ef(n,fu(n.a,au,{email:e,password:t}))}))},e.dc=function(e,t){var n=this;return this.h.then((function(){return Ef(n,fu(n.a,Rs,{email:e,password:t}))}))},e.ab=function(e){var t=this;return this.h.then((function(){return Ef(t,e.ka(t.a))}))},e.Sc=function(e){return Zr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(e)},e.Ab=function(){var e=this;return this.h.then((function(){var t=Tf(e);if(t&&t.isAnonymous){var n=ri({providerId:null,isNewUser:!1});return ri({user:t,credential:null,additionalUserInfo:n,operationType:"signIn"})}return Ef(e,e.a.Ab()).then((function(t){var n=t.user;return Kl(n,"isAnonymous",!0),e.da(n),t}))}))},e.getUid=function(){return Tf(this)&&Tf(this).uid||null},e.cc=function(e){this.addAuthTokenListener(e),this.u++,0<this.u&&Tf(this)&&jl(Tf(this))},e.Pc=function(e){var t=this;W(this.s,(function(n){n==e&&t.u--})),0>this.u&&(this.u=0),0==this.u&&Tf(this)&&Ml(Tf(this)),this.removeAuthTokenListener(e)},e.addAuthTokenListener=function(e){var t=this;this.s.push(e),Pf(this,this.h.then((function(){t.l||Y(t.s,e)&&e(Cf(t))})))},e.removeAuthTokenListener=function(e){Q(this.s,(function(t){return t==e}))},e.delete=function(){this.l=!0;for(var e=0;e<this.P.length;e++)this.P[e].cancel("app-deleted");return this.P=[],this.i&&(e=this.i).b.removeListener(ff("local"),e.a,this.ja),this.b&&(zc(this.b,this),tl(this.b.b)),Promise.resolve()},e.hc=function(e){return Pf(this,function(e,t){return fu(e,js,{identifier:t,continueUri:Fr()?vr():"http://localhost"}).then((function(e){return e.signinMethods||[]}))}(this.a,e))},e.Bc=function(e){return!!Fo(e)},e.xb=function(e,t){var n=this;return Pf(this,Ot().then((function(){var e=new ji(t);if(!e.c)throw new T("argument-error",Fi+" must be true when sending sign in link to email");return Hi(e)})).then((function(t){return n.a.xb(e,t)})).then((function(){})))},e.jd=function(e){return this.Sa(e).then((function(e){return e.data.email}))},e.ob=function(e,t){return Pf(this,this.a.ob(e,t).then((function(){})))},e.Sa=function(e){return Pf(this,this.a.Sa(e).then((function(e){return new hi(e)})))},e.kb=function(e){return Pf(this,this.a.kb(e).then((function(){})))},e.wb=function(e,t){var n=this;return Pf(this,Ot().then((function(){return"undefined"===typeof t||pe(t)?{}:Hi(new ji(t))})).then((function(t){return n.a.wb(e,t)})).then((function(){})))},e.Wc=function(e,t){return Pf(this,sl(this,e,t,_(this.ab,this)))},e.Vc=function(e,t){var n=this;return Pf(this,Ot().then((function(){var r=t||vr(),i=Lo(e,r);if(!(r=Fo(r)))throw new T("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new T("tenant-id-mismatch");return n.ab(i)})))},Of.prototype.render=function(){},Of.prototype.reset=function(){},Of.prototype.getResponse=function(){},Of.prototype.execute=function(){};var Df=null;function Nf(e,t){return(t=Rf(t))&&e.a[t]||null}function Rf(e){return(e="undefined"===typeof e?1e12:e)?e.toString():null}function jf(e,t){this.g=!1,this.c=t,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=ct(e);var n=this;this.i=function(){n.execute()},this.h?this.execute():hn(this.f,"click",this.i)}function Mf(e){if(e.g)throw Error("reCAPTCHA mock was already deleted!")}function Lf(){}function Ff(){}Af.prototype.render=function(e,t){return this.a[this.b.toString()]=new jf(e,t),this.b++},Af.prototype.reset=function(e){var t=Nf(this,e);e=Rf(e),t&&e&&(t.delete(),delete this.a[e])},Af.prototype.getResponse=function(e){return(e=Nf(this,e))?e.getResponse():null},Af.prototype.execute=function(e){(e=Nf(this,e))&&e.execute()},jf.prototype.getResponse=function(){return Mf(this),this.b},jf.prototype.execute=function(){Mf(this);var e=this;this.a||(this.a=setTimeout((function(){e.b=function(){for(var e=50,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}();var t=e.c.callback,n=e.c["expired-callback"];if(t)try{t(e.b)}catch(r){}e.a=setTimeout((function(){if(e.a=null,e.b=null,n)try{n()}catch(r){}e.h&&e.execute()}),6e4)}),500))},jf.prototype.delete=function(){Mf(this),this.g=!0,clearTimeout(this.a),this.a=null,vn(this.f,"click",this.i)},ti(Lf,"FACTOR_ID","phone"),Ff.prototype.g=function(){return Df||(Df=new Af),Ot(Df)},Ff.prototype.c=function(){};var Uf=null;function Bf(){this.b=s.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var qf=new be(Se,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Vf=new Gr(3e4,6e4);Bf.prototype.g=function(e){var t=this;return new St((function(n,r){var i=setTimeout((function(){r(new T("network-request-failed"))}),Vf.get());!s.grecaptcha||e!==t.f&&!t.b?(s[t.a]=function(){if(s.grecaptcha){t.f=e;var o=s.grecaptcha.render;s.grecaptcha.render=function(e,n){return e=o(e,n),t.b++,e},clearTimeout(i),n(s.grecaptcha)}else clearTimeout(i),r(new T("internal-error"));delete s[t.a]},Ot(Xa(Ce(qf,{onload:t.a,hl:e||""}))).o((function(){clearTimeout(i),r(new T("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(s.grecaptcha))}))},Bf.prototype.c=function(){this.b--};var zf=null;function Wf(e,t,n,r,i,o,a){if(ti(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=t,this.g=null,a?(Uf||(Uf=new Ff),a=Uf):(zf||(zf=new Bf),a=zf),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Gf])throw new T("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Yf],!s.document)throw new T("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ct(t)||!this.i&&ct(t).hasChildNodes())throw new T("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new is(e,o||null,i||null),this.u=r||function(){return null};var u=this;this.l=[];var c=this.a[Hf];this.a[Hf]=function(e){if($f(u,e),"function"===typeof c)c(e);else if("string"===typeof c){var t=jr(c,s);"function"===typeof t&&t(e)}};var l=this.a[Kf];this.a[Kf]=function(){if($f(u,null),"function"===typeof l)l();else if("string"===typeof l){var e=jr(l,s);"function"===typeof e&&e()}}}var Hf="callback",Kf="expired-callback",Gf="sitekey",Yf="size";function $f(e,t){for(var n=0;n<e.l.length;n++)try{e.l[n](t)}catch(r){}}function Qf(e,t){return e.h.push(t),t.oa((function(){$(e.h,t)})),t}function Xf(e){if(e.J)throw new T("internal-error","RecaptchaVerifier instance has been destroyed.")}function Jf(e,t,n){var r=!1;try{this.b=n||Mn.default.app()}catch(ht){throw new T("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new T("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().Ga()}catch(ht){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(ht){}o=Mn.default.SDK_VERSION?Nr(Mn.default.SDK_VERSION,o):null,Wf.call(this,n,e,t,(function(){try{var e=i.b.auth().la()}catch(t){e=null}return e}),o,D(I),r)}function Zf(e,t,n,r){e:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<t.length;a++)if(t[a].optional)o=!0;else{if(o)throw new T("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=t.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=t[i].optional&&void 0===n[i],!t[i].M(n[i])&&!o){if(t=t[i],0>i||i>=eh.length)throw new T("internal-error","Argument validator received an unsupported number of arguments.");n=eh[i],r=(r?"":n+" argument ")+(t.name?'"'+t.name+'" ':"")+"must be "+t.K+".";break e}r=null}}if(r)throw new T("argument-error",e+" failed: "+r)}(e=Wf.prototype).Ia=function(){var e=this;return this.f?this.f:this.f=Qf(this,Ot().then((function(){if(Fr()&&!Tr())return Sr();throw new T("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return e.m.g(e.u())})).then((function(t){return e.g=t,fu(e.s,Ys,{})})).then((function(t){e.a[Gf]=t.recaptchaSiteKey})).o((function(t){throw e.f=null,t})))},e.render=function(){Xf(this);var e=this;return Qf(this,this.Ia().then((function(){if(null===e.c){var t=e.v;if(!e.i){var n=ct(t);t=function(e,t,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!ut&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',We(a.name),'"'),a.type){o.push(' type="',We(a.type),'"');var s={};me(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=mt(i,o),a&&("string"===typeof a?o.className=a:Array.isArray(a)?o.className=a.join(" "):lt(o,a)),2<r.length&&vt(i,o,r),o}("DIV"),n.appendChild(t)}e.c=e.g.render(t,e.a)}return e.c})))},e.verify=function(){Xf(this);var e=this;return Qf(this,this.render().then((function(t){return new St((function(n){var r=e.g.getResponse(t);if(r)n(r);else{e.l.push((function t(r){r&&(function(e,t){Q(e.l,(function(e){return e==t}))}(e,t),n(r))})),e.i&&e.g.execute(e.c)}}))})))},e.reset=function(){Xf(this),null!==this.c&&this.g.reset(this.c)},e.clear=function(){Xf(this),this.J=!0,this.m.c();for(var e=0;e<this.h.length;e++)this.h[e].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){e=ct(this.v);for(var t;t=e.firstChild;)e.removeChild(t)}},E(Jf,Wf);var eh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function th(e,t){return{name:e||"",K:"a valid string",optional:!!t,M:function(e){return"string"===typeof e}}}function nh(e,t){return{name:e||"",K:"a boolean",optional:!!t,M:function(e){return"boolean"===typeof e}}}function rh(e,t){return{name:e||"",K:"a valid object",optional:!!t,M:v}}function ih(e,t){return{name:e||"",K:"a function",optional:!!t,M:function(e){return"function"===typeof e}}}function oh(e,t){return{name:e||"",K:"null",optional:!!t,M:function(e){return null===e}}}function ah(e){return{name:e?e+"Credential":"credential",K:e?"a valid "+e+" credential":"a valid credential",optional:!1,M:function(t){if(!t)return!1;var n=!e||t.providerId===e;return!(!t.ka||!n)}}}function sh(e,t){return v(e)&&"string"===typeof e.type&&e.type===t&&"function"===typeof e.Ha}function uh(e){return v(e)&&"string"===typeof e.uid}function ch(e,t,n,r){return{name:n||"",K:e.K+" or "+t.K,optional:!!r,M:function(n){return e.M(n)||t.M(n)}}}function lh(e,t){for(var n in t){var r=t[n].name;e[r]=dh(r,e[n],t[n].j)}}function fh(e,t){for(var n in t){var r=t[n].name;r!==n&&Object.defineProperty(e,r,{get:x((function(e){return this[e]}),n),set:x((function(e,t,n,r){Zf(e,[n],[r],!0),this[t]=r}),r,n,t[n].lb),enumerable:!0})}}function hh(e,t,n,r){e[t]=dh(t,n,r)}function dh(e,t,n){function r(){var e=Array.prototype.slice.call(arguments);return Zf(o,n,e),t.apply(this,e)}if(!n)return t;var i,o=function(e){return(e=e.split("."))[e.length-1]}(e);for(i in t)r[i]=t[i];for(i in t.prototype)r.prototype[i]=t.prototype[i];return r}lh(gf.prototype,{kb:{name:"applyActionCode",j:[th("code")]},Sa:{name:"checkActionCode",j:[th("code")]},ob:{name:"confirmPasswordReset",j:[th("code"),th("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[th("email"),th("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[th("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[th("emailLink")]},Hc:{name:"onAuthStateChanged",j:[ch(rh(),ih(),"nextOrObserver"),ih("opt_error",!0),ih("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[ch(rh(),ih(),"nextOrObserver"),ih("opt_error",!0),ih("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[th("email"),ch(rh("opt_actionCodeSettings",!0),oh(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[th("email"),rh("actionCodeSettings")]},yb:{name:"setPersistence",j:[th("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[ah()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[ah()]},Tc:{name:"signInWithCustomToken",j:[th("token")]},Uc:{name:"signInWithEmailAndPassword",j:[th("email"),th("password")]},Vc:{name:"signInWithEmailLink",j:[th("email"),th("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[th("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[ch({name:"user",K:"an instance of Firebase User",optional:!1,M:function(e){return!!(e&&e instanceof Il)}},oh(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[th(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[th("url"),rh("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[th("code")]}}),fh(gf.prototype,{lc:{name:"languageCode",lb:ch(th(),oh(),"languageCode")},ti:{name:"tenantId",lb:ch(th(),oh(),"tenantId")}}),gf.Persistence=sc,gf.Persistence.LOCAL="local",gf.Persistence.SESSION="session",gf.Persistence.NONE="none",lh(Il.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[nh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[nh("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[ah()]},rb:{name:"linkWithCredential",j:[ah()]},Dc:{name:"linkWithPhoneNumber",j:[th("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[ah()]},ub:{name:"reauthenticateWithCredential",j:[ah()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[th("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[ch(rh("opt_actionCodeSettings",!0),oh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[th(null,!0)]},cd:{name:"unlink",j:[th("provider")]},Cb:{name:"updateEmail",j:[th("email")]},Db:{name:"updatePassword",j:[th("password")]},ed:{name:"updatePhoneNumber",j:[ah("phone")]},Eb:{name:"updateProfile",j:[rh("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[th("email"),ch(rh("opt_actionCodeSettings",!0),oh(null,!0),"opt_actionCodeSettings",!0)]}}),lh(Af.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),lh(Of.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),lh(St.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),fh(ol.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:nh("appVerificationDisabledForTesting")}}),lh(al.prototype,{confirm:{name:"confirm",j:[th("verificationCode")]}}),hh(vo,"fromJSON",(function(e){e="string"===typeof e?JSON.parse(e):e;for(var t,n=[xo,jo,Bo,bo],r=0;r<n.length;r++)if(t=n[r](e))return t;return null}),[ch(th(),rh(),"json")]),hh(Mo,"credential",(function(e,t){return new Ro(e,t)}),[th("email"),th("password")]),lh(Ro.prototype,{w:{name:"toJSON",j:[th(null,!0)]}}),lh(To.prototype,{Ca:{name:"addScope",j:[th("scope")]},Ka:{name:"setCustomParameters",j:[rh("customOAuthParameters")]}}),hh(To,"credential",Co,[ch(th(),rh(),"token")]),hh(Mo,"credentialWithLink",Lo,[th("email"),th("emailLink")]),lh(Io.prototype,{Ca:{name:"addScope",j:[th("scope")]},Ka:{name:"setCustomParameters",j:[rh("customOAuthParameters")]}}),hh(Io,"credential",Po,[ch(th(),rh(),"token")]),lh(Oo.prototype,{Ca:{name:"addScope",j:[th("scope")]},Ka:{name:"setCustomParameters",j:[rh("customOAuthParameters")]}}),hh(Oo,"credential",Ao,[ch(th(),ch(rh(),oh()),"idToken"),ch(th(),oh(),"accessToken",!0)]),lh(Do.prototype,{Ka:{name:"setCustomParameters",j:[rh("customOAuthParameters")]}}),hh(Do,"credential",No,[ch(th(),rh(),"token"),th("secret",!0)]),lh(ko.prototype,{Ca:{name:"addScope",j:[th("scope")]},credential:{name:"credential",j:[ch(th(),ch(rh(),oh()),"optionsOrIdToken"),ch(th(),oh(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[rh("customOAuthParameters")]}}),lh(wo.prototype,{w:{name:"toJSON",j:[th(null,!0)]}}),lh(mo.prototype,{w:{name:"toJSON",j:[th(null,!0)]}}),hh(Vo,"credential",zo,[th("verificationId"),th("verificationCode")]),lh(Vo.prototype,{gb:{name:"verifyPhoneNumber",j:[ch(th(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(e){return!!e&&(e.session&&e.phoneNumber?sh(e.session,ho)&&"string"===typeof e.phoneNumber:e.session&&e.multiFactorHint?sh(e.session,po)&&uh(e.multiFactorHint):e.session&&e.multiFactorUid?sh(e.session,po)&&"string"===typeof e.multiFactorUid:!!e.phoneNumber&&"string"===typeof e.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]}}),lh(Uo.prototype,{w:{name:"toJSON",j:[th(null,!0)]}}),lh(T.prototype,{toJSON:{name:"toJSON",j:[th(null,!0)]}}),lh(Jo.prototype,{toJSON:{name:"toJSON",j:[th(null,!0)]}}),lh(Xo.prototype,{toJSON:{name:"toJSON",j:[th(null,!0)]}}),lh(hl.prototype,{toJSON:{name:"toJSON",j:[th(null,!0)]}}),lh(cl.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.tb}}]}}),lh(yl.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.tb}},th("displayName",!0)]},bd:{name:"unenroll",j:[ch({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:uh},th(),"multiFactorInfoIdentifier")]}}),lh(Jf.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),hh(Ti,"parseLink",Ri,[th("link")]),hh(Lf,"assertion",(function(e){return new gl(e)}),[ah("phone")]),function(){if("undefined"===typeof Mn.default||!Mn.default.INTERNAL||!Mn.default.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var e={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:pi,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:di,VERIFY_AND_CHANGE_EMAIL:vi,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:gf,AuthCredential:vo,Error:T};hh(e,"EmailAuthProvider",Mo,[]),hh(e,"FacebookAuthProvider",To,[]),hh(e,"GithubAuthProvider",Io,[]),hh(e,"GoogleAuthProvider",Oo,[]),hh(e,"TwitterAuthProvider",Do,[]),hh(e,"OAuthProvider",ko,[th("providerId")]),hh(e,"SAMLAuthProvider",Eo,[th("providerId")]),hh(e,"PhoneAuthProvider",Vo,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(e){return!!(e&&e instanceof gf)}}]),hh(e,"RecaptchaVerifier",Jf,[ch(th(),{name:"",K:"an HTML element",optional:!1,M:function(e){return!!(e&&e instanceof Element)}},"recaptchaContainer"),rh("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(e){return!!(e&&e instanceof Mn.default.app.App)}}]),hh(e,"ActionCodeURL",Ti,[]),hh(e,"PhoneMultiFactorGenerator",Lf,[]),Mn.default.INTERNAL.registerComponent({name:"auth",instanceFactory:function(e){return new gf(e=e.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:e,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(e){e.getProvider("auth-internal").initialize()}}),Mn.default.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(e){return{getUid:_((e=e.getProvider("auth").getImmediate()).getUid,e),getToken:_(e.nc,e),addAuthTokenListener:_(e.cc,e),removeAuthTokenListener:_(e.Pc,e)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),Mn.default.registerVersion("@firebase/auth","0.16.8"),Mn.default.INTERNAL.extendNamespace({User:Il})}()}.apply("undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Fn=n(9388),Un=n(9971),Bn=n(9386),qn=function(e,t){return qn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},qn(e,t)};function Vn(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var zn,Wn="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Hn=Hn||{},Kn=Wn||self;function Gn(){}function Yn(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function $n(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Qn="closure_uid_"+(1e9*Math.random()>>>0),Xn=0;function Jn(e,t,n){return e.call.apply(e.bind,arguments)}function Zn(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function er(e,t,n){return(er=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Jn:Zn).apply(null,arguments)}function tr(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function nr(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function rr(){this.s=this.s,this.o=this.o}var ir={};rr.prototype.s=!1,rr.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Qn)&&e[Qn]||(e[Qn]=++Xn)}(this);delete ir[e]}},rr.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var or=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},ar=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function sr(e){return Array.prototype.concat.apply([],arguments)}function ur(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function cr(e){return/^[\s\xa0]*$/.test(e)}var lr,fr=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function hr(e,t){return-1!=e.indexOf(t)}function dr(e,t){return e<t?-1:e>t?1:0}e:{var pr=Kn.navigator;if(pr){var vr=pr.userAgent;if(vr){lr=vr;break e}}lr=""}function gr(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function mr(e){var t={};for(var n in e)t[n]=e[n];return t}var yr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function br(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<yr.length;o++)n=yr[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function wr(e){return wr[" "](e),e}wr[" "]=Gn;var _r,xr=hr(lr,"Opera"),Sr=hr(lr,"Trident")||hr(lr,"MSIE"),Er=hr(lr,"Edge"),kr=Er||Sr,Tr=hr(lr,"Gecko")&&!(hr(lr.toLowerCase(),"webkit")&&!hr(lr,"Edge"))&&!(hr(lr,"Trident")||hr(lr,"MSIE"))&&!hr(lr,"Edge"),Cr=hr(lr.toLowerCase(),"webkit")&&!hr(lr,"Edge");function Ir(){var e=Kn.document;return e?e.documentMode:void 0}e:{var Pr="",Or=function(){var e=lr;return Tr?/rv:([^\);]+)(\)|;)/.exec(e):Er?/Edge\/([\d\.]+)/.exec(e):Sr?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Cr?/WebKit\/(\S+)/.exec(e):xr?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Or&&(Pr=Or?Or[1]:""),Sr){var Ar=Ir();if(null!=Ar&&Ar>parseFloat(Pr)){_r=String(Ar);break e}}_r=Pr}var Dr,Nr={};function Rr(){return function(e){var t=Nr;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=fr(String(_r)).split("."),n=fr("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var o=t[i]||"",a=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=dr(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||dr(0==o[2].length,0==a[2].length)||dr(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e}))}if(Kn.document&&Sr){var jr=Ir();Dr=jr||(parseInt(_r,10)||void 0)}else Dr=void 0;var Mr=Dr,Lr=function(){if(!Kn.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Kn.addEventListener("test",Gn,t),Kn.removeEventListener("test",Gn,t)}catch(n){}return e}();function Fr(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Ur(e,t){if(Fr.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Tr){e:{try{wr(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Br[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Ur.Z.h.call(this)}}Fr.prototype.h=function(){this.defaultPrevented=!0},nr(Ur,Fr);var Br={2:"touch",3:"pen",4:"mouse"};Ur.prototype.h=function(){Ur.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var qr="closure_listenable_"+(1e6*Math.random()|0),Vr=0;function zr(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Vr,this.ca=this.fa=!1}function Wr(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Hr(e){this.src=e,this.g={},this.h=0}function Kr(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=or(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Wr(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Gr(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.ca&&o.listener==t&&o.capture==!!n&&o.ia==r)return i}return-1}Hr.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var a=Gr(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new zr(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var Yr="closure_lm_"+(1e6*Math.random()|0),$r={};function Qr(e,t,n,r,i){if(r&&r.once)return Jr(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)Qr(e,t[o],n,r,i);return null}return n=oi(n),e&&e[qr]?e.N(t,n,$n(r)?!!r.capture:!!r,i):Xr(e,t,n,!1,r,i)}function Xr(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=$n(i)?!!i.capture:!!i,s=ri(e);if(s||(e[Yr]=s=new Hr(e)),(n=s.add(t,n,r,a,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=ni;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Lr||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(ti(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Jr(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)Jr(e,t[o],n,r,i);return null}return n=oi(n),e&&e[qr]?e.O(t,n,$n(r)?!!r.capture:!!r,i):Xr(e,t,n,!0,r,i)}function Zr(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)Zr(e,t[o],n,r,i);else r=$n(r)?!!r.capture:!!r,n=oi(n),e&&e[qr]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Gr(o=e.g[t],n,r,i))&&(Wr(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=ri(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Gr(t,n,r,i)),(n=-1<e?t[e]:null)&&ei(n))}function ei(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[qr])Kr(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(ti(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=ri(t))?(Kr(n,e),0==n.h&&(n.src=null,t[Yr]=null)):Wr(e)}}}function ti(e){return e in $r?$r[e]:$r[e]="on"+e}function ni(e,t){if(e.ca)e=!0;else{t=new Ur(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&ei(e),e=n.call(r,t)}return e}function ri(e){return(e=e[Yr])instanceof Hr?e:null}var ii="__closure_events_fn_"+(1e9*Math.random()>>>0);function oi(e){return"function"===typeof e?e:(e[ii]||(e[ii]=function(t){return e.handleEvent(t)}),e[ii])}function ai(){rr.call(this),this.i=new Hr(this),this.P=this,this.I=null}function si(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Fr(t,e);else if(t instanceof Fr)t.target=t.target||e;else{var i=t;br(t=new Fr(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.g=n[o];i=ui(a,r,!0,t)&&i}if(i=ui(a=t.g=e,r,!0,t)&&i,i=ui(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=ui(a=t.g=n[o],r,!1,t)&&i}function ui(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.ca&&a.capture==n){var s=a.listener,u=a.ia||a.src;a.fa&&Kr(e.i,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}nr(ai,rr),ai.prototype[qr]=!0,ai.prototype.removeEventListener=function(e,t,n,r){Zr(this,e,t,n,r)},ai.prototype.M=function(){if(ai.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Wr(n[r]);delete t.g[e],t.h--}}this.I=null},ai.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ai.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var ci=Kn.JSON.stringify;function li(){var e=yi,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var fi,hi=function(){function e(){this.h=this.g=null}return e.prototype.add=function(e,t){var n=di.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n},e}(),di=new(function(){function e(e,t){this.i=e,this.j=t,this.h=0,this.g=null}return e.prototype.get=function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e},e}())((function(){return new pi}),(function(e){return e.reset()})),pi=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(e,t){this.h=e,this.g=t,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function vi(e){Kn.setTimeout((function(){throw e}),0)}function gi(e,t){fi||function(){var e=Kn.Promise.resolve(void 0);fi=function(){e.then(bi)}}(),mi||(fi(),mi=!0),yi.add(e,t)}var mi=!1,yi=new hi;function bi(){for(var e;e=li();){try{e.h.call(e.g)}catch(n){vi(n)}var t=di;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}mi=!1}function wi(e,t){ai.call(this),this.h=e||1,this.g=t||Kn,this.j=er(this.kb,this),this.l=Date.now()}function _i(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function xi(e,t,n){if("function"===typeof e)n&&(e=er(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=er(e.handleEvent,e)}return 2147483647<Number(t)?-1:Kn.setTimeout(e,t||0)}function Si(e){e.g=xi((function(){e.g=null,e.i&&(e.i=!1,Si(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}nr(wi,ai),(zn=wi.prototype).da=!1,zn.S=null,zn.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),si(this,"tick"),this.da&&(_i(this),this.start()))}},zn.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},zn.M=function(){wi.Z.M.call(this),_i(this),delete this.g};var Ei=function(e){function t(t,n){var r=e.call(this)||this;return r.m=t,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}qn(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.l=function(e){this.h=arguments,this.g?this.i=!0:Si(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(Kn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(rr);function ki(e){rr.call(this),this.h=e,this.g={}}nr(ki,rr);var Ti=[];function Ci(e,t,n,r){Array.isArray(n)||(n&&(Ti[0]=n.toString()),n=Ti);for(var i=0;i<n.length;i++){var o=Qr(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function Ii(e){gr(e.g,(function(e,t){this.g.hasOwnProperty(t)&&ei(e)}),e),e.g={}}function Pi(){this.g=!0}function Oi(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return ci(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}ki.prototype.M=function(){ki.Z.M.call(this),Ii(this)},ki.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Pi.prototype.Aa=function(){this.g=!1},Pi.prototype.info=function(){};var Ai={},Di=null;function Ni(){return Di=Di||new ai}function Ri(e){Fr.call(this,Ai.Ma,e)}function ji(e){var t=Ni();si(t,new Ri(t,e))}function Mi(e,t){Fr.call(this,Ai.STAT_EVENT,e),this.stat=t}function Li(e){var t=Ni();si(t,new Mi(t,e))}function Fi(e,t){Fr.call(this,Ai.Na,e),this.size=t}function Ui(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Kn.setTimeout((function(){e()}),t)}Ai.Ma="serverreachability",nr(Ri,Fr),Ai.STAT_EVENT="statevent",nr(Mi,Fr),Ai.Na="timingevent",nr(Fi,Fr);var Bi={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},qi={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Vi(){}function zi(e){return e.h||(e.h=e.i())}function Wi(){}Vi.prototype.h=null;var Hi,Ki={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Gi(){Fr.call(this,"d")}function Yi(){Fr.call(this,"c")}function $i(){}function Qi(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new ki(this),this.P=Ji,e=kr?125:void 0,this.W=new wi(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Xi}function Xi(){this.i=null,this.g="",this.h=!1}nr(Gi,Fr),nr(Yi,Fr),nr($i,Vi),$i.prototype.g=function(){return new XMLHttpRequest},$i.prototype.i=function(){return{}},Hi=new $i;var Ji=45e3,Zi={},eo={};function to(e,t,n){e.K=1,e.v=ko(bo(t)),e.s=n,e.U=!0,no(e,null)}function no(e,t){e.F=Date.now(),ao(e),e.A=bo(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Fo(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Xi,e.g=Ba(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Ei(er(e.Ia,e,e.g),e.O)),Ci(e.V,e.g,"readystatechange",e.gb),t=e.H?mr(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),ji(1),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");a=2<=f.length&&"type"==f[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function ro(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function io(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=oo(e,n))==eo){4==t&&(e.o=4,Li(14),i=!1),Oi(e.j,e.m,null,"[Incomplete Response]");break}if(r==Zi){e.o=4,Li(15),Oi(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Oi(e.j,e.m,r,null),fo(e,r)}ro(e)&&r!=eo&&r!=Zi&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Li(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Da(t),t.L=!0,Li(11))):(Oi(e.j,e.m,n,"[Invalid Chunked Response]"),lo(e),co(e))}function oo(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?eo:(n=Number(t.substring(n,r)),isNaN(n)?Zi:(r+=1)+n>t.length?eo:(t=t.substr(r,n),e.C=r+n,t))}function ao(e){e.Y=Date.now()+e.P,so(e,e.P)}function so(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ui(er(e.eb,e),t)}function uo(e){e.B&&(Kn.clearTimeout(e.B),e.B=null)}function co(e){0==e.l.G||e.I||ja(e.l,e)}function lo(e){uo(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,_i(e.W),Ii(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function fo(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Ko(n.i,e)))if(n.I=e.N,!e.J&&Ko(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(o){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Ra(n),Sa(n)}Aa(n),Li(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Ui(er(n.ab,n),6e3));if(1>=Ho(n.i)&&n.ka){try{n.ka()}catch(o){}n.ka=void 0}}else La(n,11)}else if((e.J||n.g==e)&&Ra(n),!cr(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var o=i[t];if(n.U=o[0],o=o[1],2==n.G)if("c"==o[0]){n.J=o[1],n.la=o[2];var a=o[3];null!=a&&(n.ma=a,n.h.info("VER="+n.ma));var s=o[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=o[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(hr(l,"spdy")||hr(l,"quic")||hr(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(Go(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,Eo(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=Ua(r,r.H?r.la:null,r.W),d.J){Yo(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(uo(p),ao(p)),r.g=d}else Oa(r);0<n.l.length&&Ta(n)}else"stop"!=o[0]&&"close"!=o[0]||La(n,7);else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?La(n,7):xa(n):"noop"!=o[0]&&n.j&&n.j.wa(o),n.A=0)}ji(4)}catch(o){}}function ho(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Yn(e)||"string"===typeof e)ar(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(Yn(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(Yn(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function po(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof po)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function vo(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];go(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)go(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function go(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(zn=Qi.prototype).setTimeout=function(e){this.P=e},zn.gb=function(e){e=e.target;var t=this.L;t&&3==ma(e)?t.l():this.Ia(e)},zn.Ia=function(e){try{if(e==this.g)e:{var t=ma(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||kr||this.g&&(this.h.h||this.g.ga()||ya(this.g)))){this.I||4!=t||7==n||ji(8==n||0>=r?3:2),uo(this);var i=this.g.ba();this.N=i;t:if(ro(this)){var o=ya(this.g);e="";var a=o.length,s=4==ma(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){lo(this),co(this);var u="";break t}this.h.i=new Kn.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(o[n],{stream:s&&n==a-1});o.splice(0,a),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,o,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!cr(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,Li(12),lo(this),co(this);break e}Oi(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,fo(this,i)}this.U?(io(this,t,u),kr&&this.i&&3==t&&(Ci(this.V,this.W,"tick",this.fb),this.W.start())):(Oi(this.j,this.m,u,null),fo(this,u)),4==t&&lo(this),this.i&&!this.I&&(4==t?ja(this.l,this):(this.i=!1,ao(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,Li(12)):(this.o=0,Li(13)),lo(this),co(this)}}}catch(t){}},zn.fb=function(){if(this.g){var e=ma(this.g),t=this.g.ga();this.C<t.length&&(uo(this),io(this,e,t),this.i&&4!=e&&ao(this))}},zn.cancel=function(){this.I=!0,lo(this)},zn.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(ji(3),Li(17)),lo(this),this.o=2,co(this)):so(this,this.Y-e)},(zn=po.prototype).R=function(){vo(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},zn.T=function(){return vo(this),this.g.concat()},zn.get=function(e,t){return go(this.h,e)?this.h[e]:t},zn.set=function(e,t){go(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},zn.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var mo=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function yo(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof yo){this.g=void 0!==t?t:e.g,wo(this,e.j),this.s=e.s,_o(this,e.i),xo(this,e.m),this.l=e.l,t=e.h;var n=new Ro;n.i=t.i,t.g&&(n.g=new po(t.g),n.h=t.h),So(this,n),this.o=e.o}else e&&(n=String(e).match(mo))?(this.g=!!t,wo(this,n[1]||"",!0),this.s=To(n[2]||""),_o(this,n[3]||"",!0),xo(this,n[4]),this.l=To(n[5]||"",!0),So(this,n[6]||"",!0),this.o=To(n[7]||"")):(this.g=!!t,this.h=new Ro(null,this.g))}function bo(e){return new yo(e)}function wo(e,t,n){e.j=n?To(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function _o(e,t,n){e.i=n?To(t,!0):t}function xo(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function So(e,t,n){t instanceof Ro?(e.h=t,function(e,t){t&&!e.j&&(jo(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Mo(this,t),Fo(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Co(t,Do)),e.h=new Ro(t,e.g))}function Eo(e,t,n){e.h.set(t,n)}function ko(e){return Eo(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function To(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Co(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Io),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Io(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}yo.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Co(t,Po,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Co(t,Po,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Co(n,"/"==n.charAt(0)?Ao:Oo,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Co(n,No)),e.join("")};var Po=/[#\/\?@]/g,Oo=/[#\?:]/g,Ao=/[#\?]/g,Do=/[#\?@]/g,No=/#/g;function Ro(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function jo(e){e.g||(e.g=new po,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Mo(e,t){jo(e),t=Uo(e,t),go(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,go((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&vo(e)))}function Lo(e,t){return jo(e),t=Uo(e,t),go(e.g.h,t)}function Fo(e,t,n){Mo(e,t),0<n.length&&(e.i=null,e.g.set(Uo(e,t),ur(n)),e.h+=n.length)}function Uo(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(zn=Ro.prototype).add=function(e,t){jo(this),this.i=null,e=Uo(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},zn.forEach=function(e,t){jo(this),this.g.forEach((function(n,r){ar(n,(function(n){e.call(t,n,r,this)}),this)}),this)},zn.T=function(){jo(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},zn.R=function(e){jo(this);var t=[];if("string"===typeof e)Lo(this,e)&&(t=sr(t,this.g.get(Uo(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=sr(t,e[n])}return t},zn.set=function(e,t){return jo(this),this.i=null,Lo(this,e=Uo(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},zn.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},zn.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.i=e.join("&")};var Bo=function(e,t){this.h=e,this.g=t};function qo(e){this.l=e||zo,Kn.PerformanceNavigationTiming?e=0<(e=Kn.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Kn.g&&Kn.g.Ea&&Kn.g.Ea()&&Kn.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Vo,zo=10;function Wo(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Ho(e){return e.h?1:e.g?e.g.size:0}function Ko(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Go(e,t){e.g?e.g.add(t):e.h=t}function Yo(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function $o(e){var t,n;if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var r=e.i;try{for(var i=Vn(e.g.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r.concat(a.D)}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return ur(e.i)}function Qo(){}function Xo(){this.g=new Qo}function Jo(e,t,n){var r=n||"";try{ho(e,(function(e,n){var i=e;$n(e)&&(i=ci(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(wm){throw t.push(r+"type="+encodeURIComponent("_badmap")),wm}}function Zo(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}function ea(e){this.l=e.$b||null,this.j=e.ib||!1}function ta(e,t){ai.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=na,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}qo.prototype.cancel=function(){var e,t;if(this.i=$o(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=Vn(this.g.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(i){e={error:i}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}},Qo.prototype.stringify=function(e){return Kn.JSON.stringify(e,void 0)},Qo.prototype.parse=function(e){return Kn.JSON.parse(e,void 0)},nr(ea,Vi),ea.prototype.g=function(){return new ta(this.l,this.j)},ea.prototype.i=(Vo={},function(){return Vo}),nr(ta,ai);var na=0;function ra(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function ia(e){e.readyState=4,e.l=null,e.j=null,e.A=null,oa(e)}function oa(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(zn=ta.prototype).open=function(e,t){if(this.readyState!=na)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,oa(this)},zn.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Kn).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},zn.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ia(this)),this.readyState=na},zn.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,oa(this)),this.g&&(this.readyState=3,oa(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof Kn.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ra(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},zn.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?ia(this):oa(this),3==this.readyState&&ra(this)}},zn.Ua=function(e){this.g&&(this.response=this.responseText=e,ia(this))},zn.Ta=function(e){this.g&&(this.response=e,ia(this))},zn.ha=function(){this.g&&ia(this)},zn.setRequestHeader=function(e,t){this.v.append(e,t)},zn.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},zn.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(ta.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var aa=Kn.JSON.parse;function sa(e){ai.call(this),this.headers=new po,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=ua,this.K=this.L=!1}nr(sa,ai);var ua="",ca=/^https?$/i,la=["POST","PUT"];function fa(e){return"content-type"==e.toLowerCase()}function ha(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,da(e),va(e)}function da(e){e.D||(e.D=!0,si(e,"complete"),si(e,"error"))}function pa(e){if(e.h&&"undefined"!=typeof Hn&&(!e.C[1]||4!=ma(e)||2!=e.ba()))if(e.v&&4==ma(e))xi(e.Fa,0,e);else if(si(e,"readystatechange"),4==ma(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.H).match(mo)[1]||null;if(!o&&Kn.self&&Kn.self.location){var a=Kn.self.location.protocol;o=a.substr(0,a.length-1)}i=!ca.test(o?o.toLowerCase():"")}t=i}if(t)si(e,"complete"),si(e,"success");else{e.m=6;try{var s=2<ma(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.ba()+"]",da(e)}}finally{va(e)}}}function va(e,t){if(e.g){ga(e);var n=e.g,r=e.C[0]?Gn:null;e.g=null,e.C=null,t||si(e,"ready");try{n.onreadystatechange=r}catch(wm){}}}function ga(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Kn.clearTimeout(e.A),e.A=null)}function ma(e){return e.g?e.g.readyState:0}function ya(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case ua:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(gt){return null}}function ba(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return gr(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Eo(e,t,n))}function wa(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function _a(e){this.za=0,this.l=[],this.h=new Pi,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=wa("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=wa("baseRetryDelayMs",5e3,e),this.$a=wa("retryDelaySeedMs",1e4,e),this.Ya=wa("forwardChannelMaxRetries",2,e),this.ra=wa("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new qo(e&&e.concurrentRequestLimit),this.Ca=new Xo,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function xa(e){if(Ea(e),3==e.G){var t=e.V++,n=bo(e.F);Eo(n,"SID",e.J),Eo(n,"RID",t),Eo(n,"TYPE","terminate"),Ia(e,n),(t=new Qi(e,e.h,t,void 0)).K=2,t.v=ko(bo(n)),n=!1,Kn.navigator&&Kn.navigator.sendBeacon&&(n=Kn.navigator.sendBeacon(t.v.toString(),"")),!n&&Kn.Image&&((new Image).src=t.v,n=!0),n||(t.g=Ba(t.l,null),t.g.ea(t.v)),t.F=Date.now(),ao(t)}Fa(e)}function Sa(e){e.g&&(Da(e),e.g.cancel(),e.g=null)}function Ea(e){Sa(e),e.u&&(Kn.clearTimeout(e.u),e.u=null),Ra(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Kn.clearTimeout(e.m),e.m=null)}function ka(e,t){e.l.push(new Bo(e.Za++,t)),3==e.G&&Ta(e)}function Ta(e){Wo(e.i)||e.m||(e.m=!0,gi(e.Ha,e),e.C=0)}function Ca(e,t){var n;n=t?t.m:e.V++;var r=bo(e.F);Eo(r,"SID",e.J),Eo(r,"RID",n),Eo(r,"AID",e.U),Ia(e,r),e.o&&e.s&&ba(r,e.o,e.s),n=new Qi(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Pa(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Go(e.i,n),to(n,r,t)}function Ia(e,t){e.j&&ho({},(function(e,n){Eo(t,n,e)}))}function Pa(e,t,n){n=Math.min(e.l.length,n);var r=e.j?er(e.j.Oa,e.j,e):null;e:for(var i=e.l,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].h,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=o))o=Math.max(0,i[u].h-100),s=!1;else try{Jo(l,a,"req"+c+"_")}catch(At){r&&r(l)}}if(s){r=a.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Oa(e){e.g||e.u||(e.Y=1,gi(e.Ga,e),e.A=0)}function Aa(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=Ui(er(e.Ga,e),Ma(e,e.A)),e.A++,!0)}function Da(e){null!=e.B&&(Kn.clearTimeout(e.B),e.B=null)}function Na(e){e.g=new Qi(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=bo(e.oa);Eo(t,"RID","rpc"),Eo(t,"SID",e.J),Eo(t,"CI",e.N?"0":"1"),Eo(t,"AID",e.U),Ia(e,t),Eo(t,"TYPE","xmlhttp"),e.o&&e.s&&ba(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=ko(bo(t)),n.s=null,n.U=!0,no(n,e)}function Ra(e){null!=e.v&&(Kn.clearTimeout(e.v),e.v=null)}function ja(e,t){var n=null;if(e.g==t){Ra(e),Da(e),e.g=null;var r=2}else{if(!Ko(e.i,t))return;n=t.D,Yo(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;si(r=Ni(),new Fi(r,n,t,i)),Ta(e)}else Oa(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Ho(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=Ui(er(e.Ha,e,t),Ma(e,e.C)),e.C++,!0))}(e,t)||2==r&&Aa(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:La(e,5);break;case 4:La(e,10);break;case 3:La(e,6);break;default:La(e,2)}}function Ma(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function La(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=er(e.jb,e);n||(n=new yo("//www.google.com/images/cleardot.gif"),Kn.location&&"http"==Kn.location.protocol||wo(n,"https"),ko(n)),function(e,t){var n=new Pi;if(Kn.Image){var r=new Image;r.onload=tr(Zo,n,r,"TestLoadImage: loaded",!0,t),r.onerror=tr(Zo,n,r,"TestLoadImage: error",!1,t),r.onabort=tr(Zo,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=tr(Zo,n,r,"TestLoadImage: timeout",!1,t),Kn.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Li(2);e.G=0,e.j&&e.j.va(t),Fa(e),Ea(e)}function Fa(e){e.G=0,e.I=-1,e.j&&(0==$o(e.i).length&&0==e.l.length||(e.i.i.length=0,ur(e.l),e.l.length=0),e.j.ua())}function Ua(e,t,n){var r=function(e){return e instanceof yo?bo(e):new yo(e,void 0)}(n);if(""!=r.i)t&&_o(r,t+"."+r.i),xo(r,r.m);else{var i=Kn.location;r=function(e,t,n,r){var i=new yo(null,void 0);return e&&wo(i,e),t&&_o(i,t),n&&xo(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&gr(e.aa,(function(e,t){Eo(r,t,e)})),t=e.D,n=e.sa,t&&n&&Eo(r,t,n),Eo(r,"VER",e.ma),Ia(e,r),r}function Ba(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new sa(new ea({ib:!0})):new sa(e.qa)).L=e.H,t}function qa(){}function Va(){if(Sr&&!(10<=Number(Mr)))throw Error("Environmental error: no available transport.")}function za(e,t){ai.call(this),this.g=new _a(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!cr(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!cr(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Ka(this)}function Wa(e){Gi.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Ha(){Yi.call(this),this.status=1}function Ka(e){this.g=e}(zn=sa.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Hi.g(),this.C=this.u?zi(this.u):zi(Hi),this.g.onreadystatechange=er(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(o){return void ha(this,o)}e=n||"";var i=new po(this.headers);r&&ho(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=fa,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=Kn.FormData&&e instanceof Kn.FormData,!(0<=or(la,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{ga(this),0<this.B&&((this.K=function(e){return Sr&&Rr()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=er(this.pa,this)):this.A=xi(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){ha(this,o)}},zn.pa=function(){"undefined"!=typeof Hn&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,si(this,"timeout"),this.abort(8))},zn.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,si(this,"complete"),si(this,"abort"),va(this))},zn.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),va(this,!0)),sa.Z.M.call(this)},zn.Fa=function(){this.s||(this.F||this.v||this.l?pa(this):this.cb())},zn.cb=function(){pa(this)},zn.ba=function(){try{return 2<ma(this)?this.g.status:-1}catch(Vo){return-1}},zn.ga=function(){try{return this.g?this.g.responseText:""}catch(Vo){return""}},zn.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),aa(t)}},zn.Da=function(){return this.m},zn.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(zn=_a.prototype).ma=8,zn.G=1,zn.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(gt){}},zn.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Qi(this,this.h,e,void 0),n=this.s;if(this.P&&(n?br(n=mr(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var o=this.l[i];if(void 0===(o="__data__"in o.g&&"string"===typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Pa(this,t,r),Eo(i=bo(this.F),"RID",e),Eo(i,"CVER",22),this.D&&Eo(i,"X-HTTP-Session-Id",this.D),Ia(this,i),this.o&&n&&ba(i,this.o,n),Go(this.i,t),this.Ra&&Eo(i,"TYPE","init"),this.ja?(Eo(i,"$req",r),Eo(i,"SID","null"),t.$=!0,to(t,i,null)):to(t,i,r),this.G=2}}else 3==this.G&&(e?Ca(this,e):0==this.l.length||Wo(this.i)||Ca(this))},zn.Ga=function(){if(this.u=null,Na(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Ui(er(this.bb,this),e)}},zn.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Li(10),Sa(this),Na(this))},zn.ab=function(){null!=this.v&&(this.v=null,Sa(this),Aa(this),Li(19))},zn.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Li(2)):(this.h.info("Failed to ping google.com"),Li(1))},(zn=qa.prototype).xa=function(){},zn.wa=function(){},zn.va=function(){},zn.ua=function(){},zn.Oa=function(){},Va.prototype.g=function(e,t){return new za(e,t)},nr(za,ai),za.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),gi(er(e.hb,e,t))),Li(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Ua(e,null,e.W),Ta(e)},za.prototype.close=function(){xa(this.g)},za.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,ka(this.g,t)}else this.v?((t={}).__data__=ci(e),ka(this.g,t)):ka(this.g,e)},za.prototype.M=function(){this.g.j=null,delete this.j,xa(this.g),delete this.g,za.Z.M.call(this)},nr(Wa,Gi),nr(Ha,Yi),nr(Ka,qa),Ka.prototype.xa=function(){si(this.g,"a")},Ka.prototype.wa=function(e){si(this.g,new Wa(e))},Ka.prototype.va=function(e){si(this.g,new Ha(e))},Ka.prototype.ua=function(){si(this.g,"b")},Va.prototype.createWebChannel=Va.prototype.g,za.prototype.send=za.prototype.u,za.prototype.open=za.prototype.m,za.prototype.close=za.prototype.close,Bi.NO_ERROR=0,Bi.TIMEOUT=8,Bi.HTTP_ERROR=6,qi.COMPLETE="complete",Wi.EventType=Ki,Ki.OPEN="a",Ki.CLOSE="b",Ki.ERROR="c",Ki.MESSAGE="d",ai.prototype.listen=ai.prototype.N,sa.prototype.listenOnce=sa.prototype.O,sa.prototype.getLastError=sa.prototype.La,sa.prototype.getLastErrorCode=sa.prototype.Da,sa.prototype.getStatus=sa.prototype.ba,sa.prototype.getResponseJson=sa.prototype.Qa,sa.prototype.getResponseText=sa.prototype.ga,sa.prototype.send=sa.prototype.ea;var Ga=function(){return new Va},Ya=function(){return Ni()},$a=Bi,Qa=qi,Xa=Ai,Ja={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Za=ea,es=Wi,ts=sa,ns=function(){function e(e,t){var n=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(e){return n.t(e)},this.i=function(e){return t.writeSequenceNumber(e)})}return e.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},e.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},e}();ns.o=-1;var rs={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},is=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).code=t,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return(0,Fn.__extends)(t,e),t}(Error),os=new Bn.Logger("@firebase/firestore");function as(){return os.logLevel}function ss(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(os.logLevel<=Bn.LogLevel.DEBUG){var r=t.map(ls);os.debug.apply(os,(0,Fn.__spreadArray)(["Firestore (8.10.1): "+e],r))}}function us(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(os.logLevel<=Bn.LogLevel.ERROR){var r=t.map(ls);os.error.apply(os,(0,Fn.__spreadArray)(["Firestore (8.10.1): "+e],r))}}function cs(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(os.logLevel<=Bn.LogLevel.WARN){var r=t.map(ls);os.warn.apply(os,(0,Fn.__spreadArray)(["Firestore (8.10.1): "+e],r))}}function ls(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function fs(e){void 0===e&&(e="Unexpected state");var t="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+e;throw us(t),new Error(t)}function hs(e,t){e||fs()}function ds(e,t){return e}function ps(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var vs=function(){function e(){}return e.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=ps(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n},e}();function gs(e,t){return e<t?-1:e>t?1:0}function ms(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function ys(e){return e+"\0"}var bs=function(){function e(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new is(rs.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new is(rs.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new is(rs.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new is(rs.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(e){return this.seconds===e.seconds?gs(this.nanoseconds,e.nanoseconds):gs(this.seconds,e.seconds)},e.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),ws=function(){function e(e){this.timestamp=e}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new bs(0,0))},e.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},e.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();function _s(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function xs(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Ss(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Es=function(){function e(e,t,n){void 0===t?t=0:t>e.length&&fs(),void 0===n?n=e.length-t:n>e.length-t&&fs(),this.segments=e,this.offset=t,this.len=n}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return 0===e.comparator(this,t)},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(e){return this.segments[this.offset+e]},e.prototype.isEmpty=function(){return 0===this.length},e.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0},e}(),ks=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Fn.__extends)(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=[],i=0,o=e;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new is(rs.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter((function(e){return e.length>0})))}return new t(r)},t.emptyPath=function(){return new t([])},t}(Es),Ts=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Cs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Fn.__extends)(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.isValidIdentifier=function(e){return Ts.test(e)},t.prototype.canonicalString=function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(e){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new is(rs.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new is(rs.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new is(rs.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new is(rs.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)},t.emptyPath=function(){return new t([])},t}(Es),Is=function(){function e(e){this.fields=e,e.sort(Cs.comparator)}return e.prototype.covers=function(e){for(var t=0,n=this.fields;t<n.length;t++)if(n[t].isPrefixOf(e))return!0;return!1},e.prototype.isEqual=function(e){return ms(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))},e}(),Ps=function(){function e(e){this.binaryString=e}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))},e.prototype.toBase64=function(){return e=this.binaryString,btoa(e);var e},e.prototype.toUint8Array=function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(e){return gs(this.binaryString,e.binaryString)},e.prototype.isEqual=function(e){return this.binaryString===e.binaryString},e}();Ps.EMPTY_BYTE_STRING=new Ps("");var Os=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function As(e){if(hs(!!e),"string"==typeof e){var t=0,n=Os.exec(e);if(hs(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Ds(e.seconds),nanos:Ds(e.nanos)}}function Ds(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Ns(e){return"string"==typeof e?Ps.fromBase64String(e):Ps.fromUint8Array(e)}function Rs(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function js(e){var t=e.mapValue.fields.__previous_value__;return Rs(t)?js(t):t}function Ms(e){var t=As(e.mapValue.fields.__local_write_time__.timestampValue);return new bs(t.seconds,t.nanos)}function Ls(e){return null==e}function Fs(e){return 0===e&&1/e==-1/0}function Us(e){return"number"==typeof e&&Number.isInteger(e)&&!Fs(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Bs=function(){function e(e){this.path=e}return e.fromPath=function(t){return new e(ks.fromString(t))},e.fromName=function(t){return new e(ks.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},e.prototype.isEqual=function(e){return null!==e&&0===ks.comparator(this.path,e.path)},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(e,t){return ks.comparator(e.path,t.path)},e.isDocumentKey=function(e){return e.length%2==0},e.fromSegments=function(t){return new e(new ks(t.slice()))},e}();function qs(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Rs(e)?4:10:fs()}function Vs(e,t){var n=qs(e);if(n!==qs(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ms(e).isEqual(Ms(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=As(e.timestampValue),r=As(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Ns(e.bytesValue).isEqual(Ns(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Ds(e.geoPointValue.latitude)===Ds(t.geoPointValue.latitude)&&Ds(e.geoPointValue.longitude)===Ds(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Ds(e.integerValue)===Ds(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Ds(e.doubleValue),r=Ds(t.doubleValue);return n===r?Fs(n)===Fs(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return ms(e.arrayValue.values||[],t.arrayValue.values||[],Vs);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(_s(n)!==_s(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Vs(n[i],r[i])))return!1;return!0}(e,t);default:return fs()}}function zs(e,t){return void 0!==(e.values||[]).find((function(e){return Vs(e,t)}))}function Ws(e,t){var n=qs(e),r=qs(t);if(n!==r)return gs(n,r);switch(n){case 0:return 0;case 1:return gs(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Ds(e.integerValue||e.doubleValue),r=Ds(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Hs(e.timestampValue,t.timestampValue);case 4:return Hs(Ms(e),Ms(t));case 5:return gs(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Ns(e),r=Ns(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var o=gs(n[i],r[i]);if(0!==o)return o}return gs(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=gs(Ds(e.latitude),Ds(t.latitude));return 0!==n?n:gs(Ds(e.longitude),Ds(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var o=Ws(n[i],r[i]);if(o)return o}return gs(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=gs(r[a],o[a]);if(0!==s)return s;var u=Ws(n[r[a]],i[o[a]]);if(0!==u)return u}return gs(r.length,o.length)}(e.mapValue,t.mapValue);default:throw fs()}}function Hs(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return gs(e,t);var n=As(e),r=As(t),i=gs(n.seconds,r.seconds);return 0!==i?i:gs(n.nanos,r.nanos)}function Ks(e){return Gs(e)}function Gs(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=As(e);return"time("+t.seconds+","+t.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Ns(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Bs.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(e){for(var t="[",n=!0,r=0,i=e.values||[];r<i.length;r++)n?n=!1:t+=",",t+=Gs(i[r]);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var t="{",n=!0,r=0,i=Object.keys(e.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:t+=",",t+=o+":"+Gs(e.fields[o])}return t+"}"}(e.mapValue):fs();var t,n}function Ys(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function $s(e){return!!e&&"integerValue"in e}function Qs(e){return!!e&&"arrayValue"in e}function Xs(e){return!!e&&"nullValue"in e}function Js(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Zs(e){return!!e&&"mapValue"in e}function eu(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return xs(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=eu(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=eu(e.arrayValue.values[r]);return n}return Object.assign({},e)}var tu=function(){function e(e){this.value=e}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Zs(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null},e.prototype.set=function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=eu(t)},e.prototype.setAll=function(e){var t=this,n=Cs.emptyPath(),r={},i=[];e.forEach((function(e,o){if(!n.isImmediateParentOf(o)){var a=t.getFieldsMap(n);t.applyChanges(a,r,i),r={},i=[],n=o.popLast()}e?r[o.lastSegment()]=eu(e):i.push(o.lastSegment())}));var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},e.prototype.delete=function(e){var t=this.field(e.popLast());Zs(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]},e.prototype.isEqual=function(e){return Vs(this.value,e.value)},e.prototype.getFieldsMap=function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Zs(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields},e.prototype.applyChanges=function(e,t,n){xs(t,(function(t,n){return e[t]=n}));for(var r=0,i=n;r<i.length;r++){var o=i[r];delete e[o]}},e.prototype.clone=function(){return new e(eu(this.value))},e}();function nu(e){var t=[];return xs(e.fields,(function(e,n){var r=new Cs([e]);if(Zs(n)){var i=nu(n.mapValue).fields;if(0===i.length)t.push(r);else for(var o=0,a=i;o<a.length;o++){var s=a[o];t.push(r.child(s))}}else t.push(r)})),new Is(t)}var ru=function(){function e(e,t,n,r,i){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=i}return e.newInvalidDocument=function(t){return new e(t,0,ws.min(),tu.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,tu.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,tu.empty(),2)},e.prototype.convertToFoundDocument=function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this},e.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=tu.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=tu.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return 0!==this.documentType},e.prototype.isFoundDocument=function(){return 1===this.documentType},e.prototype.isNoDocument=function(){return 2===this.documentType},e.prototype.isUnknownDocument=function(){return 3===this.documentType},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),iu=function(e,t,n,r,i,o,a){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};function ou(e,t,n,r,i,o,a){return void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new iu(e,t,n,r,i,o,a)}function au(e){var t=ds(e);if(null===t.h){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.canonicalString()+e.op.toString()+Ks(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Ls(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=bu(t.startAt)),t.endAt&&(n+="|ub:",n+=bu(t.endAt)),t.h=n}return t.h}function su(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!_u(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],o=t.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!Vs(i.value,o.value))return!1;var i,o;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Su(e.startAt,t.startAt)&&Su(e.endAt,t.endAt)}function uu(e){return Bs.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var cu=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).field=t,i.op=n,i.value=r,i}return(0,Fn.__extends)(t,e),t.create=function(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.l(e,n,r):new lu(e,n,r):"array-contains"===n?new pu(e,r):"in"===n?new vu(e,r):"not-in"===n?new gu(e,r):"array-contains-any"===n?new mu(e,r):new t(e,n,r)},t.l=function(e,t,n){return"in"===t?new fu(e,n):new hu(e,n)},t.prototype.matches=function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.m(Ws(t,this.value)):null!==t&&qs(this.value)===qs(t)&&this.m(Ws(t,this.value))},t.prototype.m=function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return fs()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}((function(){})),lu=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,r)||this).key=Bs.fromName(r.referenceValue),i}return(0,Fn.__extends)(t,e),t.prototype.matches=function(e){var t=Bs.comparator(e.key,this.key);return this.m(t)},t}(cu),fu=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"in",n)||this).keys=du("in",n),r}return(0,Fn.__extends)(t,e),t.prototype.matches=function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))},t}(cu),hu=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"not-in",n)||this).keys=du("not-in",n),r}return(0,Fn.__extends)(t,e),t.prototype.matches=function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))},t}(cu);function du(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Bs.fromName(e.referenceValue)}))}var pu=function(e){function t(t,n){return e.call(this,t,"array-contains",n)||this}return(0,Fn.__extends)(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return Qs(t)&&zs(t.arrayValue,this.value)},t}(cu),vu=function(e){function t(t,n){return e.call(this,t,"in",n)||this}return(0,Fn.__extends)(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return null!==t&&zs(this.value.arrayValue,t)},t}(cu),gu=function(e){function t(t,n){return e.call(this,t,"not-in",n)||this}return(0,Fn.__extends)(t,e),t.prototype.matches=function(e){if(zs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!zs(this.value.arrayValue,t)},t}(cu),mu=function(e){function t(t,n){return e.call(this,t,"array-contains-any",n)||this}return(0,Fn.__extends)(t,e),t.prototype.matches=function(e){var t=this,n=e.data.field(this.field);return!(!Qs(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return zs(t.value.arrayValue,e)}))},t}(cu),yu=function(e,t){this.position=e,this.before=t};function bu(e){return(e.before?"b":"a")+":"+e.position.map((function(e){return Ks(e)})).join(",")}var wu=function(e,t){void 0===t&&(t="asc"),this.field=e,this.dir=t};function _u(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function xu(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],a=e.position[i];if(r=o.field.isKeyField()?Bs.comparator(Bs.fromName(a.referenceValue),n.key):Ws(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function Su(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Vs(e.position[n],t.position[n]))return!1;return!0}var Eu=function(e,t,n,r,i,o,a,s){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.p=null,this.T=null,this.startAt,this.endAt};function ku(e,t,n,r,i,o,a,s){return new Eu(e,t,n,r,i,o,a,s)}function Tu(e){return new Eu(e)}function Cu(e){return!Ls(e.limit)&&"F"===e.limitType}function Iu(e){return!Ls(e.limit)&&"L"===e.limitType}function Pu(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Ou(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function Au(e){return null!==e.collectionGroup}function Du(e){var t=ds(e);if(null===t.p){t.p=[];var n=Ou(t),r=Pu(t);if(null!==n&&null===r)n.isKeyField()||t.p.push(new wu(n)),t.p.push(new wu(Cs.keyField(),"asc"));else{for(var i=!1,o=0,a=t.explicitOrderBy;o<a.length;o++){var s=a[o];t.p.push(s),s.field.isKeyField()&&(i=!0)}if(!i){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new wu(Cs.keyField(),u))}}}return t.p}function Nu(e){var t=ds(e);if(!t.T)if("F"===t.limitType)t.T=ou(t.path,t.collectionGroup,Du(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=Du(t);r<i.length;r++){var o=i[r],a="desc"===o.dir?"asc":"desc";n.push(new wu(o.field,a))}var s=t.endAt?new yu(t.endAt.position,!t.endAt.before):null,u=t.startAt?new yu(t.startAt.position,!t.startAt.before):null;t.T=ou(t.path,t.collectionGroup,n,t.filters,t.limit,s,u)}return t.T}function Ru(e,t,n){return new Eu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function ju(e,t){return su(Nu(e),Nu(t))&&e.limitType===t.limitType}function Mu(e){return au(Nu(e))+"|lt:"+e.limitType}function Lu(e){return"Query(target="+function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: ["+e.filters.map((function(e){return(t=e).field.canonicalString()+" "+t.op+" "+Ks(t.value);var t})).join(", ")+"]"),Ls(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: ["+e.orderBy.map((function(e){return function(e){return e.field.canonicalString()+" ("+e.dir+")"}(e)})).join(", ")+"]"),e.startAt&&(t+=", startAt: "+bu(e.startAt)),e.endAt&&(t+=", endAt: "+bu(e.endAt)),"Target("+t+")"}(Nu(e))+"; limitType="+e.limitType+")"}function Fu(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Bs.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(var n=0,r=e.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}return!0}(e,t)&&function(e,t){for(var n=0,r=e.filters;n<r.length;n++)if(!r[n].matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!xu(e.startAt,Du(e),t))&&(!e.endAt||!xu(e.endAt,Du(e),t))}(e,t)}function Uu(e){return function(t,n){for(var r=!1,i=0,o=Du(e);i<o.length;i++){var a=o[i],s=Bu(a,t,n);if(0!==s)return s;r=r||a.field.isKeyField()}return 0}}function Bu(e,t,n){var r=e.field.isKeyField()?Bs.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Ws(r,i):fs()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return fs()}}function qu(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fs(t)?"-0":t}}function Vu(e){return{integerValue:""+e}}function zu(e,t){return Us(t)?Vu(t):qu(e,t)}var Wu=function(){this._=void 0};function Hu(e,t,n){return e instanceof Yu?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof $u?Qu(e,t):e instanceof Xu?Ju(e,t):function(e,t){var n=Gu(e,t),r=ec(n)+ec(e.A);return $s(n)&&$s(e.A)?Vu(r):qu(e.R,r)}(e,t)}function Ku(e,t,n){return e instanceof $u?Qu(e,t):e instanceof Xu?Ju(e,t):n}function Gu(e,t){return e instanceof Zu?$s(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Yu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Fn.__extends)(t,e),t}(Wu),$u=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return(0,Fn.__extends)(t,e),t}(Wu);function Qu(e,t){for(var n=tc(t),r=function(e){n.some((function(t){return Vs(t,e)}))||n.push(e)},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Xu=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return(0,Fn.__extends)(t,e),t}(Wu);function Ju(e,t){for(var n=tc(t),r=function(e){n=n.filter((function(t){return!Vs(t,e)}))},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Zu=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).R=t,r.A=n,r}return(0,Fn.__extends)(t,e),t}(Wu);function ec(e){return Ds(e.integerValue||e.doubleValue)}function tc(e){return Qs(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var nc=function(e,t){this.field=e,this.transform=t},rc=function(e,t){this.version=e,this.transformResults=t},ic=function(){function e(e,t){this.updateTime=e,this.exists=t}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},e}();function oc(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var ac=function(){};function sc(e,t,n){e instanceof hc?function(e,t,n){var r=e.value.clone(),i=vc(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof dc?function(e,t,n){if(oc(e.precondition,t)){var r=vc(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(pc(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function uc(e,t,n){e instanceof hc?function(e,t,n){if(oc(e.precondition,t)){var r=e.value.clone(),i=gc(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(fc(t),r).setHasLocalMutations()}}(e,t,n):e instanceof dc?function(e,t,n){if(oc(e.precondition,t)){var r=gc(e.fieldTransforms,n,t),i=t.data;i.setAll(pc(e)),i.setAll(r),t.convertToFoundDocument(fc(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){oc(e.precondition,t)&&t.convertToNoDocument(ws.min())}(e,t)}function cc(e,t){for(var n=null,r=0,i=e.fieldTransforms;r<i.length;r++){var o=i[r],a=t.data.field(o.field),s=Gu(o.transform,a||null);null!=s&&(null==n&&(n=tu.empty()),n.set(o.field,s))}return n||null}function lc(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&ms(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof $u&&t instanceof $u||e instanceof Xu&&t instanceof Xu?ms(e.elements,t.elements,Vs):e instanceof Zu&&t instanceof Zu?Vs(e.A,t.A):e instanceof Yu&&t instanceof Yu}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function fc(e){return e.isFoundDocument()?e.version:ws.min()}var hc=function(e){function t(t,n,r,i){void 0===i&&(i=[]);var o=this;return(o=e.call(this)||this).key=t,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return(0,Fn.__extends)(t,e),t}(ac),dc=function(e){function t(t,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=e.call(this)||this).key=t,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return(0,Fn.__extends)(t,e),t}(ac);function pc(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function vc(e,t,n){var r=new Map;hs(e.length===n.length);for(var i=0;i<n.length;i++){var o=e[i],a=o.transform,s=t.data.field(o.field);r.set(o.field,Ku(a,s,n[i]))}return r}function gc(e,t,n){for(var r=new Map,i=0,o=e;i<o.length;i++){var a=o[i],s=a.transform,u=n.data.field(a.field);r.set(a.field,Hu(s,u,t))}return r}var mc,yc,bc=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return(0,Fn.__extends)(t,e),t}(ac),wc=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return(0,Fn.__extends)(t,e),t}(ac),_c=function(e){this.count=e};function xc(e){switch(e){case rs.OK:return fs();case rs.CANCELLED:case rs.UNKNOWN:case rs.DEADLINE_EXCEEDED:case rs.RESOURCE_EXHAUSTED:case rs.INTERNAL:case rs.UNAVAILABLE:case rs.UNAUTHENTICATED:return!1;case rs.INVALID_ARGUMENT:case rs.NOT_FOUND:case rs.ALREADY_EXISTS:case rs.PERMISSION_DENIED:case rs.FAILED_PRECONDITION:case rs.ABORTED:case rs.OUT_OF_RANGE:case rs.UNIMPLEMENTED:case rs.DATA_LOSS:return!0;default:return fs()}}function Sc(e){if(void 0===e)return us("GRPC error has no .code"),rs.UNKNOWN;switch(e){case mc.OK:return rs.OK;case mc.CANCELLED:return rs.CANCELLED;case mc.UNKNOWN:return rs.UNKNOWN;case mc.DEADLINE_EXCEEDED:return rs.DEADLINE_EXCEEDED;case mc.RESOURCE_EXHAUSTED:return rs.RESOURCE_EXHAUSTED;case mc.INTERNAL:return rs.INTERNAL;case mc.UNAVAILABLE:return rs.UNAVAILABLE;case mc.UNAUTHENTICATED:return rs.UNAUTHENTICATED;case mc.INVALID_ARGUMENT:return rs.INVALID_ARGUMENT;case mc.NOT_FOUND:return rs.NOT_FOUND;case mc.ALREADY_EXISTS:return rs.ALREADY_EXISTS;case mc.PERMISSION_DENIED:return rs.PERMISSION_DENIED;case mc.FAILED_PRECONDITION:return rs.FAILED_PRECONDITION;case mc.ABORTED:return rs.ABORTED;case mc.OUT_OF_RANGE:return rs.OUT_OF_RANGE;case mc.UNIMPLEMENTED:return rs.UNIMPLEMENTED;case mc.DATA_LOSS:return rs.DATA_LOSS;default:return fs()}}(yc=mc||(mc={}))[yc.OK=0]="OK",yc[yc.CANCELLED=1]="CANCELLED",yc[yc.UNKNOWN=2]="UNKNOWN",yc[yc.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",yc[yc.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",yc[yc.NOT_FOUND=5]="NOT_FOUND",yc[yc.ALREADY_EXISTS=6]="ALREADY_EXISTS",yc[yc.PERMISSION_DENIED=7]="PERMISSION_DENIED",yc[yc.UNAUTHENTICATED=16]="UNAUTHENTICATED",yc[yc.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",yc[yc.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",yc[yc.ABORTED=10]="ABORTED",yc[yc.OUT_OF_RANGE=11]="OUT_OF_RANGE",yc[yc.UNIMPLEMENTED=12]="UNIMPLEMENTED",yc[yc.INTERNAL=13]="INTERNAL",yc[yc.UNAVAILABLE=14]="UNAVAILABLE",yc[yc.DATA_LOSS=15]="DATA_LOSS";var Ec=function(){function e(e,t){this.comparator=e,this.root=t||Tc.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Tc.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Tc.BLACK,null,null))},e.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null},e.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},e.prototype.forEach=function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))},e.prototype.toString=function(){var e=[];return this.inorderTraversal((function(t,n){return e.push(t+":"+n),!1})),"{"+e.join(", ")+"}"},e.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},e.prototype.getIterator=function(){return new kc(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(e){return new kc(this.root,e,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new kc(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(e){return new kc(this.root,e,this.comparator,!0)},e}(),kc=function(){function e(e,t,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return e.prototype.getNext=function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},e}(),Tc=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},e.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},e.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw fs();if(this.right.isRed())throw fs();var e=this.left.check();if(e!==this.right.check())throw fs();return e+(this.isRed()?0:1)},e}();Tc.EMPTY=null,Tc.RED=!0,Tc.BLACK=!1,Tc.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw fs()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw fs()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw fs()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw fs()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw fs()},enumerable:!1,configurable:!0}),e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new Tc(e,t)},e.prototype.remove=function(e,t){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());var Cc=function(){function e(e){this.comparator=e,this.data=new Ec(this.comparator)}return e.prototype.has=function(e){return null!==this.data.get(e)},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(e){return this.data.indexOf(e)},e.prototype.forEach=function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.forEachInRange=function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}},e.prototype.forEachWhile=function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return},e.prototype.firstAfterOrEqual=function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null},e.prototype.getIterator=function(){return new Ic(this.data.getIterator())},e.prototype.getIteratorFrom=function(e){return new Ic(this.data.getIteratorFrom(e))},e.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},e.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},e.prototype.toArray=function(){var e=[];return this.forEach((function(t){e.push(t)})),e},e.prototype.toString=function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),Ic=function(){function e(e){this.iter=e}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),Pc=new Ec(Bs.comparator);function Oc(){return Pc}var Ac=new Ec(Bs.comparator);function Dc(){return Ac}var Nc=new Ec(Bs.comparator);function Rc(){return Nc}var jc=new Cc(Bs.comparator);function Mc(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=jc,r=0,i=e;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Lc=new Cc(gs);function Fc(){return Lc}var Uc=function(){function e(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,Bc.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(ws.min(),r,Fc(),Oc(),Mc())},e}(),Bc=function(){function e(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(Ps.EMPTY_BYTE_STRING,n,Mc(),Mc(),Mc())},e}(),qc=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},Vc=function(e,t){this.targetId=e,this.V=t},zc=function(e,t,n,r){void 0===n&&(n=Ps.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},Wc=function(){function e(){this.S=0,this.D=Gc(),this.C=Ps.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"F",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),e.prototype.O=function(e){e.approximateByteSize()>0&&(this.k=!0,this.C=e)},e.prototype.M=function(){var e=Mc(),t=Mc(),n=Mc();return this.D.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:fs()}})),new Bc(this.C,this.N,e,t,n)},e.prototype.L=function(){this.k=!1,this.D=Gc()},e.prototype.B=function(e,t){this.k=!0,this.D=this.D.insert(e,t)},e.prototype.q=function(e){this.k=!0,this.D=this.D.remove(e)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.k=!0,this.N=!0},e}(),Hc=function(){function e(e){this.W=e,this.G=new Map,this.H=Oc(),this.J=Kc(),this.Y=new Cc(gs)}return e.prototype.X=function(e){for(var t=0,n=e.v;t<n.length;t++){var r=n[t];e.P&&e.P.isFoundDocument()?this.Z(r,e.P):this.tt(r,e.key,e.P)}for(var i=0,o=e.removedTargetIds;i<o.length;i++)r=o[i],this.tt(r,e.key,e.P)},e.prototype.et=function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.nt(n);switch(e.state){case 0:t.st(n)&&r.O(e.resumeToken);break;case 1:r.K(),r.F||r.L(),r.O(e.resumeToken);break;case 2:r.K(),r.F||t.removeTarget(n);break;case 3:t.st(n)&&(r.j(),r.O(e.resumeToken));break;case 4:t.st(n)&&(t.it(n),r.O(e.resumeToken));break;default:fs()}}))},e.prototype.forEachTarget=function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.G.forEach((function(e,r){n.st(r)&&t(r)}))},e.prototype.rt=function(e){var t=e.targetId,n=e.V.count,r=this.ot(t);if(r){var i=r.target;if(uu(i))if(0===n){var o=new Bs(i.path);this.tt(t,o,ru.newNoDocument(o,ws.min()))}else hs(1===n);else this.ct(t)!==n&&(this.it(t),this.Y=this.Y.add(t))}},e.prototype.ut=function(e){var t=this,n=new Map;this.G.forEach((function(r,i){var o=t.ot(i);if(o){if(r.current&&uu(o.target)){var a=new Bs(o.target.path);null!==t.H.get(a)||t.at(i,a)||t.tt(i,a,ru.newNoDocument(a,e))}r.$&&(n.set(i,r.M()),r.L())}}));var r=Mc();this.J.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.ot(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new Uc(e,n,this.Y,this.H,r);return this.H=Oc(),this.J=Kc(),this.Y=new Cc(gs),i},e.prototype.Z=function(e,t){if(this.st(e)){var n=this.at(e,t.key)?2:0;this.nt(e).B(t.key,n),this.H=this.H.insert(t.key,t),this.J=this.J.insert(t.key,this.ht(t.key).add(e))}},e.prototype.tt=function(e,t,n){if(this.st(e)){var r=this.nt(e);this.at(e,t)?r.B(t,1):r.q(t),this.J=this.J.insert(t,this.ht(t).delete(e)),n&&(this.H=this.H.insert(t,n))}},e.prototype.removeTarget=function(e){this.G.delete(e)},e.prototype.ct=function(e){var t=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},e.prototype.U=function(e){this.nt(e).U()},e.prototype.nt=function(e){var t=this.G.get(e);return t||(t=new Wc,this.G.set(e,t)),t},e.prototype.ht=function(e){var t=this.J.get(e);return t||(t=new Cc(gs),this.J=this.J.insert(e,t)),t},e.prototype.st=function(e){var t=null!==this.ot(e);return t||ss("WatchChangeAggregator","Detected inactive target",e),t},e.prototype.ot=function(e){var t=this.G.get(e);return t&&t.F?null:this.W.lt(e)},e.prototype.it=function(e){var t=this;this.G.set(e,new Wc),this.W.getRemoteKeysForTarget(e).forEach((function(n){t.tt(e,n,null)}))},e.prototype.at=function(e,t){return this.W.getRemoteKeysForTarget(e).has(t)},e}();function Kc(){return new Ec(Bs.comparator)}function Gc(){return new Ec(Bs.comparator)}var Yc={asc:"ASCENDING",desc:"DESCENDING"},$c={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Qc=function(e,t){this.databaseId=e,this.I=t};function Xc(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function Jc(e,t){return e.I?t.toBase64():t.toUint8Array()}function Zc(e,t){return Xc(e,t.toTimestamp())}function el(e){return hs(!!e),ws.fromTimestamp(function(e){var t=As(e);return new bs(t.seconds,t.nanos)}(e))}function tl(e,t){return function(e){return new ks(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function nl(e){var t=ks.fromString(e);return hs(Tl(t)),t}function rl(e,t){return tl(e.databaseId,t.path)}function il(e,t){var n=nl(t);if(n.get(1)!==e.databaseId.projectId)throw new is(rs.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new is(rs.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Bs(ul(n))}function ol(e,t){return tl(e.databaseId,t)}function al(e){var t=nl(e);return 4===t.length?ks.emptyPath():ul(t)}function sl(e){return new ks(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function ul(e){return hs(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function cl(e,t,n){return{name:rl(e,t),fields:n.value.mapValue.fields}}function ll(e,t,n){var r=il(e,t.name),i=el(t.updateTime),o=new tu({mapValue:{fields:t.fields}}),a=ru.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function fl(e,t){var n;if(t instanceof hc)n={update:cl(e,t.key,t.value)};else if(t instanceof bc)n={delete:rl(e,t.key)};else if(t instanceof dc)n={update:cl(e,t.key,t.data),updateMask:kl(t.fieldMask)};else{if(!(t instanceof wc))return fs();n={verify:rl(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Yu)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof $u)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Xu)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Zu)return{fieldPath:t.field.canonicalString(),increment:n.A};throw fs()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Zc(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:fs()}(e,t.precondition)),n}function hl(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?ic.updateTime(el(e.updateTime)):void 0!==e.exists?ic.exists(e.exists):ic.none()}(t.currentDocument):ic.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)hs("REQUEST_TIME"===t.setToServerValue),n=new Yu;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new $u(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Xu(i)}else"increment"in t?n=new Zu(e,t.increment):fs();var o=Cs.fromServerFormat(t.fieldPath);return new nc(o,n)}(e,t)})):[];if(t.update){t.update.name;var i=il(e,t.update.name),o=new tu({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(e){var t=e.fieldPaths||[];return new Is(t.map((function(e){return Cs.fromServerFormat(e)})))}(t.updateMask);return new dc(i,o,a,n,r)}return new hc(i,o,n,r)}if(t.delete){var s=il(e,t.delete);return new bc(s,n)}if(t.verify){var u=il(e,t.verify);return new wc(u,n)}return fs()}function dl(e,t){return{documents:[ol(e,t.path)]}}function pl(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=ol(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=ol(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Js(e.value))return{unaryFilter:{field:_l(e.field),op:"IS_NAN"}};if(Xs(e.value))return{unaryFilter:{field:_l(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Js(e.value))return{unaryFilter:{field:_l(e.field),op:"IS_NOT_NAN"}};if(Xs(e.value))return{unaryFilter:{field:_l(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_l(e.field),op:wl(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var o=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:_l(e.field),direction:bl(e.dir)}}(e)}))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(e,t){return e.I||Ls(t)?t:{value:t}}(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=ml(t.startAt)),t.endAt&&(n.structuredQuery.endAt=ml(t.endAt)),n}function vl(e){var t=al(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){hs(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var a=[];n.where&&(a=gl(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new wu(xl(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return Ls(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=yl(n.startAt));var l=null;return n.endAt&&(l=yl(n.endAt)),ku(t,i,s,a,u,"F",c,l)}function gl(e){return e?void 0!==e.unaryFilter?[El(e)]:void 0!==e.fieldFilter?[Sl(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return gl(e)})).reduce((function(e,t){return e.concat(t)})):fs():[]}function ml(e){return{before:e.before,values:e.position}}function yl(e){var t=!!e.before,n=e.values||[];return new yu(n,t)}function bl(e){return Yc[e]}function wl(e){return $c[e]}function _l(e){return{fieldPath:e.canonicalString()}}function xl(e){return Cs.fromServerFormat(e.fieldPath)}function Sl(e){return cu.create(xl(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return fs()}}(e.fieldFilter.op),e.fieldFilter.value)}function El(e){switch(e.unaryFilter.op){case"IS_NAN":var t=xl(e.unaryFilter.field);return cu.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=xl(e.unaryFilter.field);return cu.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=xl(e.unaryFilter.field);return cu.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=xl(e.unaryFilter.field);return cu.create(i,"!=",{nullValue:"NULL_VALUE"});default:return fs()}}function kl(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Tl(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Cl(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Pl(t)),t=Il(e.get(n),t);return Pl(t)}function Il(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function Pl(e){return e+"\x01\x01"}function Ol(e){var t=e.length;if(hs(t>=2),2===t)return hs("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),ks.emptyPath();for(var n=t-2,r=[],i="",o=0;o<t;){var a=e.indexOf("\x01",o);switch((a<0||a>n)&&fs(),e.charAt(a+1)){case"\x01":var s=e.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(o,a),i+="\0";break;case"\x11":i+=e.substring(o,a+1);break;default:fs()}o=a+2}return new ks(r)}var Al=function(e,t){this.seconds=e,this.nanoseconds=t},Dl=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};Dl.store="owner",Dl.key="owner";var Nl=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};Nl.store="mutationQueues",Nl.keyPath="userId";var Rl=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Rl.store="mutations",Rl.keyPath="batchId",Rl.userMutationsIndex="userMutationsIndex",Rl.userMutationsKeyPath=["userId","batchId"];var jl=function(){function e(){}return e.prefixForUser=function(e){return[e]},e.prefixForPath=function(e,t){return[e,Cl(t)]},e.key=function(e,t,n){return[e,Cl(t),n]},e}();jl.store="documentMutations",jl.PLACEHOLDER=new jl;var Ml=function(e,t){this.path=e,this.readTime=t},Ll=function(e,t){this.path=e,this.version=t},Fl=function(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Fl.store="remoteDocuments",Fl.readTimeIndex="readTimeIndex",Fl.readTimeIndexPath="readTime",Fl.collectionReadTimeIndex="collectionReadTimeIndex",Fl.collectionReadTimeIndexPath=["parentPath","readTime"];var Ul=function(e){this.byteSize=e};Ul.store="remoteDocumentGlobal",Ul.key="remoteDocumentGlobalKey";var Bl=function(e,t,n,r,i,o,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};Bl.store="targets",Bl.keyPath="targetId",Bl.queryTargetsIndexName="queryTargetsIndex",Bl.queryTargetsKeyPath=["canonicalId","targetId"];var ql=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};ql.store="targetDocuments",ql.keyPath=["targetId","path"],ql.documentTargetsIndex="documentTargetsIndex",ql.documentTargetsKeyPath=["path","targetId"];var Vl=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Vl.key="targetGlobalKey",Vl.store="targetGlobal";var zl=function(e,t){this.collectionId=e,this.parent=t};zl.store="collectionParents",zl.keyPath=["collectionId","parent"];var Wl=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};Wl.store="clientMetadata",Wl.keyPath="clientId";var Hl=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};Hl.store="bundles",Hl.keyPath="bundleId";var Kl=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};Kl.store="namedQueries",Kl.keyPath="name";var Gl=(0,Fn.__spreadArray)((0,Fn.__spreadArray)([],(0,Fn.__spreadArray)((0,Fn.__spreadArray)([],(0,Fn.__spreadArray)((0,Fn.__spreadArray)([],(0,Fn.__spreadArray)((0,Fn.__spreadArray)([],[Nl.store,Rl.store,jl.store,Fl.store,Bl.store,Dl.store,Vl.store,ql.store]),[Wl.store])),[Ul.store])),[zl.store])),[Hl.store,Kl.store]),Yl="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",$l=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(e){return e()}))},e}(),Ql=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))},Xl=function(){function e(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((function(e){t.isDone=!0,t.result=e,t.nextCallback&&t.nextCallback(e)}),(function(e){t.isDone=!0,t.error=e,t.catchCallback&&t.catchCallback(e)}))}return e.prototype.catch=function(e){return this.next(void 0,e)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&fs(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))},e.prototype.toPromise=function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)},e.resolve=function(t){return new e((function(e,n){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.waitFor=function(t){return new e((function(e,n){var r=0,i=0,o=!1;t.forEach((function(t){++r,t.next((function(){++i,o&&i===r&&e()}),(function(e){return n(e)}))})),o=!0,i===r&&e()}))},e.or=function(t){for(var n=e.resolve(!1),r=function(t){n=n.next((function(n){return n?e.resolve(n):t()}))},i=0,o=t;i<o.length;i++)r(o[i]);return n},e.forEach=function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)},e}(),Jl=function(){function e(e,t){var n=this;this.action=e,this.transaction=t,this.aborted=!1,this.ft=new Ql,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){t.error?n.ft.reject(new tf(e,t.error)):n.ft.resolve()},this.transaction.onerror=function(t){var r=sf(t.target.error);n.ft.reject(new tf(e,r))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new tf(n,t)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(ss("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(e){var t=this.transaction.objectStore(e);return new rf(t)},e}(),Zl=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,12.2===e._t((0,Un.getUA)())&&us("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(e){return ss("SimpleDb","Removing database:",e),of(window.indexedDB.deleteDatabase(e)).toPromise()},e.yt=function(){if("undefined"==typeof indexedDB)return!1;if(e.gt())return!0;var t=(0,Un.getUA)(),n=e._t(t),r=0<n&&n<10,i=e.Et(t),o=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||o)},e.gt=function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.Tt)},e.It=function(e,t){return e.store(t)},e._t=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)},e.Et=function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.At=function(e){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var t,n=this;return(0,Fn.__generator)(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(ss("SimpleDb","Opening database:",this.name),t=this,[4,new Promise((function(t,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(e){var n=e.target.result;t(n)},i.onblocked=function(){r(new tf(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(t){var n=t.target.error;"VersionError"===n.name?r(new is(rs.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new tf(e,n))},i.onupgradeneeded=function(e){ss("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.wt.Rt(t,i.transaction,e.oldVersion,n.version).next((function(){ss("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:t.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(e){return n.bt(e)}),this.db)]}}))}))},e.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})},e.prototype.runTransaction=function(e,t,n,r){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var i,o,a,s,u;return(0,Fn.__generator)(this,(function(c){switch(c.label){case 0:i="readonly"===t,o=0,a=function(){var t,a,u,c,l;return(0,Fn.__generator)(this,(function(f){switch(f.label){case 0:++o,f.label=1;case 1:return f.trys.push([1,4,,5]),[4,s.At(e)];case 2:return s.db=f.sent(),t=Jl.open(s.db,e,i?"readonly":"readwrite",n),a=r(t).catch((function(e){return t.abort(e),Xl.reject(e)})).toPromise(),u={},a.catch((function(){})),[4,t.dt];case 3:return[2,(u.value=(f.sent(),a),u)];case 4:return c=f.sent(),l="FirebaseError"!==c.name&&o<3,ss("SimpleDb","Transaction failed with error:",c.message,"Retrying:",l),s.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},s=this,c.label=1;case 1:return[5,a()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),ef=function(){function e(e){this.Pt=e,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(e){this.St=e},e.prototype.delete=function(){return of(this.Pt.delete())},e}(),tf=function(e){function t(t,n){var r=this;return(r=e.call(this,rs.UNAVAILABLE,"IndexedDB transaction '"+t+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return(0,Fn.__extends)(t,e),t}(is);function nf(e){return"IndexedDbTransactionError"===e.name}var rf=function(){function e(e){this.store=e}return e.prototype.put=function(e,t){var n;return void 0!==t?(ss("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(ss("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),of(n)},e.prototype.add=function(e){return ss("SimpleDb","ADD",this.store.name,e,e),of(this.store.add(e))},e.prototype.get=function(e){var t=this;return of(this.store.get(e)).next((function(n){return void 0===n&&(n=null),ss("SimpleDb","GET",t.store.name,e,n),n}))},e.prototype.delete=function(e){return ss("SimpleDb","DELETE",this.store.name,e),of(this.store.delete(e))},e.prototype.count=function(){return ss("SimpleDb","COUNT",this.store.name),of(this.store.count())},e.prototype.Nt=function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.xt(n,(function(e,t){r.push(t)})).next((function(){return r}))},e.prototype.kt=function(e,t){ss("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Ft=!1;var r=this.cursor(n);return this.xt(r,(function(e,t,n){return n.delete()}))},e.prototype.$t=function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.xt(r,t)},e.prototype.Ot=function(e){var t=this.cursor({});return new Xl((function(n,r){t.onerror=function(e){var t=sf(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))},e.prototype.xt=function(e,t){var n=[];return new Xl((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var o=new ef(i),a=t(i.primaryKey,i.value,o);if(a instanceof Xl){var s=a.catch((function(e){return o.done(),Xl.reject(e)}));n.push(s)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}})).next((function(){return Xl.waitFor(n)}))},e.prototype.options=function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}},e.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Ft?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},e}();function of(e){return new Xl((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=sf(e.target.error);n(t)}}))}var af=!1;function sf(e){var t=Zl._t((0,Un.getUA)());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new is("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return af||(af=!0,setTimeout((function(){throw r}),0)),r}}return e}var uf=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Mt=t,r.currentSequenceNumber=n,r}return(0,Fn.__extends)(t,e),t}($l);function cf(e,t){var n=ds(e);return Zl.It(n.Mt,t)}var lf=function(){function e(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}return e.prototype.applyToRemoteDocument=function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&sc(i,e,n[r])}},e.prototype.applyToLocalView=function(e){for(var t=0,n=this.baseMutations;t<n.length;t++)(o=n[t]).key.isEqual(e.key)&&uc(o,e,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(e.key)&&uc(o,e,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(ws.min())}))},e.prototype.keys=function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Mc())},e.prototype.isEqual=function(e){return this.batchId===e.batchId&&ms(this.mutations,e.mutations,(function(e,t){return lc(e,t)}))&&ms(this.baseMutations,e.baseMutations,(function(e,t){return lc(e,t)}))},e}(),ff=function(){function e(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}return e.from=function(t,n,r){hs(t.mutations.length===r.length);for(var i=Rc(),o=t.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new e(t,n,r,i)},e}(),hf=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=ws.min()),void 0===o&&(o=ws.min()),void 0===a&&(a=Ps.EMPTY_BYTE_STRING),this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),df=function(e){this.Lt=e};function pf(e,t){if(t.document)return ll(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=Bs.fromSegments(t.noDocument.path),r=bf(t.noDocument.readTime),i=ru.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var o=Bs.fromSegments(t.unknownDocument.path);return r=bf(t.unknownDocument.version),ru.newUnknownDocument(o,r)}return fs()}function vf(e,t,n){var r=gf(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var o=function(e,t){return{name:rl(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Xc(e,t.version.toTimestamp())}}(e.Lt,t),a=t.hasCommittedMutations;return new Fl(null,null,o,a,r,i)}if(t.isNoDocument()){var s=t.key.path.toArray(),u=yf(t.version);return a=t.hasCommittedMutations,new Fl(null,new Ml(s,u),null,a,r,i)}if(t.isUnknownDocument()){var c=t.key.path.toArray(),l=yf(t.version);return new Fl(new Ll(c,l),null,null,!0,r,i)}return fs()}function gf(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function mf(e){var t=new bs(e[0],e[1]);return ws.fromTimestamp(t)}function yf(e){var t=e.toTimestamp();return new Al(t.seconds,t.nanoseconds)}function bf(e){var t=new bs(e.seconds,e.nanoseconds);return ws.fromTimestamp(t)}function wf(e,t){for(var n=(t.baseMutations||[]).map((function(t){return hl(e.Lt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var o=t.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var a=t.mutations.map((function(t){return hl(e.Lt,t)})),s=bs.fromMillis(t.localWriteTimeMs);return new lf(t.batchId,s,n,a)}function _f(e){var t,n,r=bf(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?bf(e.lastLimboFreeSnapshotVersion):ws.min();return void 0!==e.query.documents?(hs(1===(n=e.query).documents.length),t=Nu(Tu(al(n.documents[0])))):t=function(e){return Nu(vl(e))}(e.query),new hf(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Ps.fromBase64String(e.resumeToken))}function xf(e,t){var n,r=yf(t.snapshotVersion),i=yf(t.lastLimboFreeSnapshotVersion);n=uu(t.target)?dl(e.Lt,t.target):pl(e.Lt,t.target);var o=t.resumeToken.toBase64();return new Bl(t.targetId,au(t.target),r,o,t.sequenceNumber,i,n)}function Sf(e){var t=vl({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Ru(t,t.limit,"L"):t}var Ef=function(){function e(){}return e.prototype.getBundleMetadata=function(e,t){return kf(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:bf(t.createTime),version:t.version};var t}))},e.prototype.saveBundleMetadata=function(e,t){return kf(e).put({bundleId:(n=t).id,createTime:yf(el(n.createTime)),version:n.version});var n},e.prototype.getNamedQuery=function(e,t){return Tf(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Sf(t.bundledQuery),readTime:bf(t.readTime)};var t}))},e.prototype.saveNamedQuery=function(e,t){return Tf(e).put(function(e){return{name:e.name,readTime:yf(el(e.readTime)),bundledQuery:e.bundledQuery}}(t))},e}();function kf(e){return cf(e,Hl.store)}function Tf(e){return cf(e,Kl.store)}var Cf=function(){function e(){this.Bt=new If}return e.prototype.addToCollectionParentIndex=function(e,t){return this.Bt.add(t),Xl.resolve()},e.prototype.getCollectionParents=function(e,t){return Xl.resolve(this.Bt.getEntries(t))},e}(),If=function(){function e(){this.index={}}return e.prototype.add=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Cc(ks.comparator),i=!r.has(n);return this.index[t]=r.add(n),i},e.prototype.has=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)},e.prototype.getEntries=function(e){return(this.index[e]||new Cc(ks.comparator)).toArray()},e}(),Pf=function(){function e(){this.qt=new If}return e.prototype.addToCollectionParentIndex=function(e,t){var n=this;if(!this.qt.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.qt.add(t)}));var o={collectionId:r,parent:Cl(i)};return Of(e).put(o)}return Xl.resolve()},e.prototype.getCollectionParents=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[ys(t),""],!1,!0);return Of(e).Nt(r).next((function(e){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.collectionId!==t)break;n.push(Ol(o.parent))}return n}))},e}();function Of(e){return cf(e,zl.store)}var Af={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Df=function(){function e(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();function Nf(e,t,n){var r=e.store(Rl.store),i=e.store(jl.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.$t({range:a},(function(e,t,n){return s++,n.delete()}));o.push(u.next((function(){hs(1===s)})));for(var c=[],l=0,f=n.mutations;l<f.length;l++){var h=f[l],d=jl.key(t,h.key.path,n.batchId);o.push(i.delete(d)),c.push(h.key)}return Xl.waitFor(o).next((function(){return c}))}function Rf(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw fs();t=e.noDocument}return JSON.stringify(t).length}Df.DEFAULT_COLLECTION_PERCENTILE=10,Df.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Df.DEFAULT=new Df(41943040,Df.DEFAULT_COLLECTION_PERCENTILE,Df.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Df.DISABLED=new Df(-1,0,0);var jf=function(){function e(e,t,n,r){this.userId=e,this.R=t,this.Ut=n,this.referenceDelegate=r,this.Kt={}}return e.Qt=function(t,n,r,i){return hs(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Lf(e).$t({index:Rl.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))},e.prototype.addMutationBatch=function(e,t,n,r){var i=this,o=Ff(e),a=Lf(e);return a.add({}).next((function(s){hs("number"==typeof s);for(var u=new lf(s,t,n,r),c=function(e,t,n){var r=n.baseMutations.map((function(t){return fl(e.Lt,t)})),i=n.mutations.map((function(t){return fl(e.Lt,t)}));return new Rl(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],f=new Cc((function(e,t){return gs(e.canonicalString(),t.canonicalString())})),h=0,d=r;h<d.length;h++){var p=d[h],v=jl.key(i.userId,p.key.path,s);f=f.add(p.key.path.popLast()),l.push(a.put(c)),l.push(o.put(v,jl.PLACEHOLDER))}return f.forEach((function(t){l.push(i.Ut.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Kt[s]=u.keys()})),Xl.waitFor(l).next((function(){return u}))}))},e.prototype.lookupMutationBatch=function(e,t){var n=this;return Lf(e).get(t).next((function(e){return e?(hs(e.userId===n.userId),wf(n.R,e)):null}))},e.prototype.jt=function(e,t){var n=this;return this.Kt[t]?Xl.resolve(this.Kt[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Kt[t]=r,r}return null}))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Lf(e).$t({index:Rl.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(hs(t.batchId>=r),o=wf(n.R,t)),i.done()})).next((function(){return o}))},e.prototype.getHighestUnacknowledgedBatchId=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Lf(e).$t({index:Rl.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))},e.prototype.getAllMutationBatches=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Lf(e).Nt(Rl.userMutationsIndex,n).next((function(e){return e.map((function(e){return wf(t.R,e)}))}))},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=jl.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return Ff(e).$t({range:i},(function(r,i,a){var s=r[0],u=r[1],c=r[2],l=Ol(u);if(s===n.userId&&t.path.isEqual(l))return Lf(e).get(c).next((function(e){if(!e)throw fs();hs(e.userId===n.userId),o.push(wf(n.R,e))}));a.done()})).next((function(){return o}))},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new Cc(gs),i=[];return t.forEach((function(t){var o=jl.prefixForPath(n.userId,t.path),a=IDBKeyRange.lowerBound(o),s=Ff(e).$t({range:a},(function(e,i,o){var a=e[0],s=e[1],u=e[2],c=Ol(s);a===n.userId&&t.path.isEqual(c)?r=r.add(u):o.done()}));i.push(s)})),Xl.waitFor(i).next((function(){return n.Wt(e,r)}))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this,r=t.path,i=r.length+1,o=jl.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new Cc(gs);return Ff(e).$t({range:a},(function(e,t,o){var a=e[0],u=e[1],c=e[2],l=Ol(u);a===n.userId&&r.isPrefixOf(l)?l.length===i&&(s=s.add(c)):o.done()})).next((function(){return n.Wt(e,s)}))},e.prototype.Wt=function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Lf(e).get(t).next((function(e){if(null===e)throw fs();hs(e.userId===n.userId),r.push(wf(n.R,e))})))})),Xl.waitFor(i).next((function(){return r}))},e.prototype.removeMutationBatch=function(e,t){var n=this;return Nf(e.Mt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Gt(t.batchId)})),Xl.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))},e.prototype.Gt=function(e){delete this.Kt[e]},e.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Xl.resolve();var r=IDBKeyRange.lowerBound(jl.prefixForUser(t.userId)),i=[];return Ff(e).$t({range:r},(function(e,n,r){if(e[0]===t.userId){var o=Ol(e[1]);i.push(o)}else r.done()})).next((function(){hs(0===i.length)}))}))},e.prototype.containsKey=function(e,t){return Mf(e,this.userId,t)},e.prototype.zt=function(e){var t=this;return Uf(e).get(this.userId).next((function(e){return e||new Nl(t.userId,-1,"")}))},e}();function Mf(e,t,n){var r=jl.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return Ff(e).$t({range:o,Ft:!0},(function(e,n,r){var o=e[0],s=e[1];e[2],o===t&&s===i&&(a=!0),r.done()})).next((function(){return a}))}function Lf(e){return cf(e,Rl.store)}function Ff(e){return cf(e,jl.store)}function Uf(e){return cf(e,Nl.store)}var Bf=function(){function e(e){this.Ht=e}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),qf=function(){function e(e,t){this.referenceDelegate=e,this.R=t}return e.prototype.allocateTargetId=function(e){var t=this;return this.Xt(e).next((function(n){var r=new Bf(n.highestTargetId);return n.highestTargetId=r.next(),t.Zt(e,n).next((function(){return n.highestTargetId}))}))},e.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next((function(e){return ws.fromTimestamp(new bs(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))},e.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next((function(e){return e.highestListenSequenceNumber}))},e.prototype.setTargetsMetadata=function(e,t,n){var r=this;return this.Xt(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Zt(e,i)}))},e.prototype.addTargetData=function(e,t){var n=this;return this.te(e,t).next((function(){return n.Xt(e).next((function(r){return r.targetCount+=1,n.ee(t,r),n.Zt(e,r)}))}))},e.prototype.updateTargetData=function(e,t){return this.te(e,t)},e.prototype.removeTargetData=function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Vf(e).delete(t.targetId)})).next((function(){return n.Xt(e)})).next((function(t){return hs(t.targetCount>0),t.targetCount-=1,n.Zt(e,t)}))},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return Vf(e).$t((function(a,s){var u=_f(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(e,u)))})).next((function(){return Xl.waitFor(o)})).next((function(){return i}))},e.prototype.forEachTarget=function(e,t){return Vf(e).$t((function(e,n){var r=_f(n);t(r)}))},e.prototype.Xt=function(e){return zf(e).get(Vl.key).next((function(e){return hs(null!==e),e}))},e.prototype.Zt=function(e,t){return zf(e).put(Vl.key,t)},e.prototype.te=function(e,t){return Vf(e).put(xf(this.R,t))},e.prototype.ee=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},e.prototype.getTargetCount=function(e){return this.Xt(e).next((function(e){return e.targetCount}))},e.prototype.getTargetData=function(e,t){var n=au(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Vf(e).$t({range:r,index:Bl.queryTargetsIndexName},(function(e,n,r){var o=_f(n);su(t,o.target)&&(i=o,r.done())})).next((function(){return i}))},e.prototype.addMatchingKeys=function(e,t,n){var r=this,i=[],o=Wf(e);return t.forEach((function(t){var a=Cl(t.path);i.push(o.put(new ql(n,a))),i.push(r.referenceDelegate.addReference(e,n,t))})),Xl.waitFor(i)},e.prototype.removeMatchingKeys=function(e,t,n){var r=this,i=Wf(e);return Xl.forEach(t,(function(t){var o=Cl(t.path);return Xl.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(e,n,t)])}))},e.prototype.removeMatchingKeysForTargetId=function(e,t){var n=Wf(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Wf(e),i=Mc();return r.$t({range:n,Ft:!0},(function(e,t,n){var r=Ol(e[1]),o=new Bs(r);i=i.add(o)})).next((function(){return i}))},e.prototype.containsKey=function(e,t){var n=Cl(t.path),r=IDBKeyRange.bound([n],[ys(n)],!1,!0),i=0;return Wf(e).$t({index:ql.documentTargetsIndex,Ft:!0,range:r},(function(e,t,n){var r=e[0];e[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},e.prototype.lt=function(e,t){return Vf(e).get(t).next((function(e){return e?_f(e):null}))},e}();function Vf(e){return cf(e,Bl.store)}function zf(e){return cf(e,Vl.store)}function Wf(e){return cf(e,ql.store)}function Hf(e){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){return(0,Fn.__generator)(this,(function(t){if(e.code!==rs.FAILED_PRECONDITION||e.message!==Yl)throw e;return ss("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function Kf(e,t){var n=e[0],r=e[1],i=t[0],o=t[1],a=gs(n,i);return 0===a?gs(r,o):a}var Gf=function(){function e(e){this.ne=e,this.buffer=new Cc(Kf),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(e){var t=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Kf(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),Yf=function(){function e(e,t){this.garbageCollector=e,this.asyncQueue=t,this.oe=!1,this.ce=null}return e.prototype.start=function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(e)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),e.prototype.ue=function(e){var t=this,n=this.oe?3e5:6e4;ss("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return(0,Fn.__awaiter)(t,void 0,void 0,(function(){var t;return(0,Fn.__generator)(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return nf(t=n.sent())?(ss("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t),[3,6]):[3,4];case 4:return[4,Hf(t)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return n.sent(),[2]}}))}))}))},e}(),$f=function(){function e(e,t){this.ae=e,this.params=t}return e.prototype.calculateTargetCount=function(e,t){return this.ae.he(e).next((function(e){return Math.floor(t/100*e)}))},e.prototype.nthSequenceNumber=function(e,t){var n=this;if(0===t)return Xl.resolve(ns.o);var r=new Gf(t);return this.ae.forEachTarget(e,(function(e){return r.re(e.sequenceNumber)})).next((function(){return n.ae.le(e,(function(e){return r.re(e)}))})).next((function(){return r.maxValue}))},e.prototype.removeTargets=function(e,t,n){return this.ae.removeTargets(e,t,n)},e.prototype.removeOrphanedDocuments=function(e,t){return this.ae.removeOrphanedDocuments(e,t)},e.prototype.collect=function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(ss("LruGarbageCollector","Garbage collection skipped; disabled"),Xl.resolve(Af)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(ss("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Af):n.fe(e,t)}))},e.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},e.prototype.fe=function(e,t){var n,r,i,o,a,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(ss("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+t),r=c.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,a=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),as()<=Bn.LogLevel.DEBUG&&ss("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+e+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-l)+"ms"),Xl.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))},e}(),Qf=function(){function e(e,t){this.db=e,this.garbageCollector=function(e,t){return new $f(e,t)}(this,t)}return e.prototype.he=function(e){var t=this.de(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))},e.prototype.de=function(e){var t=0;return this.le(e,(function(e){t++})).next((function(){return t}))},e.prototype.forEachTarget=function(e,t){return this.db.getTargetCache().forEachTarget(e,t)},e.prototype.le=function(e,t){return this.we(e,(function(e,n){return t(n)}))},e.prototype.addReference=function(e,t,n){return Xf(e,n)},e.prototype.removeReference=function(e,t,n){return Xf(e,n)},e.prototype.removeTargets=function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)},e.prototype.markPotentiallyOrphaned=function(e,t){return Xf(e,t)},e.prototype._e=function(e,t){return function(e,t){var n=!1;return Uf(e).Ot((function(r){return Mf(e,r,t).next((function(e){return e&&(n=!0),Xl.resolve(!e)}))})).next((function(){return n}))}(e,t)},e.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(e,(function(a,s){if(s<=t){var u=n._e(e,a).next((function(t){if(!t)return o++,r.getEntry(e,a).next((function(){return r.removeEntry(a),Wf(e).delete([0,Cl(a.path)])}))}));i.push(u)}})).next((function(){return Xl.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return o}))},e.prototype.removeTarget=function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)},e.prototype.updateLimboDocument=function(e,t){return Xf(e,t)},e.prototype.we=function(e,t){var n,r=Wf(e),i=ns.o;return r.$t({index:ql.documentTargetsIndex},(function(e,r){var o=e[0];e[1];var a=r.path,s=r.sequenceNumber;0===o?(i!==ns.o&&t(new Bs(Ol(n)),i),i=s,n=a):i=ns.o})).next((function(){i!==ns.o&&t(new Bs(Ol(n)),i)}))},e.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},e}();function Xf(e,t){return Wf(e).put(function(e,t){return new ql(0,Cl(e.path),t)}(t,e.currentSequenceNumber))}var Jf=function(){function e(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}return e.prototype.get=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(this.equalsFn(a,e))return s}},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.set=function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]},e.prototype.delete=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1},e.prototype.forEach=function(e){xs(this.inner,(function(t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];e(a,s)}}))},e.prototype.isEmpty=function(){return Ss(this.inner)},e}(),Zf=function(){function e(){this.changes=new Jf((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return e.prototype.getReadTime=function(e){var t=this.changes.get(e);return t?t.readTime:ws.min()},e.prototype.addEntry=function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})},e.prototype.removeEntry=function(e,t){void 0===t&&(t=null),this.assertNotApplied(),this.changes.set(e,{document:ru.newInvalidDocument(e),readTime:t})},e.prototype.getEntry=function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Xl.resolve(n.document):this.getFromCache(e,t)},e.prototype.getEntries=function(e,t){return this.getAllFromCache(e,t)},e.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},e.prototype.assertNotApplied=function(){},e}(),eh=function(){function e(e,t){this.R=e,this.Ut=t}return e.prototype.addEntry=function(e,t,n){return rh(e).put(ih(t),n)},e.prototype.removeEntry=function(e,t){var n=rh(e),r=ih(t);return n.delete(r)},e.prototype.updateMetadata=function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.me(e,r)}))},e.prototype.getEntry=function(e,t){var n=this;return rh(e).get(ih(t)).next((function(e){return n.ye(t,e)}))},e.prototype.ge=function(e,t){var n=this;return rh(e).get(ih(t)).next((function(e){return{document:n.ye(t,e),size:Rf(e)}}))},e.prototype.getEntries=function(e,t){var n=this,r=Oc();return this.pe(e,t,(function(e,t){var i=n.ye(e,t);r=r.insert(e,i)})).next((function(){return r}))},e.prototype.Ee=function(e,t){var n=this,r=Oc(),i=new Ec(Bs.comparator);return this.pe(e,t,(function(e,t){var o=n.ye(e,t);r=r.insert(e,o),i=i.insert(e,Rf(t))})).next((function(){return{documents:r,Te:i}}))},e.prototype.pe=function(e,t,n){if(t.isEmpty())return Xl.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),o=i.getNext();return rh(e).$t({range:r},(function(e,t,r){for(var a=Bs.fromSegments(e);o&&Bs.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,t),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){var r=this,i=Oc(),o=t.path.length+1,a={};if(n.isEqual(ws.min())){var s=t.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var u=t.path.toArray(),c=gf(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=Fl.collectionReadTimeIndex}return rh(e).$t(a,(function(e,n,a){if(e.length===o){var s=pf(r.R,n);t.path.isPrefixOf(s.key.path)?Fu(t,s)&&(i=i.insert(s.key,s)):a.done()}})).next((function(){return i}))},e.prototype.newChangeBuffer=function(e){return new th(this,!!e&&e.trackRemovals)},e.prototype.getSize=function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))},e.prototype.getMetadata=function(e){return nh(e).get(Ul.key).next((function(e){return hs(!!e),e}))},e.prototype.me=function(e,t){return nh(e).put(Ul.key,t)},e.prototype.ye=function(e,t){if(t){var n=pf(this.R,t);if(!n.isNoDocument()||!n.version.isEqual(ws.min()))return n}return ru.newInvalidDocument(e)},e}(),th=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Ie=t,r.trackRemovals=n,r.Ae=new Jf((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),r}return(0,Fn.__extends)(t,e),t.prototype.applyChanges=function(e){var t=this,n=[],r=0,i=new Cc((function(e,t){return gs(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(o,a){var s=t.Ae.get(o);if(a.document.isValidDocument()){var u=vf(t.Ie.R,a.document,t.getReadTime(o));i=i.add(o.path.popLast());var c=Rf(u);r+=c-s,n.push(t.Ie.addEntry(e,o,u))}else if(r-=s,t.trackRemovals){var l=vf(t.Ie.R,ru.newNoDocument(o,ws.min()),t.getReadTime(o));n.push(t.Ie.addEntry(e,o,l))}else n.push(t.Ie.removeEntry(e,o))})),i.forEach((function(r){n.push(t.Ie.Ut.addToCollectionParentIndex(e,r))})),n.push(this.Ie.updateMetadata(e,r)),Xl.waitFor(n)},t.prototype.getFromCache=function(e,t){var n=this;return this.Ie.ge(e,t).next((function(e){return n.Ae.set(t,e.size),e.document}))},t.prototype.getAllFromCache=function(e,t){var n=this;return this.Ie.Ee(e,t).next((function(e){var t=e.documents;return e.Te.forEach((function(e,t){n.Ae.set(e,t)})),t}))},t}(Zf);function nh(e){return cf(e,Ul.store)}function rh(e){return cf(e,Fl.store)}function ih(e){return e.path.toArray()}var oh=function(){function e(e){this.R=e}return e.prototype.Rt=function(e,t,n,r){var i=this;hs(n<r&&n>=0&&r<=11);var o=new Jl("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(Dl.store)}(e),function(e){e.createObjectStore(Nl.store,{keyPath:Nl.keyPath}),e.createObjectStore(Rl.store,{keyPath:Rl.keyPath,autoIncrement:!0}).createIndex(Rl.userMutationsIndex,Rl.userMutationsKeyPath,{unique:!0}),e.createObjectStore(jl.store)}(e),ah(e),function(e){e.createObjectStore(Fl.store)}(e));var a=Xl.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(ql.store),e.deleteObjectStore(Bl.store),e.deleteObjectStore(Vl.store)}(e),ah(e)),a=a.next((function(){return function(e){var t=e.store(Vl.store),n=new Vl(0,0,ws.min().toTimestamp(),0);return t.put(Vl.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(e,t){return t.store(Rl.store).Nt().next((function(n){e.deleteObjectStore(Rl.store),e.createObjectStore(Rl.store,{keyPath:Rl.keyPath,autoIncrement:!0}).createIndex(Rl.userMutationsIndex,Rl.userMutationsKeyPath,{unique:!0});var r=t.store(Rl.store),i=n.map((function(e){return r.put(e)}));return Xl.waitFor(i)}))}(e,o)}))),a=a.next((function(){!function(e){e.createObjectStore(Wl.store,{keyPath:Wl.keyPath})}(e)}))),n<5&&r>=5&&(a=a.next((function(){return i.Re(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(e){e.createObjectStore(Ul.store)}(e),i.be(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.ve(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.Pe(e,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(Fl.store);t.createIndex(Fl.readTimeIndex,Fl.readTimeIndexPath,{unique:!1}),t.createIndex(Fl.collectionReadTimeIndex,Fl.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(a=a.next((function(){return i.Ve(o)}))),n<11&&r>=11&&(a=a.next((function(){!function(e){e.createObjectStore(Hl.store,{keyPath:Hl.keyPath})}(e),function(e){e.createObjectStore(Kl.store,{keyPath:Kl.keyPath})}(e)}))),a},e.prototype.be=function(e){var t=0;return e.store(Fl.store).$t((function(e,n){t+=Rf(n)})).next((function(){var n=new Ul(t);return e.store(Ul.store).put(Ul.key,n)}))},e.prototype.Re=function(e){var t=this,n=e.store(Nl.store),r=e.store(Rl.store);return n.Nt().next((function(n){return Xl.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(Rl.userMutationsIndex,i).next((function(r){return Xl.forEach(r,(function(r){hs(r.userId===n.userId);var i=wf(t.R,r);return Nf(e,n.userId,i).next((function(){}))}))}))}))}))},e.prototype.ve=function(e){var t=e.store(ql.store),n=e.store(Fl.store);return e.store(Vl.store).get(Vl.key).next((function(e){var r=[];return n.$t((function(n,i){var o=new ks(n),a=function(e){return[0,Cl(e)]}(o);r.push(t.get(a).next((function(n){return n?Xl.resolve():function(n){return t.put(new ql(0,Cl(n),e.highestListenSequenceNumber))}(o)})))})).next((function(){return Xl.waitFor(r)}))}))},e.prototype.Pe=function(e,t){e.createObjectStore(zl.store,{keyPath:zl.keyPath});var n=t.store(zl.store),r=new If,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Cl(i)})}};return t.store(Fl.store).$t({Ft:!0},(function(e,t){var n=new ks(e);return i(n.popLast())})).next((function(){return t.store(jl.store).$t({Ft:!0},(function(e,t){e[0];var n=e[1];e[2];var r=Ol(n);return i(r.popLast())}))}))},e.prototype.Ve=function(e){var t=this,n=e.store(Bl.store);return n.$t((function(e,r){var i=_f(r),o=xf(t.R,i);return n.put(o)}))},e}();function ah(e){e.createObjectStore(ql.store,{keyPath:ql.keyPath}).createIndex(ql.documentTargetsIndex,ql.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Bl.store,{keyPath:Bl.keyPath}).createIndex(Bl.queryTargetsIndexName,Bl.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Vl.store)}var sh="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",uh=function(){function e(t,n,r,i,o,a,s,u,c,l){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=a,this.document=s,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(e){return Promise.resolve()},!e.yt())throw new is(rs.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Qf(this,i),this.Le=n+"main",this.R=new df(u),this.Be=new Zl(this.Le,11,new oh(this.R)),this.qe=new qf(this.referenceDelegate,this.R),this.Ut=new Pf,this.Ue=function(e,t){return new eh(e,t)}(this.R,this.Ut),this.Ke=new Ef,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===l&&us("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var e=this;return this.je().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new is(rs.FAILED_PRECONDITION,sh);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.qe.getHighestSequenceNumber(t)}))})).then((function(t){e.Ne=new ns(t,e.De)})).then((function(){e.xe=!0})).catch((function(t){return e.Be&&e.Be.close(),Promise.reject(t)}))},e.prototype.He=function(e){var t=this;return this.Me=function(n){return(0,Fn.__awaiter)(t,void 0,void 0,(function(){return(0,Fn.__generator)(this,(function(t){return this.started?[2,e(n)]:[2]}))}))},e(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(e){var t=this;this.Be.vt((function(n){return(0,Fn.__awaiter)(t,void 0,void 0,(function(){return(0,Fn.__generator)(this,(function(t){switch(t.label){case 0:return null===n.newVersion?[4,e()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))},e.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget((function(){return(0,Fn.__awaiter)(t,void 0,void 0,(function(){return(0,Fn.__generator)(this,(function(e){switch(e.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))})))},e.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return lh(t).put(new Wl(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.Je(t).next((function(t){t||(e.isPrimary=!1,e.Se.enqueueRetryable((function(){return e.Me(!1)})))}))})).next((function(){return e.Ye(t)})).next((function(n){return e.isPrimary&&!n?e.Xe(t).next((function(){return!1})):!!n&&e.Ze(t).next((function(){return!0}))}))})).catch((function(t){if(nf(t))return ss("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return ss("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Se.enqueueRetryable((function(){return e.Me(t)})),e.isPrimary=t}))},e.prototype.Je=function(e){var t=this;return ch(e).get(Dl.key).next((function(e){return Xl.resolve(t.tn(e))}))},e.prototype.en=function(e){return lh(e).delete(this.clientId)},e.prototype.nn=function(){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var e,t,n,r,i=this;return(0,Fn.__generator)(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=cf(e,Wl.store);return t.Nt().next((function(e){var n=i.rn(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Xl.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=o.sent(),this.Qe)for(t=0,n=e;t<n.length;t++)r=n[t],this.Qe.removeItem(this.on(r.clientId));o.label=2;case 2:return[2]}}))}))},e.prototype.ze=function(){var e=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.je().then((function(){return e.nn()})).then((function(){return e.ze()}))}))},e.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},e.prototype.Ye=function(e){var t=this;return this.Ce?Xl.resolve(!0):ch(e).get(Dl.key).next((function(n){if(null!==n&&t.sn(n.leaseTimestampMs,5e3)&&!t.cn(n.ownerId)){if(t.tn(n)&&t.networkEnabled)return!0;if(!t.tn(n)){if(!n.allowTabSynchronization)throw new is(rs.FAILED_PRECONDITION,sh);return!1}}return!(!t.networkEnabled||!t.inForeground)||lh(e).Nt().next((function(e){return void 0===t.rn(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&ss("IndexedDbPersistence","Client "+(e?"is":"is not")+" eligible for a primary lease."),e}))},e.prototype.shutdown=function(){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var e=this;return(0,Fn.__generator)(this,(function(t){switch(t.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Dl.store,Wl.store],(function(t){var n=new uf(t,ns.o);return e.Xe(n).next((function(){return e.en(n)}))}))];case 1:return t.sent(),this.Be.close(),this.ln(),[2]}}))}))},e.prototype.rn=function(e,t){var n=this;return e.filter((function(e){return n.sn(e.updateTimeMs,t)&&!n.cn(e.clientId)}))},e.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return lh(t).Nt().next((function(t){return e.rn(t,18e5).map((function(e){return e.clientId}))}))}))},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(e){return jf.Qt(e,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(e,t,n){var r=this;ss("IndexedDbPersistence","Starting transaction:",e);var i,o="readonly"===t?"readonly":"readwrite";return this.Be.runTransaction(e,o,Gl,(function(o){return i=new uf(o,r.Ne?r.Ne.next():ns.o),"readwrite-primary"===t?r.Je(i).next((function(e){return!!e||r.Ye(i)})).next((function(t){if(!t)throw us("Failed to obtain primary lease for action '"+e+"'."),r.isPrimary=!1,r.Se.enqueueRetryable((function(){return r.Me(!1)})),new is(rs.FAILED_PRECONDITION,Yl);return n(i)})).next((function(e){return r.Ze(i).next((function(){return e}))})):r.dn(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.dn=function(e){var t=this;return ch(e).get(Dl.key).next((function(e){if(null!==e&&t.sn(e.leaseTimestampMs,5e3)&&!t.cn(e.ownerId)&&!t.tn(e)&&!(t.Ce||t.allowTabSynchronization&&e.allowTabSynchronization))throw new is(rs.FAILED_PRECONDITION,sh)}))},e.prototype.Ze=function(e){var t=new Dl(this.clientId,this.allowTabSynchronization,Date.now());return ch(e).put(Dl.key,t)},e.yt=function(){return Zl.yt()},e.prototype.Xe=function(e){var t=this,n=ch(e);return n.get(Dl.key).next((function(e){return t.tn(e)?(ss("IndexedDbPersistence","Releasing primary lease."),n.delete(Dl.key)):Xl.resolve()}))},e.prototype.sn=function(e,t){var n=Date.now();return!(e<n-t||e>n&&(us("Detected an update time that is in the future: "+e+" > "+n),1))},e.prototype.We=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fe=function(){e.Se.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.je()}))},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground="visible"===this.document.visibilityState)},e.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},e.prototype.Ge=function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ke=function(){t.un(),(0,Un.isSafari)()&&navigator.appVersion.match("Version/14")&&t.Se.enterRestrictedMode(!0),t.Se.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ke))},e.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},e.prototype.cn=function(e){var t;try{var n=null!==(null===(t=this.Qe)||void 0===t?void 0:t.getItem(this.on(e)));return ss("IndexedDbPersistence","Client '"+e+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(e){return us("IndexedDbPersistence","Failed to get zombied client id.",e),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(e){us("Failed to set zombie client id.",e)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(e){}},e.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},e}();function ch(e){return cf(e,Dl.store)}function lh(e){return cf(e,Wl.store)}function fh(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var hh=function(e,t){this.progress=e,this.wn=t},dh=function(){function e(e,t,n){this.Ue=e,this._n=t,this.Ut=n}return e.prototype.mn=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.yn(e,t,r)}))},e.prototype.yn=function(e,t,n){return this.Ue.getEntry(e,t).next((function(e){for(var t=0,r=n;t<r.length;t++)r[t].applyToLocalView(e);return e}))},e.prototype.gn=function(e,t){e.forEach((function(e,n){for(var r=0,i=t;r<i.length;r++)i[r].applyToLocalView(n)}))},e.prototype.pn=function(e,t){var n=this;return this.Ue.getEntries(e,t).next((function(t){return n.En(e,t).next((function(){return t}))}))},e.prototype.En=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.gn(t,e)}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){return function(e){return Bs.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Tn(e,t.path):Au(t)?this.In(e,t,n):this.An(e,t,n)},e.prototype.Tn=function(e,t){return this.mn(e,new Bs(t)).next((function(e){var t=Dc();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))},e.prototype.In=function(e,t,n){var r=this,i=t.collectionGroup,o=Dc();return this.Ut.getCollectionParents(e,i).next((function(a){return Xl.forEach(a,(function(a){var s=function(e,t){return new Eu(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return r.An(e,s,n).next((function(e){e.forEach((function(e,t){o=o.insert(e,t)}))}))})).next((function(){return o}))}))},e.prototype.An=function(e,t,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i=t,o.Rn(e,i,r).next((function(e){r=e;for(var t=0,n=i;t<n.length;t++)for(var o=n[t],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=r.get(c);null==l&&(l=ru.newInvalidDocument(c),r=r.insert(c,l)),uc(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}))})).next((function(){return r.forEach((function(e,n){Fu(t,n)||(r=r.remove(e))})),r}))},e.prototype.Rn=function(e,t,n){for(var r=Mc(),i=0,o=t;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof dc&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(e,r).next((function(e){return e.forEach((function(e,t){t.isFoundDocument()&&(c=c.insert(e,t))})),c}))},e}(),ph=function(){function e(e,t,n,r){this.targetId=e,this.fromCache=t,this.bn=n,this.vn=r}return e.Pn=function(t,n){for(var r=Mc(),i=Mc(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),vh=function(){function e(){}return e.prototype.Vn=function(e){this.Sn=e},e.prototype.getDocumentsMatchingQuery=function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(ws.min())?this.Dn(e,t):this.Sn.pn(e,r).next((function(o){var a=i.Cn(t,o);return(Cu(t)||Iu(t))&&i.Nn(t.limitType,a,r,n)?i.Dn(e,t):(as()<=Bn.LogLevel.DEBUG&&ss("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Lu(t)),i.Sn.getDocumentsMatchingQuery(e,t,n).next((function(e){return a.forEach((function(t){e=e.insert(t.key,t)})),e})))}))},e.prototype.Cn=function(e,t){var n=new Cc(Uu(e));return t.forEach((function(t,r){Fu(e,r)&&(n=n.add(r))})),n},e.prototype.Nn=function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},e.prototype.Dn=function(e,t){return as()<=Bn.LogLevel.DEBUG&&ss("QueryEngine","Using full collection scan to execute query:",Lu(t)),this.Sn.getDocumentsMatchingQuery(e,t,ws.min())},e}(),gh=function(){function e(e,t,n,r){this.persistence=e,this.xn=t,this.R=r,this.kn=new Ec(gs),this.Fn=new Jf((function(e){return au(e)}),su),this.$n=ws.min(),this._n=e.getMutationQueue(n),this.On=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new dh(this.On,this._n,this.persistence.getIndexManager()),this.Ke=e.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.kn)}))},e}();function mh(e,t,n,r){return new gh(e,t,n,r)}function yh(e,t){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o;return(0,Fn.__generator)(this,(function(a){switch(a.label){case 0:return n=ds(e),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(e){var o;return n._n.getAllMutationBatches(e).next((function(a){return o=a,r=n.persistence.getMutationQueue(t),i=new dh(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e)})).next((function(t){for(var n=[],r=[],a=Mc(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,f=c.mutations;l<f.length;l++){var h=f[l];a=a.add(h.key)}}for(var d=0,p=t;d<p.length;d++){var v=p[d];r.push(v.batchId);for(var g=0,m=v.mutations;g<m.length;g++){var y=m[g];a=a.add(y.key)}}return i.pn(e,a).next((function(e){return{Ln:e,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return o=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}}))}))}function bh(e,t){var n=ds(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,o=i.keys(),a=Xl.resolve();return o.forEach((function(e){a=a.next((function(){return r.getEntry(t,e)})).next((function(t){var o=n.docVersions.get(e);hs(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),a.next((function(){return e._n.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,r)}))}))}function wh(e){var t=ds(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.qe.getLastRemoteSnapshotVersion(e)}))}function _h(e,t){var n=ds(e),r=t.snapshotVersion,i=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.kn;var a=[];t.targetChanges.forEach((function(t,o){var s=i.get(o);if(s){a.push(n.qe.removeMatchingKeys(e,t.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(e,t.addedDocuments,o)})));var u=t.resumeToken;if(u.approximateByteSize()>0){var c=s.withResumeToken(u,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(o,c),function(e,t,n){return hs(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(s,c,t)&&a.push(n.qe.updateTargetData(e,c))}}}));var s=Oc();if(t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(xh(e,o,t.documentUpdates,r,void 0).next((function(e){s=e}))),!r.isEqual(ws.min())){var u=n.qe.getLastRemoteSnapshotVersion(e).next((function(t){return n.qe.setTargetsMetadata(e,e.currentSequenceNumber,r)}));a.push(u)}return Xl.waitFor(a).next((function(){return o.apply(e)})).next((function(){return n.Mn.En(e,s)})).next((function(){return s}))})).then((function(e){return n.kn=i,e}))}function xh(e,t,n,r,i){var o=Mc();return n.forEach((function(e){return o=o.add(e)})),t.getEntries(e,o).next((function(e){var o=Oc();return n.forEach((function(n,a){var s=e.get(n),u=(null==i?void 0:i.get(n))||r;a.isNoDocument()&&a.version.isEqual(ws.min())?(t.removeEntry(n,u),o=o.insert(n,a)):!s.isValidDocument()||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(a,u),o=o.insert(n,a)):ss("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)})),o}))}function Sh(e,t){var n=ds(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n._n.getNextMutationBatchAfterBatchId(e,t)}))}function Eh(e,t){var n=ds(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.qe.getTargetData(e,t).next((function(i){return i?(r=i,Xl.resolve(r)):n.qe.allocateTargetId(e).next((function(i){return r=new hf(t,i,0,e.currentSequenceNumber),n.qe.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.kn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.kn=n.kn.insert(e.targetId,e),n.Fn.set(t,e.targetId)),e}))}function kh(e,t,n){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a;return(0,Fn.__generator)(this,(function(s){switch(s.label){case 0:r=ds(e),i=r.kn.get(t),o=n?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(e){return r.persistence.referenceDelegate.removeTarget(e,i)}))];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!nf(a=s.sent()))throw a;return ss("LocalStore","Failed to update sequence numbers for target "+t+": "+a),[3,5];case 5:return r.kn=r.kn.remove(t),r.Fn.delete(i.target),[2]}}))}))}function Th(e,t,n){var r=ds(e),i=ws.min(),o=Mc();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=ds(e),i=r.Fn.get(n);return void 0!==i?Xl.resolve(r.kn.get(i)):r.qe.getTargetData(t,n)}(r,e,Nu(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(e,t.targetId).next((function(e){o=e}))})).next((function(){return r.xn.getDocumentsMatchingQuery(e,t,n?i:ws.min(),n?o:Mc())})).next((function(e){return{documents:e,Bn:o}}))}))}function Ch(e,t){var n=ds(e),r=ds(n.qe),i=n.kn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.lt(e,t).next((function(e){return e?e.target:null}))}))}function Ih(e){var t=ds(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=ds(e),i=Oc(),o=gf(n),a=rh(t),s=IDBKeyRange.lowerBound(o,!0);return a.$t({index:Fl.readTimeIndex,range:s},(function(e,t){var n=pf(r.R,t);i=i.insert(n.key,n),o=t.readTime})).next((function(){return{wn:i,readTime:mf(o)}}))}(t.On,e,t.$n)})).then((function(e){var n=e.wn,r=e.readTime;return t.$n=r,n}))}function Ph(e){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var t;return(0,Fn.__generator)(this,(function(n){return[2,(t=ds(e)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=rh(e),n=ws.min();return t.$t({index:Fl.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=mf(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){t.$n=e}))]}))}))}function Oh(e,t,n,r){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var i,o,a,s,u,c,l,f,h,d;return(0,Fn.__generator)(this,(function(p){switch(p.label){case 0:for(i=ds(e),o=Mc(),a=Oc(),s=Rc(),u=0,c=n;u<c.length;u++)l=c[u],f=t.qn(l.metadata.name),l.document&&(o=o.add(f)),a=a.insert(f,t.Un(l)),s=s.insert(f,t.Kn(l.metadata.readTime));return h=i.On.newChangeBuffer({trackRemovals:!0}),[4,Eh(i,function(e){return Nu(Tu(ks.fromString("__bundle__/docs/"+e)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return xh(e,h,a,ws.min(),s).next((function(t){return h.apply(e),t})).next((function(t){return i.qe.removeMatchingKeysForTargetId(e,d.targetId).next((function(){return i.qe.addMatchingKeys(e,o,d.targetId)})).next((function(){return i.Mn.En(e,t)})).next((function(){return t}))}))}))]}}))}))}function Ah(e,t,n){return void 0===n&&(n=Mc()),(0,Fn.__awaiter)(this,void 0,void 0,(function(){var r,i;return(0,Fn.__generator)(this,(function(o){switch(o.label){case 0:return[4,Eh(e,Nu(Sf(t.bundledQuery)))];case 1:return r=o.sent(),[2,(i=ds(e)).persistence.runTransaction("Save named query","readwrite",(function(e){var o=el(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Ke.saveNamedQuery(e,t);var a=r.withResumeToken(Ps.EMPTY_BYTE_STRING,o);return i.kn=i.kn.insert(a.targetId,a),i.qe.updateTargetData(e,a).next((function(){return i.qe.removeMatchingKeysForTargetId(e,r.targetId)})).next((function(){return i.qe.addMatchingKeys(e,n,r.targetId)})).next((function(){return i.Ke.saveNamedQuery(e,t)}))}))]}}))}))}var Dh=function(){function e(e){this.R=e,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(e,t){return Xl.resolve(this.Qn.get(t))},e.prototype.saveBundleMetadata=function(e,t){var n;return this.Qn.set(t.id,{id:(n=t).id,version:n.version,createTime:el(n.createTime)}),Xl.resolve()},e.prototype.getNamedQuery=function(e,t){return Xl.resolve(this.jn.get(t))},e.prototype.saveNamedQuery=function(e,t){return this.jn.set(t.name,function(e){return{name:e.name,query:Sf(e.bundledQuery),readTime:el(e.readTime)}}(t)),Xl.resolve()},e}(),Nh=function(){function e(){this.Wn=new Cc(Rh.Gn),this.zn=new Cc(Rh.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(e,t){var n=new Rh(e,t);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},e.prototype.Jn=function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))},e.prototype.removeReference=function(e,t){this.Yn(new Rh(e,t))},e.prototype.Xn=function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))},e.prototype.Zn=function(e){var t=this,n=new Bs(new ks([])),r=new Rh(n,e),i=new Rh(n,e+1),o=[];return this.zn.forEachInRange([r,i],(function(e){t.Yn(e),o.push(e.key)})),o},e.prototype.ts=function(){var e=this;this.Wn.forEach((function(t){return e.Yn(t)}))},e.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},e.prototype.es=function(e){var t=new Bs(new ks([])),n=new Rh(t,e),r=new Rh(t,e+1),i=Mc();return this.zn.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i},e.prototype.containsKey=function(e){var t=new Rh(e,0),n=this.Wn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)},e}(),Rh=function(){function e(e,t){this.key=e,this.ns=t}return e.Gn=function(e,t){return Bs.comparator(e.key,t.key)||gs(e.ns,t.ns)},e.Hn=function(e,t){return gs(e.ns,t.ns)||Bs.comparator(e.key,t.key)},e}(),jh=function(){function e(e,t){this.Ut=e,this.referenceDelegate=t,this._n=[],this.ss=1,this.rs=new Cc(Rh.Gn)}return e.prototype.checkEmpty=function(e){return Xl.resolve(0===this._n.length)},e.prototype.addMutationBatch=function(e,t,n,r){var i=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var o=new lf(i,t,n,r);this._n.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.rs=this.rs.add(new Rh(u.key,i)),this.Ut.addToCollectionParentIndex(e,u.key.path.popLast())}return Xl.resolve(o)},e.prototype.lookupMutationBatch=function(e,t){return Xl.resolve(this.os(t))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=t+1,r=this.cs(n),i=r<0?0:r;return Xl.resolve(this._n.length>i?this._n[i]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return Xl.resolve(0===this._n.length?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(e){return Xl.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=new Rh(t,0),i=new Rh(t,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],(function(e){var t=n.os(e.ns);o.push(t)})),Xl.resolve(o)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new Cc(gs);return t.forEach((function(e){var t=new Rh(e,0),i=new Rh(e,Number.POSITIVE_INFINITY);n.rs.forEachInRange([t,i],(function(e){r=r.add(e.ns)}))})),Xl.resolve(this.us(r))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=t.path,r=n.length+1,i=n;Bs.isDocumentKey(i)||(i=i.child(""));var o=new Rh(new Bs(i),0),a=new Cc(gs);return this.rs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.ns)),!0)}),o),Xl.resolve(this.us(a))},e.prototype.us=function(e){var t=this,n=[];return e.forEach((function(e){var r=t.os(e);null!==r&&n.push(r)})),n},e.prototype.removeMutationBatch=function(e,t){var n=this;hs(0===this.hs(t.batchId,"removed")),this._n.shift();var r=this.rs;return Xl.forEach(t.mutations,(function(i){var o=new Rh(i.key,t.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.rs=r}))},e.prototype.Gt=function(e){},e.prototype.containsKey=function(e,t){var n=new Rh(t,0),r=this.rs.firstAfterOrEqual(n);return Xl.resolve(t.isEqual(r&&r.key))},e.prototype.performConsistencyCheck=function(e){return this._n.length,Xl.resolve()},e.prototype.hs=function(e,t){return this.cs(e)},e.prototype.cs=function(e){return 0===this._n.length?0:e-this._n[0].batchId},e.prototype.os=function(e){var t=this.cs(e);return t<0||t>=this._n.length?null:this._n[t]},e}(),Mh=function(){function e(e,t){this.Ut=e,this.ls=t,this.docs=new Ec(Bs.comparator),this.size=0}return e.prototype.addEntry=function(e,t,n){var r=t.key,i=this.docs.get(r),o=i?i.size:0,a=this.ls(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:a,readTime:n}),this.size+=a-o,this.Ut.addToCollectionParentIndex(e,r.path.popLast())},e.prototype.removeEntry=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},e.prototype.getEntry=function(e,t){var n=this.docs.get(t);return Xl.resolve(n?n.document.clone():ru.newInvalidDocument(t))},e.prototype.getEntries=function(e,t){var n=this,r=Oc();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.clone():ru.newInvalidDocument(e))})),Xl.resolve(r)},e.prototype.getDocumentsMatchingQuery=function(e,t,n){for(var r=Oc(),i=new Bs(t.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),s=a.key,u=a.value,c=u.document,l=u.readTime;if(!t.path.isPrefixOf(s.path))break;l.compareTo(n)<=0||Fu(t,c)&&(r=r.insert(c.key,c.clone()))}return Xl.resolve(r)},e.prototype.fs=function(e,t){return Xl.forEach(this.docs,(function(e){return t(e)}))},e.prototype.newChangeBuffer=function(e){return new Lh(this)},e.prototype.getSize=function(e){return Xl.resolve(this.size)},e}(),Lh=function(e){function t(t){var n=this;return(n=e.call(this)||this).Ie=t,n}return(0,Fn.__extends)(t,e),t.prototype.applyChanges=function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(t.Ie.addEntry(e,i.document,t.getReadTime(r))):t.Ie.removeEntry(r)})),Xl.waitFor(n)},t.prototype.getFromCache=function(e,t){return this.Ie.getEntry(e,t)},t.prototype.getAllFromCache=function(e,t){return this.Ie.getEntries(e,t)},t}(Zf),Fh=function(){function e(e){this.persistence=e,this.ds=new Jf((function(e){return au(e)}),su),this.lastRemoteSnapshotVersion=ws.min(),this.highestTargetId=0,this.ws=0,this._s=new Nh,this.targetCount=0,this.ys=Bf.Jt()}return e.prototype.forEachTarget=function(e,t){return this.ds.forEach((function(e,n){return t(n)})),Xl.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(e){return Xl.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(e){return Xl.resolve(this.ws)},e.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),Xl.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ws&&(this.ws=t),Xl.resolve()},e.prototype.te=function(e){this.ds.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.ys=new Bf(t),this.highestTargetId=t),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},e.prototype.addTargetData=function(e,t){return this.te(t),this.targetCount+=1,Xl.resolve()},e.prototype.updateTargetData=function(e,t){return this.te(t),Xl.resolve()},e.prototype.removeTargetData=function(e,t){return this.ds.delete(t.target),this._s.Zn(t.targetId),this.targetCount-=1,Xl.resolve()},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return this.ds.forEach((function(a,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.ds.delete(a),o.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),Xl.waitFor(o).next((function(){return i}))},e.prototype.getTargetCount=function(e){return Xl.resolve(this.targetCount)},e.prototype.getTargetData=function(e,t){var n=this.ds.get(t)||null;return Xl.resolve(n)},e.prototype.addMatchingKeys=function(e,t,n){return this._s.Jn(t,n),Xl.resolve()},e.prototype.removeMatchingKeys=function(e,t,n){this._s.Xn(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Xl.waitFor(i)},e.prototype.removeMatchingKeysForTargetId=function(e,t){return this._s.Zn(t),Xl.resolve()},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=this._s.es(t);return Xl.resolve(n)},e.prototype.containsKey=function(e,t){return Xl.resolve(this._s.containsKey(t))},e}(),Uh=function(){function e(e,t){var n=this;this.gs={},this.Ne=new ns(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new Fh(this),this.Ut=new Cf,this.Ue=function(e,t){return new Mh(e,(function(e){return n.referenceDelegate.ps(e)}))}(this.Ut),this.R=new df(t),this.Ke=new Dh(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(e){var t=this.gs[e.toKey()];return t||(t=new jh(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=t),t},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(e,t,n){var r=this;ss("MemoryPersistence","Starting transaction:",e);var i=new Bh(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(e){return r.referenceDelegate.Ts(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.Is=function(e,t){return Xl.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(e,t)}})))},e}(),Bh=function(e){function t(t){var n=this;return(n=e.call(this)||this).currentSequenceNumber=t,n}return(0,Fn.__extends)(t,e),t}($l),qh=function(){function e(e){this.persistence=e,this.As=new Nh,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw fs()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(e,t,n){return this.As.addReference(n,t),this.vs.delete(n.toString()),Xl.resolve()},e.prototype.removeReference=function(e,t,n){return this.As.removeReference(n,t),this.vs.add(n.toString()),Xl.resolve()},e.prototype.markPotentiallyOrphaned=function(e,t){return this.vs.add(t.toString()),Xl.resolve()},e.prototype.removeTarget=function(e,t){var n=this;this.As.Zn(t.targetId).forEach((function(e){return n.vs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.vs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Xl.forEach(this.vs,(function(r){var i=Bs.fromPath(r);return t.Ps(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Rs=null,n.apply(e)}))},e.prototype.updateLimboDocument=function(e,t){var n=this;return this.Ps(e,t).next((function(e){e?n.vs.delete(t.toString()):n.vs.add(t.toString())}))},e.prototype.ps=function(e){return 0},e.prototype.Ps=function(e,t){var n=this;return Xl.or([function(){return Xl.resolve(n.As.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Is(e,t)}])},e}(),Vh=function(){function e(e){this.uid=e}return e.prototype.isAuthenticated=function(){return null!=this.uid},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(e){return e.uid===this.uid},e}();function zh(e,t){return"firestore_clients_"+e+"_"+t}function Wh(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function Hh(e,t){return"firestore_targets_"+e+"_"+t}Vh.UNAUTHENTICATED=new Vh(null),Vh.GOOGLE_CREDENTIALS=new Vh("google-credentials-uid"),Vh.FIRST_PARTY=new Vh("first-party-uid"),Vh.MOCK_USER=new Vh("mock-user");var Kh=function(){function e(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}return e.Vs=function(t,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new is(o.error.code,o.error.message)),a?new e(t,n,o.state,i):(us("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),Gh=function(){function e(e,t,n){this.targetId=e,this.state=t,this.error=n}return e.Vs=function(t,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new is(i.error.code,i.error.message)),o?new e(t,i.state,r):(us("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),Yh=function(){function e(e,t){this.clientId=e,this.activeTargetIds=t}return e.Vs=function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Fc(),a=0;i&&a<r.activeTargetIds.length;++a)i=Us(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new e(t,o):(us("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),$h=function(){function e(e,t){this.clientId=e,this.onlineState=t}return e.Vs=function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(us("SharedClientState","Failed to parse online state: "+t),null)},e}(),Qh=function(){function e(){this.activeTargetIds=Fc()}return e.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},e.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},e.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},e}(),Xh=function(){function e(e,t,n,r,i){this.window=e,this.Se=t,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new Ec(gs),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=zh(this.persistenceKey,this.Ns),this.Ms=function(e){return"firestore_sequence_number_"+e}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new Qh),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(e){return"firestore_online_state_"+e}(this.persistenceKey),this.Ks=function(e){return"firestore_bundle_loaded_"+e}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(e){return!(!e||!e.localStorage)},e.prototype.start=function(){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var e,t,n,r,i,o,a,s,u,c,l,f=this;return(0,Fn.__generator)(this,(function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(e=h.sent(),t=0,n=e;t<n.length;t++)(r=n[t])!==this.Ns&&(i=this.getItem(zh(this.persistenceKey,r)))&&(o=Yh.Vs(r,i))&&(this.Fs=this.Fs.insert(o.clientId,o));for(this.Qs(),(a=this.storage.getItem(this.Us))&&(s=this.js(a))&&this.Ws(s),u=0,c=this.$s;u<c.length;u++)l=c[u],this.ks(l);return this.$s=[],this.window.addEventListener("pagehide",(function(){return f.shutdown()})),this.started=!0,[2]}}))}))},e.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},e.prototype.isActiveQueryTarget=function(e){var t=!1;return this.Fs.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t},e.prototype.addPendingMutation=function(e){this.zs(e,"pending")},e.prototype.updateMutationState=function(e,t,n){this.zs(e,t,n),this.Hs(e)},e.prototype.addLocalQueryTarget=function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Hh(this.persistenceKey,e));if(n){var r=Gh.Vs(e,n);r&&(t=r.state)}}return this.Js.Ds(e),this.Qs(),t},e.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Qs()},e.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){this.removeItem(Hh(this.persistenceKey,e))},e.prototype.updateQueryState=function(e,t,n){this.Ys(e,t,n)},e.prototype.handleUserChange=function(e,t,n){var r=this;t.forEach((function(e){r.Hs(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))},e.prototype.setOnlineState=function(e){this.Xs(e)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(e){var t=this.storage.getItem(e);return ss("SharedClientState","READ",e,t),t},e.prototype.setItem=function(e,t){ss("SharedClientState","SET",e,t),this.storage.setItem(e,t)},e.prototype.removeItem=function(e){ss("SharedClientState","REMOVE",e),this.storage.removeItem(e)},e.prototype.ks=function(e){var t=this,n=e;if(n.storageArea===this.storage){if(ss("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void us("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return(0,Fn.__awaiter)(t,void 0,void 0,(function(){var e,t,r,i,o,a;return(0,Fn.__generator)(this,(function(s){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return e=this.ti(n.key),[2,this.ei(e,null)];if(t=this.ni(n.key,n.newValue))return[2,this.ei(t.clientId,t)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(a=function(e){var t=ns.o;if(null!=e)try{var n=JSON.parse(e);hs("number"==typeof n),t=n}catch(e){us("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue))!==ns.o&&this.sequenceNumberHandler(a);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]}))}))}))}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(e,t,n){var r=new Kh(this.currentUser,e,t,n),i=Wh(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Ss())},e.prototype.Hs=function(e){var t=Wh(this.persistenceKey,this.currentUser,e);this.removeItem(t)},e.prototype.Xs=function(e){var t={clientId:this.Ns,onlineState:e};this.storage.setItem(this.Us,JSON.stringify(t))},e.prototype.Ys=function(e,t,n){var r=Hh(this.persistenceKey,e),i=new Gh(e,t,n);this.setItem(r,i.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(e){var t=this.Ls.exec(e);return t?t[1]:null},e.prototype.ni=function(e,t){var n=this.ti(e);return Yh.Vs(n,t)},e.prototype.si=function(e,t){var n=this.Bs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Kh.Vs(new Vh(i),r,t)},e.prototype.ri=function(e,t){var n=this.qs.exec(e),r=Number(n[1]);return Gh.Vs(r,t)},e.prototype.js=function(e){return $h.Vs(e)},e.prototype.ii=function(e){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){return(0,Fn.__generator)(this,(function(t){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:(ss("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])}))}))},e.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},e.prototype.ei=function(e,t){var n=this,r=t?this.Fs.insert(e,t):this.Fs.remove(e),i=this.Gs(this.Fs),o=this.Gs(r),a=[],s=[];return o.forEach((function(e){i.has(e)||a.push(e)})),i.forEach((function(e){o.has(e)||s.push(e)})),this.syncEngine.hi(a,s).then((function(){n.Fs=r}))},e.prototype.Ws=function(e){this.Fs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},e.prototype.Gs=function(e){var t=Fc();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t},e}(),Jh=function(){function e(){this.li=new Qh,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(e){},e.prototype.updateMutationState=function(e,t,n){},e.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},e.prototype.updateQueryState=function(e,t,n){this.fi[e]=t},e.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},e.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){delete this.fi[e]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.start=function(){return this.li=new Qh,Promise.resolve()},e.prototype.handleUserChange=function(e,t,n){},e.prototype.setOnlineState=function(e){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(e){},e.prototype.notifyBundleLoaded=function(){},e}(),Zh=function(){function e(){}return e.prototype.di=function(e){},e.prototype.shutdown=function(){},e}(),ed=function(){function e(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}return e.prototype.di=function(e){this.gi.push(e)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){ss("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(0)},e.prototype.yi=function(){ss("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(1)},e.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},e}(),td={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},nd=function(){function e(e){this.Ei=e.Ei,this.Ti=e.Ti}return e.prototype.Ii=function(e){this.Ai=e},e.prototype.Ri=function(e){this.bi=e},e.prototype.onMessage=function(e){this.vi=e},e.prototype.close=function(){this.Ti()},e.prototype.send=function(e){this.Ei(e)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(e){this.bi(e)},e.prototype.Si=function(e){this.vi(e)},e}(),rd=function(e){function t(t){var n=this;return(n=e.call(this,t)||this).forceLongPolling=t.forceLongPolling,n.autoDetectLongPolling=t.autoDetectLongPolling,n.useFetchStreams=t.useFetchStreams,n}return(0,Fn.__extends)(t,e),t.prototype.Fi=function(e,t,n,r){return new Promise((function(i,o){var a=new ts;a.listenOnce(Qa.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case $a.NO_ERROR:var t=a.getResponseJson();ss("Connection","XHR received:",JSON.stringify(t)),i(t);break;case $a.TIMEOUT:ss("Connection",'RPC "'+e+'" timed out'),o(new is(rs.DEADLINE_EXCEEDED,"Request time out"));break;case $a.HTTP_ERROR:var n=a.getStatus();if(ss("Connection",'RPC "'+e+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(rs).indexOf(t)>=0?t:rs.UNKNOWN}(r.status);o(new is(s,r.message))}else o(new is(rs.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new is(rs.UNAVAILABLE,"Connection failed."));break;default:fs()}}finally{ss("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);a.send(t,"POST",s,n,15)}))},t.prototype.Oi=function(e,t){var n=[this.Di,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=Ga(),i=Ya(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Za({})),this.ki(o.initMessageHeaders,t),(0,Un.isMobileCordova)()||(0,Un.isReactNative)()||(0,Un.isElectron)()||(0,Un.isIE)()||(0,Un.isUWP)()||(0,Un.isBrowserExtension)()||(o.httpHeadersOverwriteParam="$httpHeaders");var a=n.join("");ss("Connection","Creating WebChannel: "+a,o);var s=r.createWebChannel(a,o),u=!1,c=!1,l=new nd({Ei:function(e){c?ss("Connection","Not sending because WebChannel is closed:",e):(u||(ss("Connection","Opening WebChannel transport."),s.open(),u=!0),ss("Connection","WebChannel sending:",e),s.send(e))},Ti:function(){return s.close()}}),f=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return f(s,es.EventType.OPEN,(function(){c||ss("Connection","WebChannel transport opened.")})),f(s,es.EventType.CLOSE,(function(){c||(c=!0,ss("Connection","WebChannel transport closed"),l.Vi())})),f(s,es.EventType.ERROR,(function(e){c||(c=!0,cs("Connection","WebChannel transport errored:",e),l.Vi(new is(rs.UNAVAILABLE,"The operation could not be completed")))})),f(s,es.EventType.MESSAGE,(function(e){var t;if(!c){var n=e.data[0];hs(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){ss("Connection","WebChannel received error:",i);var o=i.status,a=function(e){var t=mc[e];if(void 0!==t)return Sc(t)}(o),u=i.message;void 0===a&&(a=rs.INTERNAL,u="Unknown error status: "+o+" with message "+i.message),c=!0,l.Vi(new is(a,u)),s.close()}else ss("Connection","WebChannel received:",n),l.Si(n)}})),f(i,Xa.STAT_EVENT,(function(e){e.stat===Ja.PROXY?ss("Connection","Detected buffering proxy"):e.stat===Ja.NOPROXY&&ss("Connection","Detected no buffering proxy")})),setTimeout((function(){l.Pi()}),0),l},t}(function(){function e(e){this.databaseInfo=e,this.databaseId=e.databaseId;var t=e.ssl?"https":"http";this.Di=t+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(e,t,n,r){var i=this.xi(e,t);ss("RestConnection","Sending: ",i,n);var o={};return this.ki(o,r),this.Fi(e,i,o,n).then((function(e){return ss("RestConnection","Received: ",e),e}),(function(t){throw cs("RestConnection",e+" failed with error: ",t,"url: ",i,"request:",n),t}))},e.prototype.$i=function(e,t,n,r){return this.Ni(e,t,n,r)},e.prototype.ki=function(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])},e.prototype.xi=function(e,t){var n=td[e];return this.Di+"/v1/"+t+":"+n},e}());function id(){return"undefined"!=typeof window?window:null}function od(){return"undefined"!=typeof document?document:null}function ad(e){return new Qc(e,!0)}var sd=function(){function e(e,t,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=e,this.timerId=t,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(e){var t=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),i=Math.max(0,n-r);i>0&&ss("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return t.Ki=Date.now(),e()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),ud=function(){function e(e,t,n,r,i,o){this.Se=e,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new sd(e,t)}return e.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},e.prototype.er=function(){return 2===this.state},e.prototype.start=function(){3!==this.state?this.auth():this.nr()},e.prototype.stop=function(){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){return(0,Fn.__generator)(this,(function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var e=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return e.rr()})))},e.prototype.cr=function(e){this.ur(),this.stream.send(e)},e.prototype.rr=function(){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){return(0,Fn.__generator)(this,(function(e){return this.er()?[2,this.close(0)]:[2]}))}))},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(e,t){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){return(0,Fn.__generator)(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==e?this.Zi.reset():t&&t.code===rs.RESOURCE_EXHAUSTED?(us(t.toString()),us("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):t&&t.code===rs.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(t)];case 1:return n.sent(),[2]}}))}))},e.prototype.ar=function(){},e.prototype.auth=function(){var e=this;this.state=1;var t=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(t){e.Yi===n&&e.lr(t)}),(function(n){t((function(){var t=new is(rs.UNKNOWN,"Fetching auth token failed: "+n.message);return e.dr(t)}))}))},e.prototype.lr=function(e){var t=this,n=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii((function(){n((function(){return t.state=2,t.listener.Ii()}))})),this.stream.Ri((function(e){n((function(){return t.dr(e)}))})),this.stream.onMessage((function(e){n((function(){return t.onMessage(e)}))}))},e.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji((function(){return(0,Fn.__awaiter)(e,void 0,void 0,(function(){return(0,Fn.__generator)(this,(function(e){return this.state=0,this.start(),[2]}))}))}))},e.prototype.dr=function(e){return ss("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},e.prototype.hr=function(e){var t=this;return function(n){t.Se.enqueueAndForget((function(){return t.Yi===e?n():(ss("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},e}(),cd=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,a}return(0,Fn.__extends)(t,e),t.prototype.wr=function(e){return this.Hi.Oi("Listen",e)},t.prototype.onMessage=function(e){this.Zi.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:fs()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.I?(hs(void 0===t||"string"==typeof t),Ps.fromBase64String(t||"")):(hs(void 0===t||t instanceof Uint8Array),Ps.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=(s=t.targetChange.cause)&&function(e){var t=void 0===e.code?rs.UNKNOWN:Sc(e.code);return new is(t,e.message||"")}(s);n=new zc(r,i,o,a||null)}else if("documentChange"in t){t.documentChange,(r=t.documentChange).document,r.document.name,r.document.updateTime,i=il(e,r.document.name),o=el(r.document.updateTime);var s=new tu({mapValue:{fields:r.document.fields}}),u=(a=ru.newFoundDocument(i,o,s),r.targetIds||[]),c=r.removedTargetIds||[];n=new qc(u,c,a.key,a)}else if("documentDelete"in t)t.documentDelete,(r=t.documentDelete).document,i=il(e,r.document),o=r.readTime?el(r.readTime):ws.min(),s=ru.newNoDocument(i,o),a=r.removedTargetIds||[],n=new qc([],a,s.key,s);else if("documentRemove"in t)t.documentRemove,(r=t.documentRemove).document,i=il(e,r.document),o=r.removedTargetIds||[],n=new qc([],o,i,null);else{if(!("filter"in t))return fs();t.filter;var l=t.filter;l.targetId,r=l.count||0,i=new _c(r),o=l.targetId,n=new Vc(o,i)}return n}(this.R,e),n=function(e){if(!("targetChange"in e))return ws.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?ws.min():t.readTime?el(t.readTime):ws.min()}(e);return this.listener._r(t,n)},t.prototype.mr=function(e){var t={};t.database=sl(this.R),t.addTarget=function(e,t){var n,r=t.target;return(n=uu(r)?{documents:dl(e,r)}:{query:pl(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Jc(e,t.resumeToken):t.snapshotVersion.compareTo(ws.min())>0&&(n.readTime=Xc(e,t.snapshotVersion.toTimestamp())),n}(this.R,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return fs()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.R,e);n&&(t.labels=n),this.cr(t)},t.prototype.yr=function(e){var t={};t.database=sl(this.R),t.removeTarget=e,this.cr(t)},t}(ud),ld=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,a.gr=!1,a}return(0,Fn.__extends)(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(e){return this.Hi.Oi("Write",e)},t.prototype.onMessage=function(e){if(hs(!!e.streamToken),this.lastStreamToken=e.streamToken,this.gr){this.Zi.reset();var t=function(e,t){return e&&e.length>0?(hs(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?el(e.updateTime):el(t);return n.isEqual(ws.min())&&(n=el(t)),new rc(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=el(e.commitTime);return this.listener.Tr(n,t)}return hs(!e.writeResults||0===e.writeResults.length),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var e={};e.database=sl(this.R),this.cr(e)},t.prototype.Er=function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return fl(t.R,e)}))};this.cr(n)},t}(ud),fd=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).credentials=t,i.Hi=n,i.R=r,i.Rr=!1,i}return(0,Fn.__extends)(t,e),t.prototype.br=function(){if(this.Rr)throw new is(rs.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===rs.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new is(rs.UNKNOWN,e.toString())}))},t.prototype.$i=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.$i(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===rs.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new is(rs.UNKNOWN,e.toString())}))},t.prototype.terminate=function(){this.Rr=!0},t}((function(){})),hd=function(){function e(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var e=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()})))},e.prototype.Nr=function(e){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},e.prototype.set=function(e){this.kr(),this.vr=0,"Online"===e&&(this.Vr=!1),this.Dr(e)},e.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},e.prototype.Cr=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(us(t),this.Vr=!1):ss("OnlineStateTracker",t)},e.prototype.kr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},e}(),dd=function(e,t,n,r,i){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di((function(e){n.enqueueAndForget((function(){return(0,Fn.__awaiter)(o,void 0,void 0,(function(){return(0,Fn.__generator)(this,(function(e){switch(e.label){case 0:return xd(this)?(ss("RemoteStore","Restarting streams for network reachability change."),[4,function(e){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var t;return(0,Fn.__generator)(this,(function(n){switch(n.label){case 0:return(t=ds(e)).Or.add(4),[4,vd(t)];case 1:return n.sent(),t.Br.set("Unknown"),t.Or.delete(4),[4,pd(t)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))})),this.Br=new hd(n,r)};function pd(e){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,Fn.__generator)(this,(function(r){switch(r.label){case 0:if(!xd(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function vd(e){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,Fn.__generator)(this,(function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function gd(e,t){var n=ds(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),_d(n)?wd(n):Ld(n).er()&&yd(n,t))}function md(e,t){var n=ds(e),r=Ld(n);n.$r.delete(t),r.er()&&bd(n,t),0===n.$r.size&&(r.er()?r.ir():xd(n)&&n.Br.set("Unknown"))}function yd(e,t){e.qr.U(t.targetId),Ld(e).mr(t)}function bd(e,t){e.qr.U(t),Ld(e).yr(t)}function wd(e){e.qr=new Hc({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),Ld(e).start(),e.Br.Sr()}function _d(e){return xd(e)&&!Ld(e).tr()&&e.$r.size>0}function xd(e){return 0===ds(e).Or.size}function Sd(e){e.qr=void 0}function Ed(e){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){return(0,Fn.__generator)(this,(function(t){return e.$r.forEach((function(t,n){yd(e,t)})),[2]}))}))}function kd(e,t){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){return(0,Fn.__generator)(this,(function(n){return Sd(e),_d(e)?(e.Br.Nr(t),wd(e)):e.Br.set("Unknown"),[2]}))}))}function Td(e,t,n){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var r,i,o;return(0,Fn.__generator)(this,(function(a){switch(a.label){case 0:if(e.Br.set("Online"),!(t instanceof zc&&2===t.state&&t.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(e,t){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o;return(0,Fn.__generator)(this,(function(a){switch(a.label){case 0:n=t.cause,r=0,i=t.targetIds,a.label=1;case 1:return r<i.length?(o=i[r],e.$r.has(o)?[4,e.remoteSyncer.rejectListen(o,n)]:[3,3]):[3,5];case 2:a.sent(),e.$r.delete(o),e.qr.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(e,t)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),ss("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,Cd(e,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof qc?e.qr.X(t):t instanceof Vc?e.qr.rt(t):e.qr.et(t),n.isEqual(ws.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,wh(e.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(e,t){var n=e.qr.ut(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.$r.get(r);i&&e.$r.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.$r.get(t);if(n){e.$r.set(t,n.withResumeToken(Ps.EMPTY_BYTE_STRING,n.snapshotVersion)),bd(e,t);var r=new hf(n.target,t,1,n.sequenceNumber);yd(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return ss("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,Cd(e,o)];case 12:return a.sent(),[3,13];case 13:return[2]}}))}))}function Cd(e,t,n){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var r=this;return(0,Fn.__generator)(this,(function(i){switch(i.label){case 0:if(!nf(t))throw t;return e.Or.add(1),[4,vd(e)];case 1:return i.sent(),e.Br.set("Offline"),n||(n=function(){return wh(e.localStore)}),e.asyncQueue.enqueueRetryable((function(){return(0,Fn.__awaiter)(r,void 0,void 0,(function(){return(0,Fn.__generator)(this,(function(t){switch(t.label){case 0:return ss("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return t.sent(),e.Or.delete(1),[4,pd(e)];case 2:return t.sent(),[2]}}))}))})),[2]}}))}))}function Id(e,t){return t().catch((function(n){return Cd(e,n,t)}))}function Pd(e){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i,o;return(0,Fn.__generator)(this,(function(a){switch(a.label){case 0:t=ds(e),n=Fd(t),r=t.Fr.length>0?t.Fr[t.Fr.length-1].batchId:-1,a.label=1;case 1:if(!function(e){return xd(e)&&e.Fr.length<10}(t))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,Sh(t.localStore,r)];case 3:return null===(i=a.sent())?(0===t.Fr.length&&n.ir(),[3,7]):(r=i.batchId,function(e,t){e.Fr.push(t);var n=Fd(e);n.er()&&n.pr&&n.Er(t.mutations)}(t,i),[3,6]);case 4:return o=a.sent(),[4,Cd(t,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return Od(t)&&Ad(t),[2]}}))}))}function Od(e){return xd(e)&&!Fd(e).tr()&&e.Fr.length>0}function Ad(e){Fd(e).start()}function Dd(e){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){return(0,Fn.__generator)(this,(function(t){return Fd(e).Ar(),[2]}))}))}function Nd(e){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i;return(0,Fn.__generator)(this,(function(o){for(t=Fd(e),n=0,r=e.Fr;n<r.length;n++)i=r[n],t.Er(i.mutations);return[2]}))}))}function Rd(e,t,n){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var r,i;return(0,Fn.__generator)(this,(function(o){switch(o.label){case 0:return r=e.Fr.shift(),i=ff.from(r,t,n),[4,Id(e,(function(){return e.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return o.sent(),[4,Pd(e)];case 2:return o.sent(),[2]}}))}))}function jd(e,t){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){return(0,Fn.__generator)(this,(function(n){switch(n.label){case 0:return t&&Fd(e).pr?[4,function(e,t){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,Fn.__generator)(this,(function(i){switch(i.label){case 0:return xc(r=t.code)&&r!==rs.ABORTED?(n=e.Fr.shift(),Fd(e).sr(),[4,Id(e,(function(){return e.remoteSyncer.rejectFailedWrite(n.batchId,t)}))]):[3,3];case 1:return i.sent(),[4,Pd(e)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Od(e)&&Ad(e),[2]}}))}))}function Md(e,t){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var n;return(0,Fn.__generator)(this,(function(r){switch(r.label){case 0:return n=ds(e),t?(n.Or.delete(2),[4,pd(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,vd(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function Ld(e){var t=this;return e.Ur||(e.Ur=function(e,t,n){var r=ds(e);return r.br(),new cd(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:Ed.bind(null,e),Ri:kd.bind(null,e),_r:Td.bind(null,e)}),e.Mr.push((function(n){return(0,Fn.__awaiter)(t,void 0,void 0,(function(){return(0,Fn.__generator)(this,(function(t){switch(t.label){case 0:return n?(e.Ur.sr(),_d(e)?wd(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:t.sent(),Sd(e),t.label=3;case 3:return[2]}}))}))}))),e.Ur}function Fd(e){var t=this;return e.Kr||(e.Kr=function(e,t,n){var r=ds(e);return r.br(),new ld(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:Dd.bind(null,e),Ri:jd.bind(null,e),Ir:Nd.bind(null,e),Tr:Rd.bind(null,e)}),e.Mr.push((function(n){return(0,Fn.__awaiter)(t,void 0,void 0,(function(){return(0,Fn.__generator)(this,(function(t){switch(t.label){case 0:return n?(e.Kr.sr(),[4,Pd(e)]):[3,2];case 1:return t.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:t.sent(),e.Fr.length>0&&(ss("RemoteStore","Stopping write stream with "+e.Fr.length+" pending writes"),e.Fr=[]),t.label=4;case 4:return[2]}}))}))}))),e.Kr}var Ud=function(){function e(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Ql,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return e.createAndSchedule=function(t,n,r,i,o){var a=new e(t,n,Date.now()+r,i,o);return a.start(r),a},e.prototype.start=function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new is(rs.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},e.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))},e.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function Bd(e,t){if(us("AsyncQueue",t+": "+e),nf(e))return new is(rs.UNAVAILABLE,t+": "+e);throw e}var qd=function(){function e(e){this.comparator=e?function(t,n){return e(t,n)||Bs.comparator(t.key,n.key)}:function(e,t){return Bs.comparator(e.key,t.key)},this.keyedMap=Dc(),this.sortedSet=new Ec(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(e){return null!=this.keyedMap.get(e)},e.prototype.get=function(e){return this.keyedMap.get(e)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},e.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),Vd=function(){function e(){this.Qr=new Ec(Bs.comparator)}return e.prototype.track=function(e){var t=e.doc.key,n=this.Qr.get(t);n?0!==e.type&&3===n.type?this.Qr=this.Qr.insert(t,e):3===e.type&&1!==n.type?this.Qr=this.Qr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Qr=this.Qr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Qr=this.Qr.remove(t):1===e.type&&2===n.type?this.Qr=this.Qr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):fs():this.Qr=this.Qr.insert(t,e)},e.prototype.jr=function(){var e=[];return this.Qr.inorderTraversal((function(t,n){e.push(n)})),e},e}(),zd=function(){function e(e,t,n,r,i,o,a,s){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return e.fromInitialDocuments=function(t,n,r,i){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,qd.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ju(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},e}(),Wd=function(){this.Wr=void 0,this.listeners=[]},Hd=function(){this.queries=new Jf((function(e){return Mu(e)}),ju),this.onlineState="Unknown",this.Gr=new Set};function Kd(e,t){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return(0,Fn.__generator)(this,(function(c){switch(c.label){case 0:if(n=ds(e),r=t.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new Wd),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),a=o,[4,n.onListen(r)];case 2:return a.Wr=c.sent(),[3,4];case 3:return s=c.sent(),u=Bd(s,"Initialization of query '"+Lu(t.query)+"' failed"),[2,void t.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(t),t.zr(n.onlineState),o.Wr&&t.Hr(o.Wr)&&Qd(n),[2]}}))}))}function Gd(e,t){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a;return(0,Fn.__generator)(this,(function(s){return n=ds(e),r=t.query,i=!1,(o=n.queries.get(r))&&(a=o.listeners.indexOf(t))>=0&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function Yd(e,t){for(var n=ds(e),r=!1,i=0,o=t;i<o.length;i++){var a=o[i],s=a.query,u=n.queries.get(s);if(u){for(var c=0,l=u.listeners;c<l.length;c++)l[c].Hr(a)&&(r=!0);u.Wr=a}}r&&Qd(n)}function $d(e,t,n){var r=ds(e),i=r.queries.get(t);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(t)}function Qd(e){e.Gr.forEach((function(e){e.next()}))}var Xd=function(){function e(e,t,n){this.query=e,this.Jr=t,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return e.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&t.push(i)}e=new zd(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),o=!0):this.eo(e,this.onlineState)&&(this.no(e),o=!0),this.Xr=e,o},e.prototype.onError=function(e){this.Jr.error(e)},e.prototype.zr=function(e){this.onlineState=e;var t=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),t=!0),t},e.prototype.eo=function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return!(this.options.so&&n||e.docs.isEmpty()&&"Offline"!==t)},e.prototype.Zr=function(e){if(e.docChanges.length>0)return!0;var t=this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges},e.prototype.no=function(e){e=zd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},e}(),Jd=function(){function e(e,t){this.payload=e,this.byteLength=t}return e.prototype.io=function(){return"metadata"in this.payload},e}(),Zd=function(){function e(e){this.R=e}return e.prototype.qn=function(e){return il(this.R,e)},e.prototype.Un=function(e){return e.metadata.exists?ll(this.R,e.document,!1):ru.newNoDocument(this.qn(e.metadata.name),this.Kn(e.metadata.readTime))},e.prototype.Kn=function(e){return el(e)},e}(),ep=function(){function e(e,t,n){this.ro=e,this.localStore=t,this.R=n,this.queries=[],this.documents=[],this.progress=tp(e)}return e.prototype.oo=function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null},e.prototype.co=function(e){for(var t=new Map,n=new Zd(this.R),r=0,i=e;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.qn(o.metadata.name),s=0,u=o.metadata.queries;s<u.length;s++){var c=u[s],l=(t.get(c)||Mc()).add(a);t.set(c,l)}}return t},e.prototype.complete=function(){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var e,t,n,r,i;return(0,Fn.__generator)(this,(function(o){switch(o.label){case 0:return[4,Oh(this.localStore,new Zd(this.R),this.documents,this.ro.id)];case 1:e=o.sent(),t=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?(i=r[n],[4,Ah(this.localStore,i,t.get(i.name))]):[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new hh(Object.assign({},this.progress),e))]}}))}))},e}();function tp(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var np=function(e){this.key=e},rp=function(e){this.key=e},ip=function(){function e(e,t){this.query=e,this.uo=t,this.ao=null,this.current=!1,this.ho=Mc(),this.mutatedKeys=Mc(),this.lo=Uu(e),this.fo=new qd(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(e,t){var n=this,r=t?t.mo:new Vd,i=t?t.fo:this.fo,o=t?t.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=Cu(this.query)&&i.size===this.query.limit?i.last():null,c=Iu(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Fu(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.yo(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.lo(f,u)>0||c&&n.lo(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(a=a.add(f),o=d?o.add(e):o.delete(e)):(a=a.delete(e),o=o.delete(e)))})),Cu(this.query)||Iu(this.query))for(;a.size>this.query.limit;){var l=Cu(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:a,mo:r,Nn:s,mutatedKeys:o}},e.prototype.yo=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},e.prototype.applyChanges=function(e,t,n){var r=this,i=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var o=e.mo.jr();o.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fs()}};return n(e)-n(t)}(e.type,t.type)||r.lo(e.doc,t.doc)})),this.po(n);var a=t?this.Eo():[],s=0===this.ho.size&&this.current?1:0,u=s!==this.ao;return this.ao=s,0!==o.length||u?{snapshot:new zd(this.query,e.fo,i,o,e.mutatedKeys,0===s,u,!1),To:a}:{To:a}},e.prototype.zr=function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Vd,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},e.prototype.po=function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.uo=t.uo.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.uo=t.uo.delete(e)})),this.current=e.current)},e.prototype.Eo=function(){var e=this;if(!this.current)return[];var t=this.ho;this.ho=Mc(),this.fo.forEach((function(t){e.Io(t.key)&&(e.ho=e.ho.add(t.key))}));var n=[];return t.forEach((function(t){e.ho.has(t)||n.push(new rp(t))})),this.ho.forEach((function(e){t.has(e)||n.push(new np(e))})),n},e.prototype.Ao=function(e){this.uo=e.Bn,this.ho=Mc();var t=this._o(e.documents);return this.applyChanges(t,!0)},e.prototype.Ro=function(){return zd.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},e}(),op=function(e,t,n){this.query=e,this.targetId=t,this.view=n},ap=function(e){this.key=e,this.bo=!1},sp=function(){function e(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new Jf((function(e){return Mu(e)}),ju),this.Vo=new Map,this.So=new Set,this.Do=new Ec(Bs.comparator),this.Co=new Map,this.No=new Nh,this.xo={},this.ko=new Map,this.Fo=Bf.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),e}();function up(e,t){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return(0,Fn.__generator)(this,(function(u){switch(u.label){case 0:return n=Lp(e),(o=n.Po.get(t))?(r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Ro(),[3,4]):[3,1];case 1:return[4,Eh(n.localStore,Nu(t))];case 2:return a=u.sent(),s=n.sharedClientState.addLocalQueryTarget(a.targetId),r=a.targetId,[4,cp(n,t,r,"current"===s)];case 3:i=u.sent(),n.isPrimaryClient&&gd(n.remoteStore,a),u.label=4;case 4:return[2,i]}}))}))}function cp(e,t,n,r){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var i,o,a,s,u,c;return(0,Fn.__generator)(this,(function(l){switch(l.label){case 0:return e.Oo=function(t,n,r){return function(e,t,n,r){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var i,o,a;return(0,Fn.__generator)(this,(function(s){switch(s.label){case 0:return(i=t.view._o(n)).Nn?[4,Th(e.localStore,t.query,!1).then((function(e){var n=e.documents;return t.view._o(n,i)}))]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return o=r&&r.targetChanges.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o),[2,(xp(e,t.targetId,a.To),a.snapshot)]}}))}))}(e,t,n,r)},[4,Th(e.localStore,t,!0)];case 1:return i=l.sent(),o=new ip(t,i.Bn),a=o._o(i.documents),s=Bc.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),u=o.applyChanges(a,e.isPrimaryClient,s),xp(e,n,u.To),c=new op(t,n,o),[2,(e.Po.set(t,c),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),u.snapshot)]}}))}))}function lp(e,t){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return(0,Fn.__generator)(this,(function(o){switch(o.label){case 0:return n=ds(e),r=n.Po.get(t),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter((function(e){return!ju(e,t)}))),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,kh(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),md(n.remoteStore,r.targetId),wp(n,r.targetId)})).catch(Hf)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return wp(n,r.targetId),[4,kh(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function fp(e,t,n){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a;return(0,Fn.__generator)(this,(function(s){switch(s.label){case 0:r=Fp(e),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,function(e,t){var n,r=ds(e),i=bs.now(),o=t.reduce((function(e,t){return e.add(t.key)}),Mc());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Mn.pn(e,o).next((function(o){n=o;for(var a=[],s=0,u=t;s<u.length;s++){var c=u[s],l=cc(c,n.get(c.key));null!=l&&a.push(new dc(c.key,l,nu(l.value.mapValue),ic.exists(!0)))}return r._n.addMutationBatch(e,i,a,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(r.localStore,t)];case 2:return i=s.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(e,t,n){var r=e.xo[e.currentUser.toKey()];r||(r=new Ec(gs)),r=r.insert(t,n),e.xo[e.currentUser.toKey()]=r}(r,i.batchId,n),[4,kp(r,i.changes)];case 3:return s.sent(),[4,Pd(r.remoteStore)];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),a=Bd(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}}))}))}function hp(e,t){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,Fn.__generator)(this,(function(i){switch(i.label){case 0:n=ds(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,_h(n.localStore,t)];case 2:return r=i.sent(),t.targetChanges.forEach((function(e,t){var r=n.Co.get(t);r&&(hs(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.bo=!0:e.modifiedDocuments.size>0?hs(r.bo):e.removedDocuments.size>0&&(hs(r.bo),r.bo=!1))})),[4,kp(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,Hf(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function dp(e,t,n){var r=ds(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach((function(e,n){var r=n.view.zr(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=ds(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(t)&&(r=!0)})),r&&Qd(n)}(r.eventManager,t),i.length&&r.vo._r(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function pp(e,t,n){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a,s,u;return(0,Fn.__generator)(this,(function(c){switch(c.label){case 0:return(r=ds(e)).sharedClientState.updateQueryState(t,"rejected",n),i=r.Co.get(t),(o=i&&i.key)?(a=(a=new Ec(Bs.comparator)).insert(o,ru.newNoDocument(o,ws.min())),s=Mc().add(o),u=new Uc(ws.min(),new Map,new Cc(gs),a,s),[4,hp(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(t),Ep(r),[3,4];case 2:return[4,kh(r.localStore,t,!1).then((function(){return wp(r,t,n)})).catch(Hf)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function vp(e,t){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return(0,Fn.__generator)(this,(function(o){switch(o.label){case 0:n=ds(e),r=t.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,bh(n.localStore,t)];case 2:return i=o.sent(),bp(n,r,null),yp(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,kp(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Hf(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function gp(e,t,n){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var r,i;return(0,Fn.__generator)(this,(function(o){switch(o.label){case 0:r=ds(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(e,t){var n=ds(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n._n.lookupMutationBatch(e,t).next((function(t){return hs(null!==t),r=t.keys(),n._n.removeMutationBatch(e,t)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,r)}))}))}(r.localStore,t)];case 2:return i=o.sent(),bp(r,t,n),yp(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,kp(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Hf(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function mp(e,t){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a;return(0,Fn.__generator)(this,(function(s){switch(s.label){case 0:xd((n=ds(e)).remoteStore)||ss("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,function(e){var t=ds(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t._n.getHighestUnacknowledgedBatchId(e)}))}(n.localStore)];case 2:return-1===(r=s.sent())?[2,void t.resolve()]:((i=n.ko.get(r)||[]).push(t),n.ko.set(r,i),[3,4]);case 3:return o=s.sent(),a=Bd(o,"Initialization of waitForPendingWrites() operation failed"),t.reject(a),[3,4];case 4:return[2]}}))}))}function yp(e,t){(e.ko.get(t)||[]).forEach((function(e){e.resolve()})),e.ko.delete(t)}function bp(e,t,n){var r=ds(e),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.xo[r.currentUser.toKey()]=i}}function wp(e,t,n){void 0===n&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.Vo.get(t);r<i.length;r++){var o=i[r];e.Po.delete(o),n&&e.vo.Mo(o,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach((function(t){e.No.containsKey(t)||_p(e,t)}))}function _p(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);null!==n&&(md(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),Ep(e))}function xp(e,t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof np?(e.No.addReference(o.key,t),Sp(e,o)):o instanceof rp?(ss("SyncEngine","Document no longer in limbo: "+o.key),e.No.removeReference(o.key,t),e.No.containsKey(o.key)||_p(e,o.key)):fs()}}function Sp(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(ss("SyncEngine","New document in limbo: "+n),e.So.add(r),Ep(e))}function Ep(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new Bs(ks.fromString(t)),r=e.Fo.next();e.Co.set(r,new ap(n)),e.Do=e.Do.insert(n,r),gd(e.remoteStore,new hf(Nu(Tu(n.path)),r,2,ns.o))}}function kp(e,t,n){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a;return(0,Fn.__generator)(this,(function(s){switch(s.label){case 0:return r=ds(e),i=[],o=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach((function(e,s){a.push(r.Oo(s,t,n).then((function(e){if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,e.fromCache?"not-current":"current"),i.push(e);var t=ph.Pn(s.targetId,e);o.push(t)}})))})),[4,Promise.all(a)]);case 1:return s.sent(),r.vo._r(i),[4,function(e,t){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l;return(0,Fn.__generator)(this,(function(f){switch(f.label){case 0:n=ds(e),f.label=1;case 1:return f.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Xl.forEach(t,(function(t){return Xl.forEach(t.bn,(function(r){return n.persistence.referenceDelegate.addReference(e,t.targetId,r)})).next((function(){return Xl.forEach(t.vn,(function(r){return n.persistence.referenceDelegate.removeReference(e,t.targetId,r)}))}))}))}))];case 2:return f.sent(),[3,4];case 3:if(!nf(r=f.sent()))throw r;return ss("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=t;i<o.length;i++)a=o[i],s=a.targetId,a.fromCache||(u=n.kn.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),n.kn=n.kn.insert(s,l));return[2]}}))}))}(r.localStore,o)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))}function Tp(e,t){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,Fn.__generator)(this,(function(i){switch(i.label){case 0:return(n=ds(e)).currentUser.isEqual(t)?[3,3]:(ss("SyncEngine","User change. New user:",t.toKey()),[4,yh(n.localStore,t)]);case 1:return r=i.sent(),n.currentUser=t,function(e,t){e.ko.forEach((function(e){e.forEach((function(e){e.reject(new is(rs.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.ko.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,kp(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function Cp(e,t){var n=ds(e),r=n.Co.get(t);if(r&&r.bo)return Mc().add(r.key);var i=Mc(),o=n.Vo.get(t);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=s[a],c=n.Po.get(u);i=i.unionWith(c.view.wo)}return i}function Ip(e,t){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return(0,Fn.__generator)(this,(function(o){switch(o.label){case 0:return[4,Th((n=ds(e)).localStore,t.query,!0)];case 1:return r=o.sent(),i=t.view.Ao(r),[2,(n.isPrimaryClient&&xp(n,t.targetId,i.To),i)]}}))}))}function Pp(e){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var t;return(0,Fn.__generator)(this,(function(n){return[2,Ih((t=ds(e)).localStore).then((function(e){return kp(t,e)}))]}))}))}function Op(e,t,n,r){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var i,o;return(0,Fn.__generator)(this,(function(a){switch(a.label){case 0:return[4,function(e,t){var n=ds(e),r=ds(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.jt(e,t).next((function(t){return t?n.Mn.pn(e,t):Xl.resolve(null)}))}))}((i=ds(e)).localStore,t)];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,Pd(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(bp(i,t,r||null),yp(i,t),function(e,t){ds(ds(e)._n).Gt(t)}(i.localStore,t)):fs(),a.label=4;case 4:return[4,kp(i,o)];case 5:return a.sent(),[3,7];case 6:ss("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}}))}))}function Ap(e,t){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c;return(0,Fn.__generator)(this,(function(l){switch(l.label){case 0:return Lp(n=ds(e)),Fp(n),!0!==t||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,Dp(n,r.toArray())]);case 1:return i=l.sent(),n.$o=!0,[4,Md(n.remoteStore,!0)];case 2:for(l.sent(),o=0,a=i;o<a.length;o++)s=a[o],gd(n.remoteStore,s);return[3,7];case 3:return!1!==t||!1===n.$o?[3,7]:(u=[],c=Promise.resolve(),n.Vo.forEach((function(e,t){n.sharedClientState.isLocalQueryTarget(t)?u.push(t):c=c.then((function(){return wp(n,t),kh(n.localStore,t,!0)})),md(n.remoteStore,t)})),[4,c]);case 4:return l.sent(),[4,Dp(n,u)];case 5:return l.sent(),function(e){var t=ds(e);t.Co.forEach((function(e,n){md(t.remoteStore,n)})),t.No.ts(),t.Co=new Map,t.Do=new Ec(Bs.comparator)}(n),n.$o=!1,[4,Md(n.remoteStore,!1)];case 6:l.sent(),l.label=7;case 7:return[2]}}))}))}function Dp(e,t,n){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,f,h,d,p,v;return(0,Fn.__generator)(this,(function(g){switch(g.label){case 0:n=ds(e),r=[],i=[],o=0,a=t,g.label=1;case 1:return o<a.length?(s=a[o],u=void 0,(c=n.Vo.get(s))&&0!==c.length?[4,Eh(n.localStore,Nu(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,f=c,g.label=3;case 3:return l<f.length?(h=f[l],d=n.Po.get(h),[4,Ip(n,d)]):[3,6];case 4:(p=g.sent()).snapshot&&i.push(p.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Ch(n.localStore,s)];case 8:return v=g.sent(),[4,Eh(n.localStore,v)];case 9:return u=g.sent(),[4,cp(n,Np(v),s,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}}))}))}function Np(e){return ku(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Rp(e){var t=ds(e);return ds(ds(t.localStore).persistence).fn()}function jp(e,t,n,r){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var i,o,a;return(0,Fn.__generator)(this,(function(s){switch(s.label){case 0:return(i=ds(e)).$o?(ss("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Ih(i.localStore)];case 3:return o=s.sent(),a=Uc.createSynthesizedRemoteEventForCurrentChange(t,"current"===n),[4,kp(i,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,kh(i.localStore,t,!0)];case 6:return s.sent(),wp(i,t,r),[3,8];case 7:fs(),s.label=8;case 8:return[2]}}))}))}function Mp(e,t,n){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,f,h;return(0,Fn.__generator)(this,(function(d){switch(d.label){case 0:if(!(r=Lp(e)).$o)return[3,10];i=0,o=t,d.label=1;case 1:return i<o.length?(a=o[i],r.Vo.has(a)?(ss("SyncEngine","Adding an already active target "+a),[3,5]):[4,Ch(r.localStore,a)]):[3,6];case 2:return s=d.sent(),[4,Eh(r.localStore,s)];case 3:return u=d.sent(),[4,cp(r,Np(s),u.targetId,!1)];case 4:d.sent(),gd(r.remoteStore,u),d.label=5;case 5:return i++,[3,1];case 6:c=function(e){return(0,Fn.__generator)(this,(function(t){switch(t.label){case 0:return r.Vo.has(e)?[4,kh(r.localStore,e,!1).then((function(){md(r.remoteStore,e),wp(r,e)})).catch(Hf)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))},l=0,f=n,d.label=7;case 7:return l<f.length?(h=f[l],[5,c(h)]):[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function Lp(e){var t=ds(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=hp.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Cp.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=pp.bind(null,t),t.vo._r=Yd.bind(null,t.eventManager),t.vo.Mo=$d.bind(null,t.eventManager),t}function Fp(e){var t=ds(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=vp.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=gp.bind(null,t),t}function Up(e,t,n){var r=ds(e);(function(e,t,n){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a,s,u;return(0,Fn.__generator)(this,(function(c){switch(c.label){case 0:return c.trys.push([0,14,,15]),[4,t.getMetadata()];case 1:return r=c.sent(),[4,function(e,t){var n=ds(e),r=el(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ke.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(e.localStore,r)];case 2:return c.sent()?[4,t.close()]:[3,4];case 3:return[2,(c.sent(),void n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)))];case 4:return n._updateProgress(tp(r)),i=new ep(r,e.localStore,t.R),[4,t.Lo()];case 5:o=c.sent(),c.label=6;case 6:return o?[4,i.oo(o)]:[3,10];case 7:return(a=c.sent())&&n._updateProgress(a),[4,t.Lo()];case 8:o=c.sent(),c.label=9;case 9:return[3,6];case 10:return[4,i.complete()];case 11:return s=c.sent(),[4,kp(e,s.wn,void 0)];case 12:return c.sent(),[4,function(e,t){var n=ds(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ke.saveBundleMetadata(e,t)}))}(e.localStore,r)];case 13:return c.sent(),n._completeWith(s.progress),[3,15];case 14:return cs("SyncEngine","Loading bundle failed with "+(u=c.sent())),n._failWith(u),[3,15];case 15:return[2]}}))}))})(r,t,n).then((function(){r.sharedClientState.notifyBundleLoaded()}))}var Bp=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(e){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){return(0,Fn.__generator)(this,(function(t){switch(t.label){case 0:return this.R=ad(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return t.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Ko(e),[2]}}))}))},e.prototype.Uo=function(e){return null},e.prototype.Ko=function(e){return mh(this.persistence,new vh,e.initialUser,this.R)},e.prototype.qo=function(e){return new Uh(qh.bs,this.R)},e.prototype.Bo=function(e){return new Jh},e.prototype.terminate=function(){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){return(0,Fn.__generator)(this,(function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}}))}))},e}(),qp=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).Qo=t,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return(0,Fn.__extends)(t,e),t.prototype.initialize=function(t){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var n=this;return(0,Fn.__generator)(this,(function(r){switch(r.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return r.sent(),[4,Ph(this.localStore)];case 2:return r.sent(),[4,this.Qo.initialize(this,t)];case 3:return r.sent(),[4,Fp(this.Qo.syncEngine)];case 4:return r.sent(),[4,Pd(this.Qo.remoteStore)];case 5:return r.sent(),[4,this.persistence.He((function(){return n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(n.localStore),Promise.resolve()}))];case 6:return r.sent(),[2]}}))}))},t.prototype.Ko=function(e){return mh(this.persistence,new vh,e.initialUser,this.R)},t.prototype.Uo=function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new Yf(t,e.asyncQueue)},t.prototype.qo=function(e){var t=fh(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Df.withCacheSize(this.cacheSizeBytes):Df.DEFAULT;return new uh(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,id(),od(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(e){return new Jh},t}(Bp),Vp=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n,!1)||this).Qo=t,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return(0,Fn.__extends)(t,e),t.prototype.initialize=function(t){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var n,r=this;return(0,Fn.__generator)(this,(function(i){switch(i.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return i.sent(),n=this.Qo.syncEngine,this.sharedClientState instanceof Xh?(this.sharedClientState.syncEngine={ui:Op.bind(null,n),ai:jp.bind(null,n),hi:Mp.bind(null,n),fn:Rp.bind(null,n),ci:Pp.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He((function(e){return(0,Fn.__awaiter)(r,void 0,void 0,(function(){return(0,Fn.__generator)(this,(function(t){switch(t.label){case 0:return[4,Ap(this.Qo.syncEngine,e)];case 1:return t.sent(),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):e||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},t.prototype.Bo=function(e){var t=id();if(!Xh.yt(t))throw new is(rs.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=fh(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Xh(t,e.asyncQueue,n,e.clientId,e.initialUser)},t}(qp),zp=function(){function e(){}return e.prototype.initialize=function(e,t){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var n=this;return(0,Fn.__generator)(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return dp(n.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Tp.bind(null,this.syncEngine),[4,Md(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.createEventManager=function(e){return new Hd},e.prototype.createDatastore=function(e){var t,n=ad(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new rd(t));return function(e,t,n){return new fd(e,t,n)}(e.credentials,r,n)},e.prototype.createRemoteStore=function(e){var t,n,r,i,o,a=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return dp(a.syncEngine,e,0)},o=ed.yt()?new ed:new Zh,new dd(t,n,r,i,o)},e.prototype.createSyncEngine=function(e,t){return function(e,t,n,r,i,o,a){var s=new sp(e,t,n,r,i,o);return a&&(s.$o=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)},e.prototype.terminate=function(){return function(e){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var t;return(0,Fn.__generator)(this,(function(n){switch(n.label){case 0:return t=ds(e),ss("RemoteStore","RemoteStore shutting down."),t.Or.add(5),[4,vd(t)];case 1:return n.sent(),t.Lr.shutdown(),t.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},e}();function Wp(e,t){void 0===t&&(t=10240);var n=0;return{read:function(){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var r;return(0,Fn.__generator)(this,(function(i){return n<e.byteLength?(r={value:e.slice(n,n+t),done:!1},[2,(n+=t,r)]):[2,{done:!0}]}))}))},cancel:function(){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){return(0,Fn.__generator)(this,(function(e){return[2]}))}))},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var Hp=function(){function e(e){this.observer=e,this.muted=!1}return e.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},e.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)},e}(),Kp=function(){function e(e,t){var n=this;this.Go=e,this.R=t,this.metadata=new Ql,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then((function(e){e&&e.io()?n.metadata.resolve(e.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==e?void 0:e.payload)))}),(function(e){return n.metadata.reject(e)}))}return e.prototype.close=function(){return this.Go.cancel()},e.prototype.getMetadata=function(){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){return(0,Fn.__generator)(this,(function(e){return[2,this.metadata.promise]}))}))},e.prototype.Lo=function(){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){return(0,Fn.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.Ho())]}}))}))},e.prototype.Ho=function(){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var e,t,n,r;return(0,Fn.__generator)(this,(function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(e=i.sent())?[2,null]:(t=this.zo.decode(e),n=Number(t),isNaN(n)&&this.Yo("length string ("+t+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new Jd(JSON.parse(r),e.length+n)]}}))}))},e.prototype.Zo=function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))},e.prototype.Jo=function(){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var e,t;return(0,Fn.__generator)(this,(function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((e=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),t=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),t)])}}))}))},e.prototype.Xo=function(e){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var t;return(0,Fn.__generator)(this,(function(n){switch(n.label){case 0:return this.buffer.length<e?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return t=this.zo.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),t)]}}))}))},e.prototype.Yo=function(e){throw this.Go.cancel(),new Error("Invalid bundle format: "+e)},e.prototype.tc=function(){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var e,t;return(0,Fn.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(e=n.sent()).done||((t=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t),[2,e.done]}}))}))},e}(),Gp=function(){function e(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(e){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var t,n=this;return(0,Fn.__generator)(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new is(rs.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(e,t){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return(0,Fn.__generator)(this,(function(u){switch(u.label){case 0:return n=ds(e),r=sl(n.R)+"/documents",i={documents:t.map((function(e){return rl(n.R,e)}))},[4,n.$i("BatchGetDocuments",r,i)];case 1:return o=u.sent(),a=new Map,o.forEach((function(e){var t=function(e,t){return"found"in t?function(e,t){hs(!!t.found),t.found.name,t.found.updateTime;var n=il(e,t.found.name),r=el(t.found.updateTime),i=new tu({mapValue:{fields:t.found.fields}});return ru.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){hs(!!t.missing),hs(!!t.readTime);var n=il(e,t.missing),r=el(t.readTime);return ru.newNoDocument(n,r)}(e,t):fs()}(n.R,e);a.set(t.key.toString(),t)})),s=[],[2,(t.forEach((function(e){var t=a.get(e.toString());hs(!!t),s.push(t)})),s)]}}))}))}(this.datastore,e)];case 1:return[2,((t=r.sent()).forEach((function(e){return n.recordVersion(e)})),t)]}}))}))},e.prototype.set=function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.update=function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())},e.prototype.delete=function(e){this.write(new bc(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.commit=function(){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var e,t=this;return(0,Fn.__generator)(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach((function(t){e.delete(t.key.toString())})),e.forEach((function(e,n){var r=Bs.fromPath(n);t.mutations.push(new wc(r,t.precondition(r)))})),[4,function(e,t){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return(0,Fn.__generator)(this,(function(o){switch(o.label){case 0:return n=ds(e),r=sl(n.R)+"/documents",i={writes:t.map((function(e){return fl(n.R,e)}))},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},e.prototype.recordVersion=function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw fs();t=ws.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new is(rs.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)},e.prototype.precondition=function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?ic.updateTime(t):ic.none()},e.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(ws.min()))throw new is(rs.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ic.updateTime(t)}return ic.exists(!0)},e.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},e.prototype.ensureCommitNotCalled=function(){},e}(),Yp=function(){function e(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new sd(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var e=this;this.Zi.ji((function(){return(0,Fn.__awaiter)(e,void 0,void 0,(function(){var e,t,n=this;return(0,Fn.__generator)(this,(function(r){return e=new Gp(this.datastore),(t=this.sc(e))&&t.then((function(t){n.asyncQueue.enqueueAndForget((function(){return e.commit().then((function(){n.deferred.resolve(t)})).catch((function(e){n.ic(e)}))}))})).catch((function(e){n.ic(e)})),[2]}))}))}))},e.prototype.sc=function(e){try{var t=this.updateFunction(e);return!Ls(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}},e.prototype.ic=function(e){var t=this;this.ec>0&&this.rc(e)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return t.nc(),Promise.resolve()}))):this.deferred.reject(e)},e.prototype.rc=function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!xc(t)}return!1},e}(),$p=function(){function e(e,t,n){var r=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=n,this.user=Vh.UNAUTHENTICATED,this.clientId=vs.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(t,(function(e){return(0,Fn.__awaiter)(r,void 0,void 0,(function(){return(0,Fn.__generator)(this,(function(t){switch(t.label){case 0:return ss("FirestoreClient","Received user=",e.uid),[4,this.credentialListener(e)];case 1:return t.sent(),this.user=e,[2]}}))}))}))}return e.prototype.getConfiguration=function(){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){return(0,Fn.__generator)(this,(function(e){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]}))}))},e.prototype.setCredentialChangeListener=function(e){this.credentialListener=e},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new is(rs.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Ql;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return(0,Fn.__awaiter)(e,void 0,void 0,(function(){var e,n;return(0,Fn.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),t.resolve(),[3,6];case 5:return e=r.sent(),n=Bd(e,"Failed to shutdown persistence"),t.reject(n),[3,6];case 6:return[2]}}))}))})),t.promise},e}();function Qp(e,t){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var n,r,i=this;return(0,Fn.__generator)(this,(function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),ss("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=o.sent(),[4,t.initialize(n)];case 2:return o.sent(),r=n.initialUser,e.setCredentialChangeListener((function(e){return(0,Fn.__awaiter)(i,void 0,void 0,(function(){return(0,Fn.__generator)(this,(function(n){switch(n.label){case 0:return r.isEqual(e)?[3,2]:[4,yh(t.localStore,e)];case 1:n.sent(),r=e,n.label=2;case 2:return[2]}}))}))})),t.persistence.setDatabaseDeletedListener((function(){return e.terminate()})),e.offlineComponents=t,[2]}}))}))}function Xp(e,t){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,Fn.__generator)(this,(function(i){switch(i.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,Jp(e)];case 1:return n=i.sent(),ss("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=i.sent(),[4,t.initialize(n,r)];case 3:return i.sent(),e.setCredentialChangeListener((function(e){return function(e,t){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,Fn.__generator)(this,(function(i){switch(i.label){case 0:return(n=ds(e)).asyncQueue.verifyOperationInProgress(),ss("RemoteStore","RemoteStore received new credentials"),r=xd(n),n.Or.add(3),[4,vd(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(t)];case 2:return i.sent(),n.Or.delete(3),[4,pd(n)];case 3:return i.sent(),[2]}}))}))}(t.remoteStore,e)})),e.onlineComponents=t,[2]}}))}))}function Jp(e){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){return(0,Fn.__generator)(this,(function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(ss("FirestoreClient","Using default OfflineComponentProvider"),[4,Qp(e,new Bp)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}}))}))}function Zp(e){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){return(0,Fn.__generator)(this,(function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(ss("FirestoreClient","Using default OnlineComponentProvider"),[4,Xp(e,new zp)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}}))}))}function ev(e){return Jp(e).then((function(e){return e.persistence}))}function tv(e){return Jp(e).then((function(e){return e.localStore}))}function nv(e){return Zp(e).then((function(e){return e.remoteStore}))}function rv(e){return Zp(e).then((function(e){return e.syncEngine}))}function iv(e){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,Fn.__generator)(this,(function(r){switch(r.label){case 0:return[4,Zp(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=up.bind(null,t.syncEngine),n.onUnlisten=lp.bind(null,t.syncEngine),n)]}}))}))}function ov(e,t,n){var r=this;void 0===n&&(n={});var i=new Ql;return e.asyncQueue.enqueueAndForget((function(){return(0,Fn.__awaiter)(r,void 0,void 0,(function(){var r;return(0,Fn.__generator)(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new Hp({next:function(o){t.enqueueAndForget((function(){return Gd(e,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new is(rs.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new is(rs.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(e){return i.reject(e)}}),a=new Xd(Tu(n.path),o,{includeMetadataChanges:!0,so:!0});return Kd(e,a)},[4,iv(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}function av(e,t,n){var r=this;void 0===n&&(n={});var i=new Ql;return e.asyncQueue.enqueueAndForget((function(){return(0,Fn.__awaiter)(r,void 0,void 0,(function(){var r;return(0,Fn.__generator)(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new Hp({next:function(n){t.enqueueAndForget((function(){return Gd(e,a)})),n.fromCache&&"server"===r.source?i.reject(new is(rs.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),a=new Xd(n,o,{includeMetadataChanges:!0,so:!0});return Kd(e,a)},[4,iv(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}var sv=function(e,t,n,r,i,o,a,s){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=s},uv=function(){function e(e,t){this.projectId=e,this.database=t||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),cv=new Map,lv=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},fv=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,t){this.changeListener=t,e.enqueueRetryable((function(){return t(Vh.UNAUTHENTICATED)}))},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),hv=function(){function e(e){this.token=e,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),dv=function(){function e(e){var t=this;this.currentUser=Vh.UNAUTHENTICATED,this.oc=new Ql,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){t.cc++,t.currentUser=t.ac(),t.oc.resolve(),t.changeListener&&t.asyncQueue.enqueueRetryable((function(){return t.changeListener(t.currentUser)}))};var n=function(e){ss("FirebaseCredentialsProvider","Auth detected"),t.auth=e,t.auth.addAuthTokenListener(t.uc)};e.onInit((function(e){return n(e)})),setTimeout((function(){if(!t.auth){var r=e.getImmediate({optional:!0});r?n(r):(ss("FirebaseCredentialsProvider","Auth not yet detected"),t.oc.resolve())}}),0)}return e.prototype.getToken=function(){var e=this,t=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.cc!==t?(ss("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(hs("string"==typeof n.accessToken),new lv(n.accessToken,e.currentUser)):null})):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(e,t){var n=this;this.asyncQueue=e,this.asyncQueue.enqueueRetryable((function(){return(0,Fn.__awaiter)(n,void 0,void 0,(function(){return(0,Fn.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.oc.promise];case 1:return e.sent(),[4,t(this.currentUser)];case 2:return e.sent(),this.changeListener=t,[2]}}))}))}))},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var e=this.auth&&this.auth.getUid();return hs(null===e||"string"==typeof e),new Vh(e)},e}(),pv=function(){function e(e,t,n){this.hc=e,this.lc=t,this.fc=n,this.type="FirstParty",this.user=Vh.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.lc},t=this.hc.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.fc&&(e["X-Goog-Iam-Authorization-Token"]=this.fc),e},enumerable:!1,configurable:!0}),e}(),vv=function(){function e(e,t,n){this.hc=e,this.lc=t,this.fc=n}return e.prototype.getToken=function(){return Promise.resolve(new pv(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(e,t){e.enqueueRetryable((function(){return t(Vh.FIRST_PARTY)}))},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();function gv(e,t,n){if(!n)throw new is(rs.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function mv(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new is(rs.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function yv(e,t,n,r){if(!0===t&&!0===r)throw new is(rs.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function bv(e){if(!Bs.isDocumentKey(e))throw new is(rs.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function wv(e){if(Bs.isDocumentKey(e))throw new is(rs.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function _v(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return"function"==typeof e?"a function":fs()}function xv(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new is(rs.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=_v(e);throw new is(rs.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function Sv(e,t){if(t<=0)throw new is(rs.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}var Ev=function(){function e(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new is(rs.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new is(rs.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,yv("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams},e}(),kv=function(){function e(e,t){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ev({}),this._settingsFrozen=!1,e instanceof uv?(this._databaseId=e,this._credentials=new fv):(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new is(rs.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new uv(e.options.projectId)}(e),this._credentials=new dv(t))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new is(rs.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(e){if(this._settingsFrozen)throw new is(rs.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ev(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new fv;switch(e.type){case"gapi":var t=e.client;return hs(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new vv(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new is(rs.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return this,(e=cv.get(this))&&(ss("ComponentProvider","Removing Datastore"),cv.delete(this),e.terminate()),Promise.resolve();var e},e}(),Tv=function(){function e(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Iv(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),Cv=function(){function e(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),Iv=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,Tu(r))||this)._path=r,i.type="collection",i}return(0,Fn.__extends)(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Tv(this.firestore,null,new Bs(e))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._path)},t}(Cv);function Pv(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=(0,Un.getModularInstance)(e),gv("collection","path",t),e instanceof kv)return wv(n=ks.fromString.apply(ks,(0,Fn.__spreadArray)([t],r))),new Iv(e,null,n);if(!(e instanceof Tv||e instanceof Iv))throw new is(rs.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return wv(n=ks.fromString.apply(ks,(0,Fn.__spreadArray)([e.path],r)).child(ks.fromString(t))),new Iv(e.firestore,null,n)}function Ov(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=(0,Un.getModularInstance)(e),1===arguments.length&&(t=vs.u()),gv("doc","path",t),e instanceof kv)return bv(n=ks.fromString.apply(ks,(0,Fn.__spreadArray)([t],r))),new Tv(e,null,new Bs(n));if(!(e instanceof Tv||e instanceof Iv))throw new is(rs.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return bv(n=e._path.child(ks.fromString.apply(ks,(0,Fn.__spreadArray)([t],r)))),new Tv(e.firestore,e instanceof Iv?e.converter:null,new Bs(n))}function Av(e,t){return e=(0,Un.getModularInstance)(e),t=(0,Un.getModularInstance)(t),(e instanceof Tv||e instanceof Iv)&&(t instanceof Tv||t instanceof Iv)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Dv(e,t){return e=(0,Un.getModularInstance)(e),t=(0,Un.getModularInstance)(t),e instanceof Cv&&t instanceof Cv&&e.firestore===t.firestore&&ju(e._query,t._query)&&e.converter===t.converter}var Nv=function(){function e(){var e=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new sd(this,"async_queue_retry"),this.Ic=function(){var t=od();t&&ss("AsyncQueue","Visibility state changed to "+t.visibilityState),e.Zi.Gi()};var t=od();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(e){this.enqueue(e)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Ac(),this.Rc(e)},e.prototype.enterRestrictedMode=function(e){if(!this._c){this._c=!0,this.Ec=e||!1;var t=od();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(e){var t=this;if(this.Ac(),this._c)return new Promise((function(){}));var n=new Ql;return this.Rc((function(){return t._c&&t.Ec?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))},e.prototype.enqueueRetryable=function(e){var t=this;this.enqueueAndForget((function(){return t.wc.push(e),t.bc()}))},e.prototype.bc=function(){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var e,t=this;return(0,Fn.__generator)(this,(function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!nf(e=n.sent()))throw e;return ss("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.wc.length>0&&this.Zi.ji((function(){return t.bc()})),n.label=5;case 5:return[2]}}))}))},e.prototype.Rc=function(e){var t=this,n=this.dc.then((function(){return t.gc=!0,e().catch((function(e){throw t.yc=e,t.gc=!1,us("INTERNAL UNHANDLED ERROR: ",function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e})).then((function(e){return t.gc=!1,e}))}));return this.dc=n,n},e.prototype.enqueueAfterDelay=function(e,t,n){var r=this;this.Ac(),this.Tc.indexOf(e)>-1&&(t=0);var i=Ud.createAndSchedule(this,e,t,n,(function(e){return r.vc(e)}));return this.mc.push(i),i},e.prototype.Ac=function(){this.yc&&fs()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var e;return(0,Fn.__generator)(this,(function(t){switch(t.label){case 0:return[4,e=this.dc];case 1:t.sent(),t.label=2;case 2:if(e!==this.dc)return[3,0];t.label=3;case 3:return[2]}}))}))},e.prototype.Vc=function(e){for(var t=0,n=this.mc;t<n.length;t++)if(n[t].timerId===e)return!0;return!1},e.prototype.Sc=function(e){var t=this;return this.Pc().then((function(){t.mc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));for(var n=0,r=t.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==e&&i.timerId===e)break}return t.Pc()}))},e.prototype.Dc=function(e){this.Tc.push(e)},e.prototype.vc=function(e){var t=this.mc.indexOf(e);this.mc.splice(t,1)},e}();function Rv(e){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=e,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(e)}var jv=function(){function e(){this._progressObserver={},this._taskCompletionResolver=new Ql,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return e.prototype.onProgress=function(e,t,n){this._progressObserver={next:e,error:t,complete:n}},e.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},e.prototype.then=function(e,t){return this._taskCompletionResolver.promise.then(e,t)},e.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},e.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},e.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)},e}(),Mv=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).type="firestore",r._queue=new Nv,r._persistenceKey="name"in t?t.name:"[DEFAULT]",r}return(0,Fn.__extends)(t,e),t.prototype._terminate=function(){return this._firestoreClient||Fv(this),this._firestoreClient.terminate()},t}(kv);function Lv(e){return e._firestoreClient||Fv(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Fv(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new sv(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new $p(e._credentials,e._queue,r)}function Uv(e,t,n){var r=this,i=new Ql;return e.asyncQueue.enqueue((function(){return(0,Fn.__awaiter)(r,void 0,void 0,(function(){var r;return(0,Fn.__generator)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,Qp(e,n)];case 1:return o.sent(),[4,Xp(e,t)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(e){return"FirebaseError"===e.name?e.code===rs.FAILED_PRECONDITION||e.code===rs.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function Bv(e){if(e._initialized||e._terminated)throw new is(rs.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var qv=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0;n<e.length;++n)if(0===e[n].length)throw new is(rs.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Cs(e)}return e.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},e}(),Vv=function(){function e(e){this._byteString=e}return e.fromBase64String=function(t){try{return new e(Ps.fromBase64String(t))}catch(t){throw new is(rs.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}},e.fromUint8Array=function(t){return new e(Ps.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},e}(),zv=function(e){this._methodName=e},Wv=function(){function e(e,t){if(!isFinite(e)||e<-90||e>90)throw new is(rs.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new is(rs.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(e){return gs(this._lat,e._lat)||gs(this._long,e._long)},e}(),Hv=/^__.*__$/,Kv=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return null!==this.fieldMask?new dc(e,this.data,this.fieldMask,t,this.fieldTransforms):new hc(e,this.data,t,this.fieldTransforms)},e}(),Gv=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return new dc(e,this.data,this.fieldMask,t,this.fieldTransforms)},e}();function Yv(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fs()}}var $v=function(){function e(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Cc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xc({path:n,Fc:!1});return r.$c(e),r},e.prototype.Oc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xc({path:n,Fc:!1});return r.Cc(),r},e.prototype.Mc=function(e){return this.xc({path:void 0,Fc:!0})},e.prototype.Lc=function(e){return vg(e,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))},e.prototype.Cc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.$c(this.path.get(e))},e.prototype.$c=function(e){if(0===e.length)throw this.Lc("Document fields must not be empty");if(Yv(this.Nc)&&Hv.test(e))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),Qv=function(){function e(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.R=n||ad(e)}return e.prototype.Uc=function(e,t,n,r){return void 0===r&&(r=!1),new $v({Nc:e,methodName:t,qc:n,path:Cs.emptyPath(),Fc:!1,Bc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function Xv(e){var t=e._freezeSettings(),n=ad(e._databaseId);return new Qv(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Jv(e,t,n,r,i,o){void 0===o&&(o={});var a=e.Uc(o.merge||o.mergeFields?2:0,t,n,i);fg("Data must be an object, but it was:",a,r);var s,u,c=cg(r,a);if(o.merge)s=new Is(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){for(var l=[],f=0,h=o.mergeFields;f<h.length;f++){var d=hg(t,h[f],n);if(!a.contains(d))throw new is(rs.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");gg(l,d)||l.push(d)}s=new Is(l),u=a.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=a.fieldTransforms;return new Kv(new tu(c),s,u)}var Zv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Fn.__extends)(t,e),t.prototype._toFieldTransform=function(e){if(2!==e.Nc)throw 1===e.Nc?e.Lc(this._methodName+"() can only appear at the top level of your update data"):e.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return e.fieldMask.push(e.path),null},t.prototype.isEqual=function(e){return e instanceof t},t}(zv);function eg(e,t,n){return new $v({Nc:3,qc:t.settings.qc,methodName:e._methodName,Fc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var tg=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Fn.__extends)(t,e),t.prototype._toFieldTransform=function(e){return new nc(e.path,new Yu)},t.prototype.isEqual=function(e){return e instanceof t},t}(zv),ng=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Kc=n,r}return(0,Fn.__extends)(t,e),t.prototype._toFieldTransform=function(e){var t=eg(this,e,!0),n=this.Kc.map((function(e){return ug(e,t)})),r=new $u(n);return new nc(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(zv),rg=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Kc=n,r}return(0,Fn.__extends)(t,e),t.prototype._toFieldTransform=function(e){var t=eg(this,e,!0),n=this.Kc.map((function(e){return ug(e,t)})),r=new Xu(n);return new nc(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(zv),ig=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Qc=n,r}return(0,Fn.__extends)(t,e),t.prototype._toFieldTransform=function(e){var t=new Zu(e.R,zu(e.R,this.Qc));return new nc(e.path,t)},t.prototype.isEqual=function(e){return this===e},t}(zv);function og(e,t,n,r){var i=e.Uc(1,t,n);fg("Data must be an object, but it was:",i,r);var o=[],a=tu.empty();xs(r,(function(e,r){var s=pg(t,e,n);r=(0,Un.getModularInstance)(r);var u=i.Oc(s);if(r instanceof Zv)o.push(s);else{var c=ug(r,u);null!=c&&(o.push(s),a.set(s,c))}}));var s=new Is(o);return new Gv(a,s,i.fieldTransforms)}function ag(e,t,n,r,i,o){var a=e.Uc(1,t,n),s=[hg(t,r,n)],u=[i];if(o.length%2!=0)throw new is(rs.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(hg(t,o[c])),u.push(o[c+1]);for(var l=[],f=tu.empty(),h=s.length-1;h>=0;--h)if(!gg(l,s[h])){var d=s[h],p=u[h];p=(0,Un.getModularInstance)(p);var v=a.Oc(d);if(p instanceof Zv)l.push(d);else{var g=ug(p,v);null!=g&&(l.push(d),f.set(d,g))}}var m=new Is(l);return new Gv(f,m,a.fieldTransforms)}function sg(e,t,n,r){return void 0===r&&(r=!1),ug(n,e.Uc(r?4:3,t))}function ug(e,t){if(lg(e=(0,Un.getModularInstance)(e)))return fg("Unsupported field value:",t,e),cg(e,t);if(e instanceof zv)return function(e,t){if(!Yv(t.Nc))throw t.Lc(e._methodName+"() can only be used with update() and set()");if(!t.path)throw t.Lc(e._methodName+"() is not currently supported inside arrays");var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&4!==t.Nc)throw t.Lc("Nested arrays are not supported");return function(e,t){for(var n=[],r=0,i=0,o=e;i<o.length;i++){var a=ug(o[i],t.Mc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,Un.getModularInstance)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return zu(t.R,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=bs.fromDate(e);return{timestampValue:Xc(t.R,n)}}if(e instanceof bs)return n=new bs(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)),{timestampValue:Xc(t.R,n)};if(e instanceof Wv)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Vv)return{bytesValue:Jc(t.R,e._byteString)};if(e instanceof Tv){n=t.databaseId;var r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Lc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:tl(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Lc("Unsupported field value: "+_v(e))}(e,t)}function cg(e,t){var n={};return Ss(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):xs(e,(function(e,r){var i=ug(r,t.kc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function lg(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof bs||e instanceof Wv||e instanceof Vv||e instanceof Tv||e instanceof zv)}function fg(e,t,n){if(!lg(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=_v(n);throw"an object"===r?t.Lc(e+" a custom object"):t.Lc(e+" "+r)}}function hg(e,t,n){if((t=(0,Un.getModularInstance)(t))instanceof qv)return t._internalPath;if("string"==typeof t)return pg(e,t);throw vg("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var dg=new RegExp("[~\\*/\\[\\]]");function pg(e,t,n){if(t.search(dg)>=0)throw vg("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return(new(qv.bind.apply(qv,(0,Fn.__spreadArray)([void 0],t.split(".")))))._internalPath}catch(wm){throw vg("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function vg(e,t,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,s="Function "+t+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new is(rs.INVALID_ARGUMENT,(s+=". ")+e+u)}function gg(e,t){return e.some((function(e){return e.isEqual(t)}))}var mg=function(){function e(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Tv(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return null!==this._document},e.prototype.data=function(){if(this._document){if(this._converter){var e=new yg(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(e){if(this._document){var t=this._document.data.field(bg("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}},e}(),yg=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Fn.__extends)(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(mg);function bg(e,t){return"string"==typeof t?pg(e,t):t instanceof qv?t._internalPath:t._delegate._internalPath}var wg=function(){function e(e,t){this.hasPendingWrites=e,this.fromCache=t}return e.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},e}(),_g=function(e){function t(t,n,r,i,o,a){var s=this;return(s=e.call(this,t,n,r,i,a)||this)._firestore=t,s._firestoreImpl=t,s.metadata=o,s}return(0,Fn.__extends)(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(e){if(void 0===e&&(e={}),this._document){if(this._converter){var t=new xg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}},t.prototype.get=function(e,t){if(void 0===t&&(t={}),this._document){var n=this._document.data.field(bg("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}},t}(mg),xg=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Fn.__extends)(t,e),t.prototype.data=function(t){return void 0===t&&(t={}),e.prototype.data.call(this,t)},t}(_g),Sg=function(){function e(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new wg(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(e.prototype,"docs",{get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new xg(n._firestore,n._userDataWriter,r.key,r,new wg(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))},e.prototype.docChanges=function(e){void 0===e&&(e={});var t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new is(rs.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new xg(e._firestore,e._userDataWriter,t.doc.key,t.doc,new wg(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new xg(e._firestore,e._userDataWriter,t.doc.key,t.doc,new wg(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,o=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(o=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:Eg(t.type),doc:n,oldIndex:i,newIndex:o}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},e}();function Eg(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fs()}}function kg(e,t){return e instanceof _g&&t instanceof _g?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Sg&&t instanceof Sg&&e._firestore===t._firestore&&Dv(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Tg(e){if(Iu(e)&&0===e.explicitOrderBy.length)throw new is(rs.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Cg=function(){};function Ig(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o=i[r];e=o._apply(e)}return e}var Pg=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).jc=t,i.Wc=n,i.Gc=r,i.type="where",i}return(0,Fn.__extends)(t,e),t.prototype._apply=function(e){var t=Xv(e.firestore),n=function(e,t,n,r,i,o,a){var s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new is(rs.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Mg(a,o);for(var u=[],c=0,l=a;c<l.length;c++){var f=l[c];u.push(jg(r,e,f))}s={arrayValue:{values:u}}}else s=jg(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Mg(a,o),s=sg(n,"where",a,"in"===o||"not-in"===o);var h=cu.create(i,o,s);return function(e,t){if(t.g()){var n=Ou(e);if(null!==n&&!n.isEqual(t.field))throw new is(rs.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+t.field.toString()+"'");var r=Pu(e);null!==r&&Lg(e,t.field,r)}var i=function(e,t){for(var n=0,r=e.filters;n<r.length;n++){var i=r[n];if(t.indexOf(i.op)>=0)return i.op}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new is(rs.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter."):new is(rs.INVALID_ARGUMENT,"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+i.toString()+"' filters.")}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.jc,this.Wc,this.Gc);return new Cv(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Eu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))},t}(Cg),Og=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).jc=t,r.zc=n,r.type="orderBy",r}return(0,Fn.__extends)(t,e),t.prototype._apply=function(e){var t=function(e,t,n){if(null!==e.startAt)throw new is(rs.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new is(rs.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new wu(t,n);return function(e,t){if(null===Pu(e)){var n=Ou(e);null!==n&&Lg(e,n,t.field)}}(e,r),r}(e._query,this.jc,this.zc);return new Cv(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Eu(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))},t}(Cg),Ag=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Hc=n,i.Jc=r,i}return(0,Fn.__extends)(t,e),t.prototype._apply=function(e){return new Cv(e.firestore,e.converter,Ru(e._query,this.Hc,this.Jc))},t}(Cg),Dg=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Yc=n,i.Xc=r,i}return(0,Fn.__extends)(t,e),t.prototype._apply=function(e){var t=Rg(e,this.type,this.Yc,this.Xc);return new Cv(e.firestore,e.converter,function(e,t){return new Eu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))},t}(Cg),Ng=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Yc=n,i.Xc=r,i}return(0,Fn.__extends)(t,e),t.prototype._apply=function(e){var t=Rg(e,this.type,this.Yc,this.Xc);return new Cv(e.firestore,e.converter,function(e,t){return new Eu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))},t}(Cg);function Rg(e,t,n,r){if(n[0]=(0,Un.getModularInstance)(n[0]),n[0]instanceof mg)return function(e,t,n,r,i){if(!r)throw new is(rs.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=Du(e);a<s.length;a++){var u=s[a];if(u.field.isKeyField())o.push(Ys(t,r.key));else{var c=r.data.field(u.field);if(Rs(c))throw new is(rs.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new is(rs.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new yu(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=Xv(e.firestore);return function(e,t,n,r,i,o){var a=e.explicitOrderBy;if(i.length>a.length)throw new is(rs.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.isKeyField()){if("string"!=typeof c)throw new is(rs.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Au(e)&&-1!==c.indexOf("/"))throw new is(rs.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=e.path.child(ks.fromString(c));if(!Bs.isDocumentKey(l))throw new is(rs.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var f=new Bs(l);s.push(Ys(t,f))}else{var h=sg(n,r,c);s.push(h)}}return new yu(s,o)}(e._query,e.firestore._databaseId,i,t,n,r)}function jg(e,t,n){if("string"==typeof(n=(0,Un.getModularInstance)(n))){if(""===n)throw new is(rs.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Au(t)&&-1!==n.indexOf("/"))throw new is(rs.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(ks.fromString(n));if(!Bs.isDocumentKey(r))throw new is(rs.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Ys(e,new Bs(r))}if(n instanceof Tv)return Ys(e,n._key);throw new is(rs.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+_v(n)+".")}function Mg(e,t){if(!Array.isArray(e)||0===e.length)throw new is(rs.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new is(rs.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function Lg(e,t,n){if(!n.isEqual(t))throw new is(rs.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var Fg=function(){function e(){}return e.prototype.convertValue=function(e,t){switch(void 0===t&&(t="none"),qs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ds(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ns(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw fs()}},e.prototype.convertObject=function(e,t){var n=this,r={};return xs(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r},e.prototype.convertGeoPoint=function(e){return new Wv(Ds(e.latitude),Ds(e.longitude))},e.prototype.convertArray=function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))},e.prototype.convertServerTimestamp=function(e,t){switch(t){case"previous":var n=js(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Ms(e));default:return null}},e.prototype.convertTimestamp=function(e){var t=As(e);return new bs(t.seconds,t.nanos)},e.prototype.convertDocumentKey=function(e,t){var n=ks.fromString(e);hs(Tl(n));var r=new uv(n.get(1),n.get(3)),i=new Bs(n.popFirst(5));return r.isEqual(t)||us("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+t.projectId+"/"+t.database+") instead."),i},e}();function Ug(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var Bg=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return(0,Fn.__extends)(t,e),t.prototype.convertBytes=function(e){return new Vv(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Tv(this.firestore,null,t)},t}(Fg),qg=function(){function e(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Xv(e)}return e.prototype.set=function(e,t,n){this._verifyNotCommitted();var r=Vg(e,this._firestore),i=Ug(r.converter,t,n),o=Jv(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,ic.none())),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,a=Vg(e,this._firestore);return o="string"==typeof(t=(0,Un.getModularInstance)(t))||t instanceof qv?ag(this._dataReader,"WriteBatch.update",a._key,t,n,r):og(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(o.toMutation(a._key,ic.exists(!0))),this},e.prototype.delete=function(e){this._verifyNotCommitted();var t=Vg(e,this._firestore);return this._mutations=this._mutations.concat(new bc(t._key,ic.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new is(rs.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();function Vg(e,t){if((e=(0,Un.getModularInstance)(e)).firestore!==t)throw new is(rs.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var zg=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return(0,Fn.__extends)(t,e),t.prototype.convertBytes=function(e){return new Vv(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Tv(this.firestore,null,t)},t}(Fg);function Wg(e,t,n){e=xv(e,Tv);var r=xv(e.firestore,Mv),i=Ug(e.converter,t,n);return Gg(r,[Jv(Xv(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,ic.none())])}function Hg(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e=xv(e,Tv);var o=xv(e.firestore,Mv),a=Xv(o);return Gg(o,[("string"==typeof(t=(0,Un.getModularInstance)(t))||t instanceof qv?ag(a,"updateDoc",e._key,t,n,r):og(a,"updateDoc",e._key,t)).toMutation(e._key,ic.exists(!0))])}function Kg(e){for(var t,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];e=(0,Un.getModularInstance)(e);var a={includeMetadataChanges:!1},s=0;"object"!=typeof i[s]||Rv(i[s])||(a=i[s],s++);var u,c,l,f={includeMetadataChanges:a.includeMetadataChanges};if(Rv(i[s])){var h=i[s];i[s]=null===(t=h.next)||void 0===t?void 0:t.bind(h),i[s+1]=null===(n=h.error)||void 0===n?void 0:n.bind(h),i[s+2]=null===(r=h.complete)||void 0===r?void 0:r.bind(h)}if(e instanceof Tv)c=xv(e.firestore,Mv),l=Tu(e._key.path),u={next:function(t){i[s]&&i[s](Yg(c,e,t))},error:i[s+1],complete:i[s+2]};else{var d=xv(e,Cv);c=xv(d.firestore,Mv),l=d._query;var p=new zg(c);u={next:function(e){i[s]&&i[s](new Sg(c,p,d,e))},error:i[s+1],complete:i[s+2]},Tg(e._query)}return function(e,t,n,r){var i=this,o=new Hp(r),a=new Xd(t,o,n);return e.asyncQueue.enqueueAndForget((function(){return(0,Fn.__awaiter)(i,void 0,void 0,(function(){var t;return(0,Fn.__generator)(this,(function(n){switch(n.label){case 0:return t=Kd,[4,iv(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}}))}))})),function(){o.Wo(),e.asyncQueue.enqueueAndForget((function(){return(0,Fn.__awaiter)(i,void 0,void 0,(function(){var t;return(0,Fn.__generator)(this,(function(n){switch(n.label){case 0:return t=Gd,[4,iv(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}}))}))}))}}(Lv(c),l,f,u)}function Gg(e,t){return function(e,t){var n=this,r=new Ql;return e.asyncQueue.enqueueAndForget((function(){return(0,Fn.__awaiter)(n,void 0,void 0,(function(){var n;return(0,Fn.__generator)(this,(function(i){switch(i.label){case 0:return n=fp,[4,rv(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(Lv(e),t)}function Yg(e,t,n){var r=n.docs.get(t._key),i=new zg(e);return new _g(e,i,t._key,r,new wg(n.hasPendingWrites,n.fromCache),t.converter)}var $g=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this)._firestore=t,r}return(0,Fn.__extends)(t,e),t.prototype.get=function(t){var n=this,r=Vg(t,this._firestore),i=new zg(this._firestore);return e.prototype.get.call(this,t).then((function(e){return new _g(n._firestore,i,r._key,e._document,new wg(!1,!1),r.converter)}))},t}(function(){function e(e,t){this._firestore=e,this._transaction=t,this._dataReader=Xv(e)}return e.prototype.get=function(e){var t=this,n=Vg(e,this._firestore),r=new Bg(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return fs();var i=e[0];if(i.isFoundDocument())return new mg(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new mg(t._firestore,r,n._key,null,n.converter);throw fs()}))},e.prototype.set=function(e,t,n){var r=Vg(e,this._firestore),i=Ug(r.converter,t,n),o=Jv(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a=Vg(e,this._firestore);return o="string"==typeof(t=(0,Un.getModularInstance)(t))||t instanceof qv?ag(this._dataReader,"Transaction.update",a._key,t,n,r):og(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,o),this},e.prototype.delete=function(e){var t=Vg(e,this._firestore);return this._transaction.delete(t._key),this},e}());function Qg(){if("undefined"==typeof Uint8Array)throw new is(rs.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Xg(){if("undefined"==typeof atob)throw new is(rs.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Jg=function(){function e(e){this._delegate=e}return e.fromBase64String=function(t){return Xg(),new e(Vv.fromBase64String(t))},e.fromUint8Array=function(t){return Qg(),new e(Vv.fromUint8Array(t))},e.prototype.toBase64=function(){return Xg(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return Qg(),this._delegate.toUint8Array()},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),Zg=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(e,t){return function(e,t){Bv(e=xv(e,Mv));var n=Lv(e),r=e._freezeSettings(),i=new zp;return Uv(n,i,new qp(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})},e.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(e){Bv(e=xv(e,Mv));var t=Lv(e),n=e._freezeSettings(),r=new zp;return Uv(t,r,new Vp(r,n.cacheSizeBytes))}(e._delegate)},e.prototype.clearIndexedDbPersistence=function(e){return function(e){var t=this;if(e._initialized&&!e._terminated)throw new is(rs.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Ql;return e._queue.enqueueAndForgetEvenWhileRestricted((function(){return(0,Fn.__awaiter)(t,void 0,void 0,(function(){var t;return(0,Fn.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(e){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var t;return(0,Fn.__generator)(this,(function(n){switch(n.label){case 0:return Zl.yt()?(t=e+"main",[4,Zl.delete(t)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(fh(e._databaseId,e._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return t=r.sent(),n.reject(t),[3,3];case 3:return[2]}}))}))})),n.promise}(e._delegate)},e}(),em=function(){function e(e,t,n){var r=this;this._delegate=t,this.Zc=n,this.INTERNAL={delete:function(){return r.terminate()}},e instanceof uv||(this.tu=e)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||cs("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)},e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),function(e,t,n,r){var i;void 0===r&&(r={});var o=(e=xv(e,kv))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==t&&cs("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},o),{host:t+":"+n,ssl:!1})),r.mockUserToken){var a,s;if("string"==typeof r.mockUserToken)a=r.mockUserToken,s=Vh.MOCK_USER;else{a=(0,Un.createMockUserToken)(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);var u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new is(rs.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new Vh(u)}e._credentials=new hv(new lv(a,s))}}(this._delegate,e,t,n)},e.prototype.enableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return(0,Fn.__awaiter)(t,void 0,void 0,(function(){var t,n;return(0,Fn.__generator)(this,(function(r){switch(r.label){case 0:return[4,ev(e)];case 1:return t=r.sent(),[4,nv(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!0),function(e){var t=ds(e);return t.Or.delete(0),pd(t)}(n))]}}))}))}))}(Lv(xv(this._delegate,Mv)))},e.prototype.disableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return(0,Fn.__awaiter)(t,void 0,void 0,(function(){var t,n;return(0,Fn.__generator)(this,(function(r){switch(r.label){case 0:return[4,ev(e)];case 1:return t=r.sent(),[4,nv(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!1),function(e){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var t;return(0,Fn.__generator)(this,(function(n){switch(n.label){case 0:return(t=ds(e)).Or.add(0),[4,vd(t)];case 1:return n.sent(),t.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(Lv(xv(this._delegate,Mv)))},e.prototype.enablePersistence=function(e){var t=!1,n=!1;return e&&yv("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(e){var t=this,n=new Ql;return e.asyncQueue.enqueueAndForget((function(){return(0,Fn.__awaiter)(t,void 0,void 0,(function(){var t;return(0,Fn.__generator)(this,(function(r){switch(r.label){case 0:return t=mp,[4,rv(e)];case 1:return[2,t.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(Lv(xv(this._delegate,Mv)))},e.prototype.onSnapshotsInSync=function(e){return function(e,t){return function(e,t){var n=this,r=new Hp(t);return e.asyncQueue.enqueueAndForget((function(){return(0,Fn.__awaiter)(n,void 0,void 0,(function(){var t;return(0,Fn.__generator)(this,(function(n){switch(n.label){case 0:return t=function(e,t){ds(e).Gr.add(t),t.next()},[4,iv(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Wo(),e.asyncQueue.enqueueAndForget((function(){return(0,Fn.__awaiter)(n,void 0,void 0,(function(){var t;return(0,Fn.__generator)(this,(function(n){switch(n.label){case 0:return t=function(e,t){ds(e).Gr.delete(t)},[4,iv(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))}))}}(Lv(e=xv(e,Mv)),Rv(t)?t:{next:t})}(this._delegate,e)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new is(rs.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new pm(this,Pv(this._delegate,e))}catch(e){throw am(e,"collection()","Firestore.collection()")}},e.prototype.doc=function(e){try{return new om(this,Ov(this._delegate,e))}catch(e){throw am(e,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(e){try{return new fm(this,function(e,t){if(e=xv(e,kv),gv("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new is(rs.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Cv(e,null,function(e){return new Eu(ks.emptyPath(),e)}(t))}(this._delegate,e))}catch(e){throw am(e,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(e){var t=this;return function(e,t){return function(e,t){var n=this,r=new Ql;return e.asyncQueue.enqueueAndForget((function(){return(0,Fn.__awaiter)(n,void 0,void 0,(function(){var n;return(0,Fn.__generator)(this,(function(i){switch(i.label){case 0:return[4,function(e){return Zp(e).then((function(e){return e.datastore}))}(e)];case 1:return n=i.sent(),new Yp(e.asyncQueue,n,t,r).run(),[2]}}))}))})),r.promise}(Lv(e),(function(n){return t(new $g(e,n))}))}(this._delegate,(function(n){return e(new nm(t,n))}))},e.prototype.batch=function(){var e=this;return Lv(this._delegate),new rm(new qg(this._delegate,(function(t){return Gg(e._delegate,t)})))},e.prototype.loadBundle=function(e){throw new is(rs.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(e){throw new is(rs.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),tm=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return(0,Fn.__extends)(t,e),t.prototype.convertBytes=function(e){return new Jg(new Vv(e))},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return om.eu(t,this.firestore,null)},t}(Fg);var nm=function(){function e(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new tm(e)}return e.prototype.get=function(e){var t=this,n=vm(e);return this._delegate.get(n).then((function(e){return new cm(t._firestore,new _g(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))},e.prototype.set=function(e,t,n){var r=vm(e);return n?(mv("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=vm(e);return 2===arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,(0,Fn.__spreadArray)([a,t,n],i)),this},e.prototype.delete=function(e){var t=vm(e);return this._delegate.delete(t),this},e}(),rm=function(){function e(e){this._delegate=e}return e.prototype.set=function(e,t,n){var r=vm(e);return n?(mv("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=vm(e);return 2===arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,(0,Fn.__spreadArray)([a,t,n],i)),this},e.prototype.delete=function(e){var t=vm(e);return this._delegate.delete(t),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),im=function(){function e(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}return e.prototype.fromFirestore=function(e,t){var n=new xg(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new lm(this._firestore,n),null!=t?t:{})},e.prototype.toFirestore=function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)},e.nu=function(t,n){var r=e.su,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new tm(t),n),i.set(n,o)),o},e}();im.su=new WeakMap;var om=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new tm(e)}return e.iu=function(t,n,r){if(t.length%2!=0)throw new is(rs.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new Tv(n._delegate,r,new Bs(t)))},e.eu=function(t,n,r){return new e(n,new Tv(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new pm(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new pm(this.firestore,Pv(this._delegate,e))}catch(e){throw am(e,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(e){return(e=(0,Un.getModularInstance)(e))instanceof Tv&&Av(this._delegate,e)},e.prototype.set=function(e,t){t=mv("DocumentReference.set",t);try{return t?Wg(this._delegate,e,t):Wg(this._delegate,e)}catch(e){throw am(e,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Hg(this._delegate,e):Hg.apply(void 0,(0,Fn.__spreadArray)([this._delegate,e,t],n))}catch(e){throw am(e,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Gg(xv((e=this._delegate).firestore,Mv),[new bc(e._key,ic.none())]);var e},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=sm(t),i=um(t,(function(t){return new cm(e.firestore,new _g(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return Kg(this._delegate,r,i)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=xv(e,Tv);var t=xv(e.firestore,Mv),n=Lv(t),r=new zg(t);return function(e,t){var n=this,r=new Ql;return e.asyncQueue.enqueueAndForget((function(){return(0,Fn.__awaiter)(n,void 0,void 0,(function(){var n;return(0,Fn.__generator)(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var r,i;return(0,Fn.__generator)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(e,t){var n=ds(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Mn.mn(e,t)}))}(e,t)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new is(rs.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=Bd(r,"Failed to get document '"+t+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,tv(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._key).then((function(n){return new _g(t,r,e._key,n,new wg(null!==n&&n.hasLocalMutations,!0),e.converter)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=xv(e,Tv);var t=xv(e.firestore,Mv);return ov(Lv(t),e._key,{source:"server"}).then((function(n){return Yg(t,e,n)}))}(this._delegate):function(e){e=xv(e,Tv);var t=xv(e.firestore,Mv);return ov(Lv(t),e._key).then((function(n){return Yg(t,e,n)}))}(this._delegate)).then((function(e){return new cm(t.firestore,new _g(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}))},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(im.nu(this.firestore,t)):this._delegate.withConverter(null))},e}();function am(e,t,n){return e.message=e.message.replace(t,n),e}function sm(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if("object"==typeof r&&!Rv(r))return r}return{}}function um(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=Rv(e[0])?e[0]:Rv(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var cm=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"ref",{get:function(){return new om(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(e){return this._delegate.data(e)},e.prototype.get=function(e,t){return this._delegate.get(e,t)},e.prototype.isEqual=function(e){return kg(this._delegate,e._delegate)},e}(),lm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Fn.__extends)(t,e),t.prototype.data=function(e){return this._delegate.data(e)},t}(cm),fm=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new tm(e)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,Ig(this._delegate,function(e,t,n){var r=t,i=bg("where",e);return new Pg(i,r,n)}(t,n,r)))}catch(t){throw am(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Ig(this._delegate,function(e,t){void 0===t&&(t="asc");var n=t,r=bg("orderBy",e);return new Og(r,n)}(t,n)))}catch(t){throw am(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Ig(this._delegate,function(e){return Sv("limit",e),new Ag("limit",e,"F")}(t)))}catch(t){throw am(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Ig(this._delegate,function(e){return Sv("limitToLast",e),new Ag("limitToLast",e,"L")}(t)))}catch(t){throw am(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Ig(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Dg("startAt",e,!0)}.apply(void 0,t)))}catch(t){throw am(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Ig(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Dg("startAfter",e,!1)}.apply(void 0,t)))}catch(t){throw am(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Ig(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Ng("endBefore",e,!0)}.apply(void 0,t)))}catch(t){throw am(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Ig(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Ng("endAt",e,!1)}.apply(void 0,t)))}catch(t){throw am(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(e){return Dv(this._delegate,e._delegate)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=xv(e,Cv);var t=xv(e.firestore,Mv),n=Lv(t),r=new zg(t);return function(e,t){var n=this,r=new Ql;return e.asyncQueue.enqueueAndForget((function(){return(0,Fn.__awaiter)(n,void 0,void 0,(function(){var n;return(0,Fn.__generator)(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a,s;return(0,Fn.__generator)(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Th(e,t,!0)];case 1:return s=u.sent(),r=new ip(t,s.Bn),i=r._o(s.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return a=u.sent(),s=Bd(a,"Failed to execute query '"+t+" against cache"),n.reject(s),[3,3];case 3:return[2]}}))}))},[4,tv(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._query).then((function(n){return new Sg(t,r,e,n)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=xv(e,Cv);var t=xv(e.firestore,Mv),n=Lv(t),r=new zg(t);return av(n,e._query,{source:"server"}).then((function(n){return new Sg(t,r,e,n)}))}(this._delegate):function(e){e=xv(e,Cv);var t=xv(e.firestore,Mv),n=Lv(t),r=new zg(t);return Tg(e._query),av(n,e._query).then((function(n){return new Sg(t,r,e,n)}))}(this._delegate)).then((function(e){return new dm(t.firestore,new Sg(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=sm(t),i=um(t,(function(t){return new dm(e.firestore,new Sg(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return Kg(this._delegate,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(im.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(),hm=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new lm(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),dm=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"query",{get:function(){return new fm(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map((function(t){return new lm(e._firestore,t)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new hm(t._firestore,e)}))},e.prototype.forEach=function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new lm(n._firestore,r))}))},e.prototype.isEqual=function(e){return kg(this._delegate,e._delegate)},e}(),pm=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).firestore=t,r._delegate=n,r}return(0,Fn.__extends)(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return e?new om(this.firestore,e):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(e){try{return new om(this.firestore,void 0===e?Ov(this._delegate):Ov(this._delegate,e))}catch(e){throw am(e,"doc()","CollectionReference.doc()")}},t.prototype.add=function(e){var t=this;return function(e,t){var n=xv(e.firestore,Mv),r=Ov(e),i=Ug(e.converter,t);return Gg(n,[Jv(Xv(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,ic.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new om(t.firestore,e)}))},t.prototype.isEqual=function(e){return Av(this._delegate,e._delegate)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(im.nu(this.firestore,e)):this._delegate.withConverter(null))},t}(fm);function vm(e){return xv(e,Tv)}var gm=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._delegate=new(qv.bind.apply(qv,(0,Fn.__spreadArray)([void 0],e)))}return e.documentId=function(){return new e(Cs.keyField().canonicalString())},e.prototype.isEqual=function(e){return(e=(0,Un.getModularInstance)(e))instanceof qv&&this._delegate._internalPath.isEqual(e._internalPath)},e}(),mm=function(){function e(e){this._delegate=e}return e.serverTimestamp=function(){var t=new tg("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new Zv("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new ng("arrayUnion",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new rg("arrayRemove",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(e){return new ig("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e}();function ym(e){return function(e,t){var n=Lv(e=xv(e,Mv)),r=new jv;return function(e,t,n,r){var i=this,o=function(e,t){return function(e,t){return new Kp(e,t)}(function(e,t){if(e instanceof Uint8Array)return Wp(e,t);if(e instanceof ArrayBuffer)return Wp(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,ad(t));e.asyncQueue.enqueueAndForget((function(){return(0,Fn.__awaiter)(i,void 0,void 0,(function(){var t;return(0,Fn.__generator)(this,(function(n){switch(n.label){case 0:return t=Up,[4,rv(e)];case 1:return t.apply(void 0,[n.sent(),o,r]),[2]}}))}))}))}(n,e._databaseId,t,r),r}(this._delegate,e)}function bm(e){var t,n,r=this;return(t=this._delegate,n=e,function(e,t){var n=this;return e.asyncQueue.enqueue((function(){return(0,Fn.__awaiter)(n,void 0,void 0,(function(){var n;return(0,Fn.__generator)(this,(function(r){switch(r.label){case 0:return n=function(e,t){var n=ds(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ke.getNamedQuery(e,t)}))},[4,tv(e)];case 1:return[2,n.apply(void 0,[r.sent(),t])]}}))}))}))}(Lv(t=xv(t,Mv)),n).then((function(e){return e?new Cv(t,null,e.query):null}))).then((function(e){return e?new fm(r,e):null}))}var wm,_m=n(826),xm={Firestore:em,GeoPoint:Wv,Timestamp:bs,Blob:Jg,Transaction:nm,WriteBatch:rm,DocumentReference:om,DocumentSnapshot:cm,Query:fm,QueryDocumentSnapshot:lm,QuerySnapshot:dm,CollectionReference:pm,FieldPath:gm,FieldValue:mm,setLogLevel:function(e){var t;t=e,os.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(e,t){e.INTERNAL.registerComponent(new _m.Component("firestore",(function(e){return function(e,t){return new em(e,new Mv(e,t),new Zg)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},xm)))})(wm=Mn.default),wm.registerVersion("@firebase/firestore","2.4.1");var Sm="firebasestorage.googleapis.com",Em=function(e){function t(n,r){var i=e.call(this,km(n),"Firebase Storage: "+r+" ("+km(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,t.prototype),i}return(0,Fn.__extends)(t,e),t.prototype._codeEquals=function(e){return km(e)===this.code},Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=this._baseMessage+"\n"+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),t}(Un.FirebaseError);function km(e){return"storage/"+e}function Tm(){return new Em("unknown","An unknown error occurred, please check the error payload for server response.")}function Cm(){return new Em("canceled","User canceled the upload/download.")}function Im(){return new Em("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Pm(e){return new Em("invalid-argument",e)}function Om(){return new Em("app-deleted","The Firebase app was deleted.")}function Am(e){return new Em("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Dm(e,t){return new Em("invalid-format","String does not match format '"+e+"': "+t)}function Nm(e){throw new Em("internal-error","Internal error: "+e)}var Rm={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},jm=function(e,t){this.data=e,this.contentType=t||null};function Mm(e,t){switch(e){case Rm.RAW:return new jm(Lm(t));case Rm.BASE64:case Rm.BASE64URL:return new jm(Fm(e,t));case Rm.DATA_URL:return new jm(function(e){var t=new Um(e);return t.base64?Fm(Rm.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(wm){throw Dm(Rm.DATA_URL,"Malformed data URL.")}return Lm(t)}(t.rest)}(t),new Um(t).contentType)}throw Tm()}function Lm(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function Fm(e,t){switch(e){case Rm.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw Dm(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case Rm.BASE64URL:var i=-1!==t.indexOf("+"),o=-1!==t.indexOf("/");if(i||o)throw Dm(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var a;try{a=atob(t)}catch(wm){throw Dm(e,"Invalid character found")}for(var s=new Uint8Array(a.length),u=0;u<a.length;u++)s[u]=a.charCodeAt(u);return s}var Um=function(e){this.base64=!1,this.contentType=null;var t=e.match(/^data:([^,]+)?,/);if(null===t)throw Dm(Rm.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n=t[1]||null;null!=n&&(this.base64=function(e,t){return e.length>=t.length&&e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=e.substring(e.indexOf(",")+1)};var Bm,qm={STATE_CHANGED:"state_changed"},Vm={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function zm(e){switch(e){case"running":case"pausing":case"canceling":return Vm.RUNNING;case"paused":return Vm.PAUSED;case"success":return Vm.SUCCESS;case"canceled":return Vm.CANCELED;default:return Vm.ERROR}}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(Bm||(Bm={}));var Wm=function(){function e(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Bm.NO_ERROR,this.sendPromise_=new Promise((function(t){e.xhr_.addEventListener("abort",(function(){e.errorCode_=Bm.ABORT,t()})),e.xhr_.addEventListener("error",(function(){e.errorCode_=Bm.NETWORK_ERROR,t()})),e.xhr_.addEventListener("load",(function(){t()}))}))}return e.prototype.send=function(e,t,n,r){if(this.sent_)throw Nm("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw Nm("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw Nm("cannot .getStatus() before sending");try{return this.xhr_.status}catch(wm){return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw Nm("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},e.prototype.addUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)},e.prototype.removeUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)},e}();var Hm=function(){function e(){}return e.prototype.createConnection=function(){return new Wm},e}(),Km=function(){function e(e,t){this.bucket=e,this.path_=t}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},e.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},e.makeFromBucketSpec=function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(wm){return new e(t,"")}if(""===r.path)return r;throw new Em("invalid-default-bucket","Invalid default bucket '"+t+"'.")},e.makeFromUrl=function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var o=new RegExp("^gs://"+i+"(/(.*))?$","i");function a(e){e.path_=decodeURIComponent(e.path)}for(var s=n.replace(/[.]/g,"\\."),u=[{regex:o,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+s+"/v[A-Za-z0-9_]+/b/"+i+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:a},{regex:new RegExp("^https?://"+(n===Sm?"(?:storage.googleapis.com|storage.cloud.google.com)":n)+"/"+i+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:a}],c=0;c<u.length;c++){var l=u[c],f=l.regex.exec(t);if(f){var h=f[l.indices.bucket],d=f[l.indices.path];d||(d=""),r=new e(h,d),l.postModify(r);break}}if(null==r)throw function(e){return new Em("invalid-url","Invalid URL '"+e+"'.")}(t);return r},e}(),Gm=function(){function e(e){this.promise_=Promise.reject(e)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){},e}();function Ym(e){return"string"===typeof e||e instanceof String}function $m(e){return Qm()&&e instanceof Blob}function Qm(){return"undefined"!==typeof Blob}function Xm(e,t,n,r){if(r<t)throw Pm("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(r>n)throw Pm("Invalid value for '"+e+"'. Expected "+n+" or less.")}function Jm(e,t){var n=t.match(/^(\w+):\/\/.+/),r=t;return null==(null===n||void 0===n?void 0:n[1])&&(r="https://"+t),r+"/v0"+e}function Zm(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}var ey=function(){function e(e,t,n,r,i,o,a,s,u,c,l){var f=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise((function(e,t){f.resolve_=e,f.reject_=t,f.start_()}))}return e.prototype.start_=function(){var e=this;function t(t,n){var r,i=e.resolve_,o=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var s=e.callback_(a,a.getResponseText());!function(e){return void 0!==e}(s)?i():i(s)}catch(wm){o(wm)}else null!==a?((r=Tm()).serverResponse=a.getResponseText(),e.errorCallback_?o(e.errorCallback_(a,r)):o(r)):n.canceled?o(r=e.appDelete_?Om():Cm()):o(r=new Em("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?t(0,new ty(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,o=!1,a=0;function s(){return 2===a}var u=!1;function c(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];u||(u=!0,t.apply(null,e))}function l(t){i=setTimeout((function(){i=null,e(f,s())}),t)}function f(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!u)if(e)c.call.apply(c,(0,Fn.__spreadArray)([null,e],t));else{var i;s()||o?c.call.apply(c,(0,Fn.__spreadArray)([null,e],t)):(r<64&&(r*=2),1===a?(a=2,i=0):i=1e3*(r+Math.random()),l(i))}}var h=!1;function d(e){h||(h=!0,u||(null!==i?(e||(a=2),clearTimeout(i),l(0)):e||(a=1)))}return l(0),setTimeout((function(){o=!0,d(!0)}),n),d}((function(t,n){if(n)t(!1,new ty(!1,null,!0));else{var r=e.pool_.createConnection();e.pendingConnection_=r,null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===Bm.NO_ERROR,o=r.getStatus();if(n&&!e.isRetryStatusCode_(o)){var a=-1!==e.successCodes_.indexOf(o);t(!0,new ty(a,r))}else{var s=r.getErrorCode()===Bm.ABORT;t(!1,new ty(!1,null,s))}}))}function i(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)}}),t,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()},e.prototype.isRetryStatusCode_=function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r},e}(),ty=function(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n};function ny(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function ry(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=ny();if(void 0!==n){for(var r=new n,i=0;i<e.length;i++)r.append(e[i]);return r.getBlob()}if(Qm())return new Blob(e);throw new Em("unsupported-environment","This browser doesn't seem to support creating Blobs")}var iy=function(){function e(e,t){var n=0,r="";$m(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if($m(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}return new e(new Uint8Array(this.data_.buffer,t,n-t),!0)},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(Qm()){var r=t.map((function(t){return t instanceof e?t.data_:t}));return new e(ry.apply(null,r))}var i=t.map((function(e){return Ym(e)?Mm(Rm.RAW,e).data:e.data_})),o=0;i.forEach((function(e){o+=e.byteLength}));var a=new Uint8Array(o),s=0;return i.forEach((function(e){for(var t=0;t<e.length;t++)a[s++]=e[t]})),new e(a,!0)},e.prototype.uploadData=function(){return this.data_},e}();function oy(e){var t;try{t=JSON.parse(e)}catch(wm){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function ay(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function sy(e,t){return t}var uy=function(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||sy},cy=null;function ly(){if(cy)return cy;var e=[];e.push(new uy("bucket")),e.push(new uy("generation")),e.push(new uy("metageneration")),e.push(new uy("name","fullPath",!0));var t=new uy("name");t.xform=function(e,t){return function(e){return!Ym(e)||e.length<2?e:ay(e)}(t)},e.push(t);var n=new uy("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new uy("timeCreated")),e.push(new uy("updated")),e.push(new uy("md5Hash",null,!0)),e.push(new uy("cacheControl",null,!0)),e.push(new uy("contentDisposition",null,!0)),e.push(new uy("contentEncoding",null,!0)),e.push(new uy("contentLanguage",null,!0)),e.push(new uy("contentType",null,!0)),e.push(new uy("metadata","customMetadata",!0)),cy=e}function fy(e,t,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,t[a.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new Km(n,r);return t._makeStorageReference(i)}})}(r,e),r}function hy(e,t,n){var r=oy(t);return null===r?null:fy(e,r,n)}function dy(e,t){for(var n={},r=t.length,i=0;i<r;i++){var o=t[i];o.writable&&(n[o.server]=e[o.local])}return JSON.stringify(n)}function py(e,t,n){var r=oy(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var a=o[i].replace(/\/$/,""),s=e._makeStorageReference(new Km(t,a));r.prefixes.push(s)}if(n.items)for(var u=0,c=n.items;u<c.length;u++){var l=c[u];s=e._makeStorageReference(new Km(t,l.name)),r.items.push(s)}return r}(e,t,r)}var vy=function(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function gy(e){if(!e)throw Tm()}function my(e,t){return function(n,r){var i=hy(e,r,t);return gy(null!==i),i}}function yy(e,t){return function(n,r){var i=hy(e,r,t);return gy(null!==i),function(e,t,n){var r=oy(t);if(null===r)return null;if(!Ym(r.downloadTokens))return null;var i=r.downloadTokens;if(0===i.length)return null;var o=encodeURIComponent;return i.split(",").map((function(t){var r=e.bucket,i=e.fullPath;return Jm("/b/"+o(r)+"/o/"+o(i),n)+Zm({alt:"media",token:t})}))[0]}(i,r,e.host)}}function by(e){return function(t,n){var r,i,o;return 401===t.getStatus()?r=t.getResponseText().includes("Firebase App Check token is invalid")?new Em("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new Em("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(o=e.bucket,r=new Em("quota-exceeded","Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new Em("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function wy(e){var t=by(e);return function(n,r){var i,o=t(n,r);return 404===n.getStatus()&&(i=e.path,o=new Em("object-not-found","Object '"+i+"' does not exist.")),o.serverResponse=r.serverResponse,o}}function _y(e,t,n){var r=Jm(t.fullServerUrl(),e.host),i=e.maxOperationRetryTime,o=new vy(r,"GET",my(e,n),i);return o.errorHandler=wy(t),o}function xy(e,t,n,r,i){var o={};t.isRoot?o.prefix="":o.prefix=t.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var a=Jm(t.bucketOnlyServerUrl(),e.host),s=e.maxOperationRetryTime,u=new vy(a,"GET",function(e,t){return function(n,r){var i=py(e,t,r);return gy(null!==i),i}}(e,t.bucket),s);return u.urlParams=o,u.errorHandler=by(t),u}function Sy(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}var Ey=function(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null};function ky(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(wm){gy(!1)}return gy(!!n&&-1!==(t||["active"]).indexOf(n)),n}var Ty=262144;function Cy(e,t,n,r,i,o,a,s){var u=new Ey(0,0);if(a?(u.current=a.current,u.total=a.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new Em("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var f=u.current,h=f+l,d={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":""+u.current},p=r.slice(f,h);if(null===p)throw Im();var v=t.maxUploadRetryTime,g=new vy(n,"POST",(function(e,n){var i,a=ky(e,["active","final"]),s=u.current+l,c=r.size();return i="final"===a?my(t,o)(e,n):null,new Ey(s,c,"final"===a,i)}),v);return g.headers=d,g.body=p.uploadData(),g.progressCallback=s||null,g.errorHandler=by(e),g}var Iy=function(e,t,n){var r=function(e){return"function"===typeof e}(e)||null!=t||null!=n;if(r)this.next=e,this.error=t,this.complete=n;else{var i=e;this.next=i.next,this.error=i.error,this.complete=i.complete}};function Py(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then((function(){return e.apply(void 0,t)}))}}var Oy=function(){function e(e,t,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=ly(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return e.prototype._makeProgressCallback=function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}},e.prototype._shouldDoResumable=function(e){return e.size()>262144},e.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=n[0],i=n[1];switch(t._state){case"running":e(r,i);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))},e.prototype._createResumable=function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a=Sy(t,r,i),s={name:a.fullPath},u=Jm(o,e.host),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},l=dy(a,n),f=e.maxUploadRetryTime,h=new vy(u,"POST",(function(e){var t;ky(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(wm){gy(!1)}return gy(Ym(t)),t}),f);return h.urlParams=s,h.headers=c,h.body=l,h.errorHandler=by(t),h}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))},e.prototype._fetchStatus=function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,o=new vy(n,"POST",(function(e){var t=ky(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(wm){gy(!1)}n||gy(!1);var i=Number(n);return gy(!isNaN(i)),new Ey(i,r.size(),"final"===t)}),i);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=by(t),o}(e._ref.storage,e._ref._location,t,e._blob),o=e._ref.storage._makeRequest(i,n,r);e._request=o,o.getPromise().then((function(t){e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))},e.prototype._continueUpload=function(){var e=this,t=Ty*this._chunkMultiplier,n=new Ey(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,o){var a;try{a=Cy(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(wm){return e._error=wm,void e._transition("error")}var s=e._ref.storage._makeRequest(a,i,o);e._request=s,s.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))},e.prototype._increaseMultiplier=function(){Ty*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var e=this;this._resolveToken((function(t,n){var r=_y(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))},e.prototype._oneShotUpload=function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+s;var u=Sy(t,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+dy(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",f=iy.getBlob(c,r,l);if(null===f)throw Im();var h={name:u.fullPath},d=Jm(o,e.host),p=e.maxUploadRetryTime,v=new vy(d,"POST",my(e,n),p);return v.urlParams=h,v.headers=a,v.body=f.uploadData(),v.errorHandler=by(t),v}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))},e.prototype._updateProgress=function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()},e.prototype._transition=function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=Cm(),this._state=e,this._notifyObservers()}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var e=zm(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(e,t,n,r){var i=this,o=new Iy(t,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},e.prototype.then=function(e,t){return this._promise.then(e,t)},e.prototype.catch=function(e){return this.then(null,e)},e.prototype._addObserver=function(e){this._observers.push(e),this._notifyObserver(e)},e.prototype._removeObserver=function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)},e.prototype._notifyObservers=function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))},e.prototype._finishPromise=function(){if(void 0!==this._resolve){var e=!0;switch(zm(this._state)){case Vm.SUCCESS:Py(this._resolve.bind(null,this.snapshot))();break;case Vm.CANCELED:case Vm.ERROR:Py(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(e){switch(zm(this._state)){case Vm.RUNNING:case Vm.PAUSED:e.next&&Py(e.next.bind(e,this.snapshot))();break;case Vm.SUCCESS:e.complete&&Py(e.complete.bind(e))();break;default:e.error&&Py(e.error.bind(e,this._error))()}},e.prototype.resume=function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e},e.prototype.pause=function(){var e="running"===this._state;return e&&this._transition("pausing"),e},e.prototype.cancel=function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e},e}(),Ay=function(){function e(e,t){this._service=e,this._location=t instanceof Km?t:Km.makeFromUrl(t,e.host)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var e=new Km(this._location.bucket,"");return this._newRef(this._service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return ay(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new Km(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(e){if(""===this._location.path)throw Am(e)},e}();function Dy(e){var t={prefixes:[],items:[]};return Ny(e,t).then((function(){return t}))}function Ny(e,t,n){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var r,i,o;return(0,Fn.__generator)(this,(function(a){switch(a.label){case 0:return[4,Ry(e,{pageToken:n})];case 1:return r=a.sent(),(i=t.prefixes).push.apply(i,r.prefixes),(o=t.items).push.apply(o,r.items),null==r.nextPageToken?[3,3]:[4,Ny(e,t,r.nextPageToken)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function Ry(e,t){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,Fn.__generator)(this,(function(i){switch(i.label){case 0:return null!=t&&"number"===typeof t.maxResults&&Xm("options.maxResults",1,1e3,t.maxResults),n=t||{},r=xy(e.storage,e._location,"/",n.pageToken,n.maxResults),[4,e.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}}))}))}function jy(e,t){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var n;return(0,Fn.__generator)(this,(function(r){switch(r.label){case 0:return e._throwIfRoot("updateMetadata"),n=function(e,t,n,r){var i=Jm(t.fullServerUrl(),e.host),o=dy(n,r),a=e.maxOperationRetryTime,s=new vy(i,"PATCH",my(e,r),a);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=o,s.errorHandler=wy(t),s}(e.storage,e._location,t,ly()),[4,e.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}}))}))}function My(e){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var t;return(0,Fn.__generator)(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("getDownloadURL"),t=function(e,t,n){var r=Jm(t.fullServerUrl(),e.host),i=e.maxOperationRetryTime,o=new vy(r,"GET",yy(e,n),i);return o.errorHandler=wy(t),o}(e.storage,e._location,ly()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise().then((function(e){if(null===e)throw new Em("no-download-url","The given file does not have any download URLs.");return e}))]}}))}))}function Ly(e){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var t;return(0,Fn.__generator)(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("deleteObject"),t=function(e,t){var n=Jm(t.fullServerUrl(),e.host),r=e.maxOperationRetryTime,i=new vy(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=wy(t),i}(e.storage,e._location),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}}))}))}function Fy(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new Km(e._location.bucket,n);return new Ay(e.storage,r)}function Uy(e){return/^[A-Za-z]+:\/\//.test(e)}function By(e,t){if(e instanceof zy){var n=e;if(null==n._bucket)throw new Em("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new Ay(n,n._bucket);return null!=t?By(r,t):r}return void 0!==t?Fy(e,t):e}function qy(e,t){if(t&&Uy(t)){if(e instanceof zy)return new Ay(e,t);throw Pm("To use ref(service, url), the first argument must be a Storage instance.")}return By(e,t)}function Vy(e,t){var n=null===t||void 0===t?void 0:t.storageBucket;return null==n?null:Km.makeFromBucketSpec(n,e)}var zy=function(){function e(e,t,n,r,i,o){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._pool=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=Sm,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Km.makeFromBucketSpec(i,this._host):Vy(this._host,this.app.options)}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=Km.makeFromBucketSpec(this._url,e):this._bucket=Vy(e,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(e){Xm("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(e){Xm("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var e,t;return(0,Fn.__generator)(this,(function(n){switch(n.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(e=this._authProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:if(null!==(t=n.sent()))return[2,t.accessToken];n.label=2;case 2:return[2,null]}}))}))},e.prototype._getAppCheckToken=function(){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var e;return(0,Fn.__generator)(this,(function(t){switch(t.label){case 0:return(e=this._appCheckProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:return[2,t.sent().token];case 2:return[2,null]}}))}))},e.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()},e.prototype._makeStorageReference=function(e){return new Ay(this,e)},e.prototype._makeRequest=function(e,t,n){var r=this;if(this._deleted)return new Gm(Om());var i=function(e,t,n,r,i,o){var a=Zm(e.urlParams),s=e.url+a,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(u,o),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new ey(s,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,t,n,this._pool,this._firebaseVersion);return this._requests.add(i),i.getPromise().then((function(){return r._requests.delete(i)}),(function(){return r._requests.delete(i)})),i},e.prototype.makeRequestWithTokens=function(e){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return(0,Fn.__generator)(this,(function(i){switch(i.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return t=i.sent(),n=t[0],r=t[1],[2,this._makeRequest(e,n,r)]}}))}))},e}();function Wy(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new Oy(e,new iy(t),n)}(e=(0,Un.getModularInstance)(e),t,n)}function Hy(e){return function(e){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var t;return(0,Fn.__generator)(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("getMetadata"),t=_y(e.storage,e._location,ly()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}}))}))}(e=(0,Un.getModularInstance)(e))}function Ky(e,t){return qy(e=(0,Un.getModularInstance)(e),t)}function Gy(e,t,n,r){void 0===r&&(r={}),function(e,t,n,r){void 0===r&&(r={}),e.host="http://"+t+":"+n;var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:(0,Un.createMockUserToken)(i,e.app.options.projectId))}(e,t,n,r)}var Yy=function(){function e(e,t,n){this._delegate=e,this.task=t,this.ref=n}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}(),$y=function(){function e(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new Yy(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new Yy(t,n,n._ref))}),t)},e.prototype.on=function(e,t,n,r){var i=this,o=void 0;return t&&(o="function"===typeof t?function(e){return t(new Yy(e,i,i._ref))}:{next:t.next?function(e){return t.next(new Yy(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,o,n||void 0,r||void 0)},e}(),Qy=function(){function e(e,t){this._delegate=e,this._service=t}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new Xy(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var e=this;return this._delegate.items.map((function(t){return new Xy(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}(),Xy=function(){function e(e,t){this._delegate=e,this.storage=t}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){var n=function(e,t){return Fy(e,t)}(this._delegate,t);return new e(n,this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(e,t){return this._throwIfRoot("put"),new $y(Wy(this._delegate,e,t),this)},e.prototype.putString=function(e,t,n){void 0===t&&(t=Rm.RAW),this._throwIfRoot("putString");var r=Mm(t,e),i=(0,Fn.__assign)({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new $y(new Oy(this._delegate,new iy(r.data,!0),i),this)},e.prototype.listAll=function(){var e=this;return function(e){return Dy(e=(0,Un.getModularInstance)(e))}(this._delegate).then((function(t){return new Qy(t,e.storage)}))},e.prototype.list=function(e){var t=this;return function(e,t){return Ry(e=(0,Un.getModularInstance)(e),t)}(this._delegate,e||void 0).then((function(e){return new Qy(e,t.storage)}))},e.prototype.getMetadata=function(){return Hy(this._delegate)},e.prototype.updateMetadata=function(e){return function(e,t){return jy(e=(0,Un.getModularInstance)(e),t)}(this._delegate,e)},e.prototype.getDownloadURL=function(){return function(e){return My(e=(0,Un.getModularInstance)(e))}(this._delegate)},e.prototype.delete=function(){return this._throwIfRoot("delete"),function(e){return Ly(e=(0,Un.getModularInstance)(e))}(this._delegate)},e.prototype._throwIfRoot=function(e){if(""===this._delegate._location.path)throw Am(e)},e}(),Jy=function(){function e(e,t){this.app=e,this._delegate=t}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(e){if(Uy(e))throw Pm("ref() expected a child path but got a URL, use refFromURL instead.");return new Xy(Ky(this._delegate,e),this)},e.prototype.refFromURL=function(e){if(!Uy(e))throw Pm("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Km.makeFromUrl(e,this._delegate.host)}catch(wm){throw Pm("refFromUrl() expected a valid full URL but got an invalid one.")}return new Xy(Ky(this._delegate,e),this)},e.prototype.setMaxUploadRetryTime=function(e){this._delegate.maxUploadRetryTime=e},e.prototype.setMaxOperationRetryTime=function(e){this._delegate.maxOperationRetryTime=e},e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),Gy(this._delegate,e,t,n)},e}();function Zy(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new Jy(r,new zy(r,i,o,new Hm,n,Mn.default.SDK_VERSION))}!function(e){var t={TaskState:Vm,TaskEvent:qm,StringFormat:Rm,Storage:zy,Reference:Xy};e.INTERNAL.registerComponent(new _m.Component("storage",Zy,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage","0.7.1")}(Mn.default);var eb={apiKey:"AIzaSyAQekmgRVOyzhVJwFd6gZwICseIwQaVO-0",authDomain:"last-coffee-backup.firebaseapp.com",projectId:"last-coffee-backup",storageBucket:"last-coffee-backup.appspot.com",messagingSenderId:"474066137879",appId:"1:474066137879:web:e69c946e17ec227769bd52"};Mn.default.initializeApp(eb),Mn.default.firestore().settings({experimentalForceLongPolling:!0});var tb=Mn.default.firestore(),nb=Mn.default.auth(),rb=new Mn.default.auth.GoogleAuthProvider,ib=Mn.default.storage(),ob=tb,ab="SET_USER",sb="SET_LOADING_STATUS",ub="GET_ARTICLES",cb="GET_TDL_UNDONE",lb="GET_TDL_DONE",fb="GET_CALENDAR",hb="GET_SB_REQ",db="GET_MY_SB",pb="GET_SB_NOTIFS";function vb(e){return{type:ab,user:e}}function gb(e){return{type:sb,status:e}}function mb(){return function(e){nb.onAuthStateChanged((function(t){if(!t)return null;nb.signOut().then((function(){return e(vb(null))})).catch((function(e){return console.log(e)}))})),window.location.reload()}}function yb(e){return function(t){t(gb(!0));var n=[],r=[];ob.collection("TDLDB").where("completed","==",!1).where("userUID","==",e).orderBy("deadline","asc").onSnapshot((function(e){n=e.docs.map((function(e){return e.data()})),console.log(n),r=e.docs.map((function(e){return e.id})),t(function(e,t){return{type:cb,payload:e,id:t}}(n,r))})),t(gb(!1))}}function bb(e){return function(t){t(gb(!0));var n=[],r=[];ob.collection("SBDB").where("Accepted","==","accepted").where("Poster.userUID","==",e).orderBy("accepted_timestamp","desc").onSnapshot((function(e){n=e.docs.map((function(e){return e.data()})),console.log(n),r=e.docs.map((function(e){return e.id})),t(function(e,t){return{type:pb,payload:e,id:t}}(n,r))})),t(gb(!1))}}function wb(e){return function(t){t(gb(!0));var n=[],r=[];ob.collection("TDLDB").where("completed","==",!0).where("userUID","==",e).orderBy("deadline","asc").onSnapshot((function(e){n=e.docs.map((function(e){return e.data()})),console.log(n),r=e.docs.map((function(e){return e.id})),t(function(e,t){return{type:lb,payload:e,id:t}}(n,r))})),t(gb(!1))}}function _b(e){return function(t){t(gb(!0));var n=[],r=[];ob.collection("CLDDB").where("userUID","==",e).orderBy("startTimestamp","asc").onSnapshot((function(e){n=e.docs.map((function(e){return e.data()})),console.log(n),r=e.docs.map((function(e){return e.id})),t(function(e,t){return{type:fb,payload:e,id:t}}(n,r))})),t(gb(!1))}}function xb(e){return function(t){t(gb(!0));var n=[],r=[];ob.collection("SBDB").where("Poster.userUID","==",e).where("Accepted","==","accepted").orderBy("accepted_timestamp","desc").onSnapshot((function(e){n=e.docs.map((function(e){return e.data()})),console.log(n),r=e.docs.map((function(e){return e.id})),t(function(e,t){return{type:db,payload:e,id:t}}(n,r))})),t(gb(!1))}}function Sb(e){return function(t){t(gb(!0));var n=[],r=[];ob.collection("SBDB").where("Poster.userUID","==",e).where("Accepted","==","new").onSnapshot((function(e){n=e.docs.map((function(e){return e.data()})),console.log(n),r=e.docs.map((function(e){return e.id})),t(function(e,t){return{type:hb,payload:e,id:t}}(n,r))})),t(gb(!1))}}function Eb(e){return function(t){ob.collection("TDLDB").doc(e).delete()}}function kb(e){return function(t){ob.collection("SBDB").doc(e).delete()}}function Tb(e,t){var n=jn(e.split("-"),3),r=n[0],i=n[1],o=n[2],a=jn(t.split(":"),2),s=a[0],u=a[1];return new Date(+r,i-1,+o,+s,+u)}var Cb,Ib,Pb,Ob,Ab,Db,Nb,Rb,jb=n(184),Mb=On.div(Cb||(Cb=nt(["\n  background-color: #fff;\n"]))),Lb=On.nav(Ib||(Ib=nt(["\n  max-width: 1128px;\n  margin: auto;\n  padding: 12px 0 16px;\n  display: flex;\n  flex-wrap: nowrap;\n  align-items: center;\n  justify-content: space-between;\n  position: relative;\n  background-color: #fff;\n\n  & > a {\n    width: 130px;\n    height: 70px;\n    @media (max-width: 768px) {\n      padding: 0 5px;\n    }\n  }\n"]))),Fb=On.a(Pb||(Pb=nt(["\n  font-size: 16px;\n  padding: 10px;\n  text-decoration: none;\n  border-radius: 5px;\n  color: rgba(0, 0, 0, 0.6);\n  margin-right: 8px;\n\n  &:hover {\n    background-color: rgba(0, 0, 0, 0.08);\n    color: rgba(0, 0, 0, 1);\n  }\n"]))),Ub=On.a(Ob||(Ob=nt(["\n  box-shadow: inset 0 0 0 1px black;\n  border-radius: 25px;\n  color: black;\n  font-size: 16px;\n  font-weight: 600;\n  transition-duration: 167ms;\n  line-height: 40px;\n  padding: 10px 25px;\n  text-align: center;\n  background-color: transparent;\n  &:hover {\n    background-color: rgba(0, 0, 0, 0.08);\n    box-shadow: inset 0 0 0 2px grey;\n  }\n"]))),Bb=On.section(Ab||(Ab=nt(["\n  display: flex;\n  background-color: #fff;\n  flex-wrap: wrap;\n  align-content: start;\n  min-height: 700px;\n  padding-bottom: 138px;\n  padding-top: 40px;\n  padding: 60px 0;\n  position: relative;\n  width: 100%;\n  max-width: 1128px;\n  align-items: center;\n  margin: auto;\n  @media (max-width: 768px) {\n    min-height: 0;\n  }\n"]))),qb=On.div(Db||(Db=nt(["\n  width: 100%;\n  h1 {\n    padding-bottom: 0;\n    width: 55%;\n    font-size: 56px;\n    color: black;\n    font-weight: 200;\n    line-height: 70px;\n    background-color: #fff;\n    @media (max-width: 768px) {\n      text-align: center;\n      width: 100%;\n      font-size: 20px;\n      line-height: 2;\n    }\n  }\n  img {\n    width: 700px;\n    height: 570px;\n    position: absolute;\n    border-radius: 100px;\n    bottom: 200px;\n    right: -150px;\n    @media (max-width: 768px) {\n      border-radius: 100px;\n      top: 230px;\n      position: initial;\n      width: initial;\n      height: initial;\n    }\n  }\n"]))),Vb=On.div(Nb||(Nb=nt(["\n  margin-top: 100px;\n  width: 408px;\n  background-color: #fff;\n  @media (max-width: 768px) {\n    margin: 20px auto 0;\n  }\n"]))),zb=On.button(Rb||(Rb=nt(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: #fff;\n  height: 56px;\n  width: 100%;\n  background-color: #fff;\n  border-radius: 30px;\n  box-shadow: inset 0 0 0 1px rgb(0 0 0 / 60%), inset 0 0 0 2px rgb(0 0 0 / 0%),\n    inset 0 0 0 1px rgb(0 0 0 / 0);\n  border: none;\n  vertical-align: middle;\n  transition-duration: 167ms;\n  font-size: 20px;\n  color: rgba(0, 0, 0, 0.6);\n  z-index: 0;\n  &:hover {\n    background-color: rgba(207, 207, 207, 0.25);\n    color: rgba(0, 0, 0, 0.75);\n    box-shadow: inset 0 0 0 2px rgb(0 0 0 / 60%),\n      inset 0 0 0 3px rgb(0 0 0 / 0%), inset 0 0 0 2px rgb(0 0 0 / 0);\n  }\n  img {\n    margin-right: 25px;\n  }\n"])));var Wb=F((function(e){return{user:e.userState.user}}),(function(e){return{signIn:function(){return e((function(e){nb.signInWithPopup(rb).then((function(t){return e(vb(t.user))})).catch((function(e){return console.log(e.message)}))}))}}}))((function(e){return console.log(e.user),(0,jb.jsxs)(Mb,{children:[e.user&&(0,jb.jsx)(Re,{to:"/home"}),(0,jb.jsxs)(Lb,{children:[(0,jb.jsx)("a",{href:"/",children:(0,jb.jsx)("img",{src:"/images/lastcoffeelogo.svg",alt:""})}),(0,jb.jsxs)("div",{children:[(0,jb.jsx)(Fb,{onClick:function(){return e.signIn()},children:"Join Now"}),(0,jb.jsx)(Ub,{onClick:function(){return e.signIn()},children:"Sign In"})]})]}),(0,jb.jsxs)(Bb,{children:[(0,jb.jsxs)(qb,{children:[(0,jb.jsxs)("h1",{children:["The Last Coffee: ",(0,jb.jsx)("br",{}),"Your Ultimate Study Companion"]}),(0,jb.jsx)("img",{src:"/images/coffee.svg",alt:""})]}),(0,jb.jsx)(Vb,{children:(0,jb.jsxs)(zb,{onClick:function(){return e.signIn()},children:[(0,jb.jsx)("img",{src:"/images/google.svg",alt:""}),"Sign in with Google"]})})]}),(0,jb.jsx)(Bb,{})]})}));var Hb=F((function(e){return{user:e.userState.user}}),(function(e){return{signOut:function(){return e(mb())}}}))((function(e){return(0,jb.jsx)(Ze,{to:"/signout",children:(0,jb.jsx)("button",{className:"btn",children:(0,jb.jsx)("span",{children:"Sign Out"})})})})),Kb=[{title:"Find Study Buddies",path:"/findstudybuddy",cName:"dropdown-link"},{title:"My Study Buddies",path:"/mystudybuddies",cName:"dropdown-link"},{title:"My Requests",path:"/studybuddyrequests",cName:"dropdown-link"},{title:"My Notifications",path:"/studybuddynotifications",cName:"dropdown-link"}];var Gb=function(){var t=jn((0,e.useState)(!1),2),n=t[0],r=t[1];return(0,jb.jsx)(jb.Fragment,{children:(0,jb.jsx)("ul",{onClick:function(){return r(!n)},className:n?"dropdown-menu clicked":"dropdown-menu",children:Kb.map((function(e,t){return(0,jb.jsx)("li",{children:(0,jb.jsx)(Ze,{className:e.cName,to:e.path,onClick:function(){return r(!1)},children:e.title})},t)}))})})};var Yb,$b,Qb,Xb=F((function(e){return{user:e.userState.user}}),(function(e){return{signOut:function(){return e(mb())}}}))((function(t){var n=jn((0,e.useState)(!1),2),r=n[0],i=n[1],o=jn((0,e.useState)(!1),2),a=o[0],s=o[1],u=function(){return i(!1)};return(0,jb.jsx)(jb.Fragment,{children:(0,jb.jsxs)("nav",{className:"navbar",children:[(0,jb.jsx)(Ze,{to:"/home",children:(0,jb.jsx)("a",{href:"/home",children:(0,jb.jsx)("img",{src:"/images/black-logo.svg",alt:""})})}),(0,jb.jsxs)("ul",{className:r?"nav-menu active":"nav-menu",children:[(0,jb.jsx)("li",{className:"nav-item",children:(0,jb.jsx)(Ze,{to:"/home",className:"nav-links",onClick:u,children:"Home"})}),(0,jb.jsx)("li",{className:"nav-item",children:(0,jb.jsx)(Ze,{to:"/myprofile",className:"nav-links",onClick:u,children:"My Profile"})}),(0,jb.jsx)("li",{className:"nav-item",children:(0,jb.jsx)(Ze,{to:"/todolist",className:"nav-links",onClick:u,children:"To-Do List"})}),(0,jb.jsx)("li",{className:"nav-item",children:(0,jb.jsx)(Ze,{to:"/mycalendar",className:"nav-links",onClick:u,children:"Calendar"})}),(0,jb.jsxs)("li",{className:"nav-item",onMouseEnter:function(){window.innerWidth<960?s(!1):s(!0)},onMouseLeave:function(){window.innerWidth,s(!1)},children:[(0,jb.jsxs)(Ze,{to:"/findstudybuddy",className:"nav-links",onClick:u,children:["Study Buddies ",(0,jb.jsx)("i",{className:"fas fa-caret-down"})]}),a&&(0,jb.jsx)(Gb,{})]}),(0,jb.jsx)("li",{className:"nav-item",children:(0,jb.jsx)(Ze,{to:"/aboutus",className:"nav-links",onClick:u,children:"About Us"})})]}),(0,jb.jsx)(Hb,{})]})})})),Jb=On.div(Yb||(Yb=nt(["\n  max-width: 100%;\n"]))),Zb=On.div($b||($b=nt(["\n  margin: auto;\n"]))),ew=On.div(Qb||(Qb=nt(['\n  display: flex;\n  flex-flow: column nowrap;\n  align-items: center;\n  justify-content: space-evenly;\n  background-color: white;\n  width: 100%;\n  margin-left: auto;\n  margin-right: auto;\n\n  h1 {\n    font-size: 5rem;\n    text-align: center;\n    font-family: "Montserrat";\n    line-height: 1em;\n    font-weight: 600;\n    margin-left: auto;\n    margin-right: auto;\n    margin-top: 30px;\n    max-width: 53.125rem;\n    margin-bottom: 30px;\n  }\n\n  h2 {\n    font-size: 1.25rem;\n    margin: 0;\n    font-weight: lighter;\n    line-height: 1.6em;\n    letter-spacing: 0.01em;\n    text-align: center;\n    margin-bottom: 20px;\n  }\n\n  img {\n    margin-top: 30px;\n    width: 1100px;\n    height: 549px;\n    object-fit: cover;\n  }\n\n  button {\n    border: 0.0625rem solid rgb(17, 109, 255);\n    background-color: rgb(17, 109, 255);\n    border-radius: 1.875rem;\n    font-family: var(--main-text-font);\n    width: 12.125rem;\n    height: 3.5rem;\n    cursor: pointer;\n    color: #ffffff;\n    font-size: 1.5rem;\n    font-weight: 300;\n    margin-top: 0.625rem;\n    align-items: center;\n  }\n'])));var tw,nw,rw,iw,ow,aw,sw,uw,cw,lw,fw=F((function(e){return{user:e.userState.user}}))((function(t){return(0,e.useEffect)((function(){ob.collection("DPDB").doc(t.user.uid).get().then((function(e){e.exists||ob.collection("DPDB").doc(t.user.uid).set({Actor:{display_name:t.user.displayName,contact_info:t.user.email,display_picture:t.user.photoURL,display_info:"",faculty:"",gender:"",year:""}})}))})),(0,jb.jsxs)(Jb,{children:[(0,jb.jsx)(Xb,{}),!t.user&&(0,jb.jsx)(Re,{to:"/home"}),(0,jb.jsx)(Zb,{children:(0,jb.jsxs)(ew,{children:[(0,jb.jsxs)("h1",{children:["The Ultimate ",(0,jb.jsx)("br",{}),"All-in-One ",(0,jb.jsx)("br",{}),"Student Website ",(0,jb.jsx)("br",{})]}),(0,jb.jsxs)("h2",{children:["Discover the platform that allows you to plan you schedule,"," ",(0,jb.jsx)("br",{})," track your academic progress and connect with like-minded peers."]}),(0,jb.jsx)("img",{src:"/images/books.png",alt:"Bookshelf"})]})})]})})),hw=On.div(tw||(tw=nt(["\n  grid-area: left;\n"]))),dw=On.div(nw||(nw=nt(["\n  text-align: center;\n  overflow: hidden;\n  margin-bottom: 8px;\n  border-radius: 5px;\n  background-color: #fff;\n  transition: box-shadow 83ms;\n  position: relative;\n  border: none;\n  box-shadow: 0 0 0 1px rgb(0 0 0 / 15%), 0 0 0 rgb(0 0 0 / 20%);\n"]))),pw=On.div(rw||(rw=nt(["\n  border-bottom: 1px solid rgba(0, 0, 0, 0.15);\n  padding: 12px 12px 16px;\n  word-wrap: break-word;\n  word-break: break-word;\n"]))),vw=On.div(iw||(iw=nt(['\n  background: url("/images/card-bg.svg");\n  background-position: center;\n  background-size: 462px;\n  height: 54px;\n  margin: -12px -12px 0;\n']))),gw=On.div(ow||(ow=nt(["\n  box-shadow: none;\n  background: url(",");\n  width: 72px;\n  height: 72px;\n  box-sizing: border-box;\n  background-clip: content-box;\n  background-color: #fff;\n  background-position: center;\n  /* background-size: 60%; */\n  background-repeat: no-repeat;\n  border: 2px solid white;\n  margin: -38px auto 12px;\n  border-radius: 50%;\n"])),(function(e){return e.photoUrl})),mw=On.div(aw||(aw=nt(["\n  font-size: 16px;\n  line-height: 1.5;\n  color: rgba(0, 0, 0, 0.9);\n  font-weight: 600;\n"]))),yw=On.div(sw||(sw=nt(["\n  color: #0a66c2;\n  margin-top: 4px;\n  font-size: 12px;\n  line-height: 1.33;\n  font-weight: 400;\n"])));On.div(uw||(uw=nt(["\n  border-bottom: 1px solid rgba(0, 0, 0, 0.15);\n  padding: 12px 0;\n  & > a {\n    text-decoration: none;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 4px 12px;\n    &:hover {\n      background-color: rgba(0, 0, 0, 0.08);\n    }\n    div {\n      display: flex;\n      flex-direction: column;\n      text-align: left;\n      span {\n        font-size: 12px;\n        line-height: 1.333;\n        &:first-child {\n          color: rgba(0, 0, 0, 0.6);\n        }\n        &:nth-child(2) {\n          color: #000;\n        }\n      }\n    }\n  }\n"]))),On.a(cw||(cw=nt(["\n  display: block;\n  border-color: rgba(0, 0, 0, 0.6);\n  text-align: left;\n  padding: 12px;\n  font-size: 12px;\n  span {\n    display: flex;\n    align-items: center;\n  }\n  &:hover {\n    background-color: rgba(0, 0, 0, 0.08);\n  }\n"]))),On(dw)(lw||(lw=nt(["\n  padding: 8px 0 0;\n  text-align: left;\n  display: flex;\n  flex-direction: column;\n  a {\n    color: #000;\n    padding: 4px 12px;\n    font-size: 12px;\n    &:hover {\n      color: #0a66c2;\n    }\n    span {\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n    }\n    &:last-child {\n      color: rgba(0, 0, 0, 0.6);\n      border-top: 1px solid #d6cec2;\n      padding: 12px;\n      &:hover {\n        background-color: rgba(0, 0, 0, 0.08);\n      }\n    }\n  }\n"])));var bw=F((function(e){return{user:e.userState.user}}))((function(t){var n=t.user.uid,r=jn((0,e.useState)(""),2),i=(r[0],r[1]),o=jn((0,e.useState)(""),2),a=(o[0],o[1]),s=jn((0,e.useState)(""),2),u=s[0],c=s[1],l=jn((0,e.useState)(""),2),f=l[0],h=l[1];return ob.collection("DPDB").where(Mn.default.firestore.FieldPath.documentId(),"==",n).get().then((function(e){return e.docs.forEach((function(e){!function(e){i(e.data().Actor.contact_info),a(e.data().Actor.display_info),c(e.data().Actor.display_name),h(e.data().Actor.display_picture)}(e)}))})),(0,jb.jsx)(hw,{children:(0,jb.jsx)(dw,{children:(0,jb.jsxs)(pw,{children:[(0,jb.jsx)(vw,{}),(0,jb.jsxs)("a",{children:[(0,jb.jsx)(gw,{photoUrl:f}),(0,jb.jsxs)(mw,{children:["Welcome to ",(0,jb.jsx)("br",{}),"The Last Coffee, ",(0,jb.jsx)("br",{})," ",t.user?u:"","!"]})]}),(0,jb.jsx)("a",{children:(0,jb.jsxs)(yw,{children:["Dreams don't work ",(0,jb.jsx)("br",{})," unless you do!!!"]})})]})})})})),ww="Card_card__Xe5VC";var _w,xw,Sw,Ew,kw,Tw,Cw=function(e){return(0,jb.jsx)("div",{className:ww,children:e.children})},Iw=On.div(_w||(_w=nt(["\n  max-width: 100%;\n"]))),Pw=On.div(xw||(xw=nt(["\n  max-width: 1128px;\n  margin: auto;\n"]))),Ow=(On.section(Sw||(Sw=nt(["\n  min-height: 50px;\n  margin: 16px 0 -30px;\n  box-sizing: content-box;\n  text-align: center;\n  text-decoration: underline;\n  display: flex;\n  justify-content: center;\n  h5 {\n    color: #0a66c2;\n    font-size: 14px;\n    margin-block-start: 0;\n    margin-block-end: 0;\n    a {\n      font-weight: 700;\n    }\n  }\n  p {\n    font-size: 14px;\n    color: #434649;\n    margin-block-start: 0;\n    margin-block-end: 0;\n    font-weight: 600;\n  }\n\n  @media (max-width: 768px) {\n    flex-direction: column;\n    padding: 0 5px;\n    margin: 16px 0;\n  }\n"]))),On.div(Ew||(Ew=nt(['\n  display: grid;\n  grid-template-areas: "left main ";\n  grid-template-columns: minmax(0, 5fr) minmax(0, 17fr);\n  column-gap: 25px;\n  row-gap: 25px;\n  margin: 25px 0;\n  @media (max-width: 768px) {\n    display: flex;\n    flex-direction: column;\n    padding: 0 5px;\n  }\n']))),On.div(kw||(kw=nt(["\n  img {\n    margin-top: 5px;\n    width: 830px;\n    border-radius: 100px;\n    float: left;\n    margin-right: 10px;\n    object-fit: cover;\n  }\n"]))));On.div(Tw||(Tw=nt(["\n  input,\n  textarea {\n    display: block;\n    font: inherit;\n    border-radius: 4px;\n    border: 1px solid #ccc;\n    padding: 0.25rem;\n    width: 100%;\n  }\n"])));var Aw=F((function(e){return{user:e.userState.user}}))((function(t){var n=t.user.uid,r=jn((0,e.useState)(""),2),i=(r[0],r[1]),o=jn((0,e.useState)(""),2),a=o[0],s=o[1],u=jn((0,e.useState)(""),2),c=u[0],l=u[1],f=jn((0,e.useState)(""),2),h=(f[0],f[1]),d=jn((0,e.useState)(""),2),p=(d[0],d[1]),v=jn((0,e.useState)(""),2),g=v[0],m=v[1],y=jn((0,e.useState)(""),2),b=(y[0],y[1]);return ob.collection("DPDB").where(Mn.default.firestore.FieldPath.documentId(),"==",n).get().then((function(e){return e.docs.forEach((function(e){!function(e){i(e.data().Actor.contact_info),s(e.data().Actor.display_info),l(e.data().Actor.display_name),h(e.data().Actor.display_picture),p(e.data().Actor.gender),m(e.data().Actor.faculty),b(e.data().Actor.year)}(e)}))})),(0,jb.jsxs)(Iw,{children:[(0,jb.jsx)(Xb,{}),!t.user&&(0,jb.jsx)(Re,{to:"/"}),(0,jb.jsxs)(Pw,{children:[(0,jb.jsx)(bw,{}),(0,jb.jsx)(Cw,{children:(0,jb.jsxs)(Ow,{children:[(0,jb.jsx)("h1",{children:c}),(0,jb.jsx)("h2",{children:g}),(0,jb.jsx)("br",{}),(0,jb.jsx)("h2",{children:a})]})}),(0,jb.jsx)(Ze,{to:"/editprofile",children:(0,jb.jsx)("a",{href:"/editprofile",children:(0,jb.jsx)("img",{src:"/images/EditProfilebtn1.svg",alt:""})})})]})]})}));function Dw(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function Nw(e){return Dw(1,arguments),e instanceof Date||"object"===typeof e&&"[object Date]"===Object.prototype.toString.call(e)}function Rw(e){Dw(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===typeof e&&"[object Date]"===t?new Date(e.getTime()):"number"===typeof e||"[object Number]"===t?new Date(e):("string"!==typeof e&&"[object String]"!==t||"undefined"===typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}function jw(e){if(Dw(1,arguments),!Nw(e)&&"number"!==typeof e)return!1;var t=Rw(e);return!isNaN(Number(t))}var Mw=n(6704);function Lw(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function Fw(e,t){Dw(2,arguments);var n=Rw(e).getTime(),r=Lw(t);return new Date(n+r)}function Uw(e,t){Dw(2,arguments);var n=Lw(t);return Fw(e,-n)}var Bw=864e5;function qw(e){Dw(1,arguments);var t=1,n=Rw(e),r=n.getUTCDay(),i=(r<t?7:0)+r-t;return n.setUTCDate(n.getUTCDate()-i),n.setUTCHours(0,0,0,0),n}function Vw(e){Dw(1,arguments);var t=Rw(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=qw(r),o=new Date(0);o.setUTCFullYear(n,0,4),o.setUTCHours(0,0,0,0);var a=qw(o);return t.getTime()>=i.getTime()?n+1:t.getTime()>=a.getTime()?n:n-1}function zw(e){Dw(1,arguments);var t=Vw(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var r=qw(n);return r}var Ww=6048e5;function Hw(e){Dw(1,arguments);var t=Rw(e),n=qw(t).getTime()-zw(t).getTime();return Math.round(n/Ww)+1}function Kw(e,t){Dw(1,arguments);var n=t||{},r=n.locale,i=r&&r.options&&r.options.weekStartsOn,o=null==i?0:Lw(i),a=null==n.weekStartsOn?o:Lw(n.weekStartsOn);if(!(a>=0&&a<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var s=Rw(e),u=s.getUTCDay(),c=(u<a?7:0)+u-a;return s.setUTCDate(s.getUTCDate()-c),s.setUTCHours(0,0,0,0),s}function Gw(e,t){Dw(1,arguments);var n=Rw(e),r=n.getUTCFullYear(),i=t||{},o=i.locale,a=o&&o.options&&o.options.firstWeekContainsDate,s=null==a?1:Lw(a),u=null==i.firstWeekContainsDate?s:Lw(i.firstWeekContainsDate);if(!(u>=1&&u<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var c=new Date(0);c.setUTCFullYear(r+1,0,u),c.setUTCHours(0,0,0,0);var l=Kw(c,t),f=new Date(0);f.setUTCFullYear(r,0,u),f.setUTCHours(0,0,0,0);var h=Kw(f,t);return n.getTime()>=l.getTime()?r+1:n.getTime()>=h.getTime()?r:r-1}function Yw(e,t){Dw(1,arguments);var n=t||{},r=n.locale,i=r&&r.options&&r.options.firstWeekContainsDate,o=null==i?1:Lw(i),a=null==n.firstWeekContainsDate?o:Lw(n.firstWeekContainsDate),s=Gw(e,t),u=new Date(0);u.setUTCFullYear(s,0,a),u.setUTCHours(0,0,0,0);var c=Kw(u,t);return c}var $w=6048e5;function Qw(e,t){Dw(1,arguments);var n=Rw(e),r=Kw(n,t).getTime()-Yw(n,t).getTime();return Math.round(r/$w)+1}function Xw(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var Jw={y:function(e,t){var n=e.getUTCFullYear(),r=n>0?n:1-n;return Xw("yy"===t?r%100:r,t.length)},M:function(e,t){var n=e.getUTCMonth();return"M"===t?String(n+1):Xw(n+1,2)},d:function(e,t){return Xw(e.getUTCDate(),t.length)},a:function(e,t){var n=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:function(e,t){return Xw(e.getUTCHours()%12||12,t.length)},H:function(e,t){return Xw(e.getUTCHours(),t.length)},m:function(e,t){return Xw(e.getUTCMinutes(),t.length)},s:function(e,t){return Xw(e.getUTCSeconds(),t.length)},S:function(e,t){var n=t.length,r=e.getUTCMilliseconds();return Xw(Math.floor(r*Math.pow(10,n-3)),t.length)}},Zw=Jw,e_="midnight",t_="noon",n_="morning",r_="afternoon",i_="evening",o_="night",a_={G:function(e,t,n){var r=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){var r=e.getUTCFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Zw.y(e,t)},Y:function(e,t,n,r){var i=Gw(e,r),o=i>0?i:1-i;return"YY"===t?Xw(o%100,2):"Yo"===t?n.ordinalNumber(o,{unit:"year"}):Xw(o,t.length)},R:function(e,t){return Xw(Vw(e),t.length)},u:function(e,t){return Xw(e.getUTCFullYear(),t.length)},Q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Xw(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Xw(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){var r=e.getUTCMonth();switch(t){case"M":case"MM":return Zw.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){var r=e.getUTCMonth();switch(t){case"L":return String(r+1);case"LL":return Xw(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){var i=Qw(e,r);return"wo"===t?n.ordinalNumber(i,{unit:"week"}):Xw(i,t.length)},I:function(e,t,n){var r=Hw(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):Xw(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):Zw.d(e,t)},D:function(e,t,n){var r=function(e){Dw(1,arguments);var t=Rw(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),i=n-r;return Math.floor(i/Bw)+1}(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):Xw(r,t.length)},E:function(e,t,n){var r=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){var i=e.getUTCDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return Xw(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){var i=e.getUTCDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return Xw(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){var r=e.getUTCDay(),i=0===r?7:r;switch(t){case"i":return String(i);case"ii":return Xw(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){var r,i=e.getUTCHours();switch(r=12===i?t_:0===i?e_:i/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,n){var r,i=e.getUTCHours();switch(r=i>=17?i_:i>=12?r_:i>=4?n_:o_,t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){var r=e.getUTCHours()%12;return 0===r&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Zw.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Zw.H(e,t)},K:function(e,t,n){var r=e.getUTCHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):Xw(r,t.length)},k:function(e,t,n){var r=e.getUTCHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):Xw(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Zw.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Zw.s(e,t)},S:function(e,t){return Zw.S(e,t)},X:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();if(0===i)return"Z";switch(t){case"X":return u_(i);case"XXXX":case"XX":return c_(i);default:return c_(i,":")}},x:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"x":return u_(i);case"xxxx":case"xx":return c_(i);default:return c_(i,":")}},O:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+s_(i,":");default:return"GMT"+c_(i,":")}},z:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+s_(i,":");default:return"GMT"+c_(i,":")}},t:function(e,t,n,r){var i=r._originalDate||e;return Xw(Math.floor(i.getTime()/1e3),t.length)},T:function(e,t,n,r){return Xw((r._originalDate||e).getTime(),t.length)}};function s_(e,t){var n=e>0?"-":"+",r=Math.abs(e),i=Math.floor(r/60),o=r%60;if(0===o)return n+String(i);var a=t||"";return n+String(i)+a+Xw(o,2)}function u_(e,t){return e%60===0?(e>0?"-":"+")+Xw(Math.abs(e)/60,2):c_(e,t)}function c_(e,t){var n=t||"",r=e>0?"-":"+",i=Math.abs(e);return r+Xw(Math.floor(i/60),2)+n+Xw(i%60,2)}var l_=a_;function f_(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}}function h_(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}}var d_={p:h_,P:function(e,t){var n,r=e.match(/(P+)(p+)?/)||[],i=r[1],o=r[2];if(!o)return f_(e,t);switch(i){case"P":n=t.dateTime({width:"short"});break;case"PP":n=t.dateTime({width:"medium"});break;case"PPP":n=t.dateTime({width:"long"});break;default:n=t.dateTime({width:"full"})}return n.replace("{{date}}",f_(i,t)).replace("{{time}}",h_(o,t))}};function p_(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}var v_=["D","DD"],g_=["YY","YYYY"];function m_(e){return-1!==v_.indexOf(e)}function y_(e){return-1!==g_.indexOf(e)}function b_(e,t,n){if("YYYY"===e)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("YY"===e)throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("D"===e)throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("DD"===e)throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://git.io/fxCyr"))}var w_=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,__=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,x_=/^'([^]*?)'?$/,S_=/''/g,E_=/[a-zA-Z]/;function k_(e){return e.match(x_)[1].replace(S_,"'")}function T_(e,t){if(null==e)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t=t||{})Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function C_(e,t,n){Dw(2,arguments);var r=n||{},i=r.locale,o=i&&i.options&&i.options.weekStartsOn,a=null==o?0:Lw(o),s=null==r.weekStartsOn?a:Lw(r.weekStartsOn);if(!(s>=0&&s<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var u=Rw(e),c=Lw(t),l=u.getUTCDay(),f=c%7,h=(f+7)%7,d=(h<s?7:0)+c-l;return u.setUTCDate(u.getUTCDate()+d),u}var I_=/^(1[0-2]|0?\d)/,P_=/^(3[0-1]|[0-2]?\d)/,O_=/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,A_=/^(5[0-3]|[0-4]?\d)/,D_=/^(2[0-3]|[0-1]?\d)/,N_=/^(2[0-4]|[0-1]?\d)/,R_=/^(1[0-1]|0?\d)/,j_=/^(1[0-2]|0?\d)/,M_=/^[0-5]?\d/,L_=/^[0-5]?\d/,F_=/^\d/,U_=/^\d{1,2}/,B_=/^\d{1,3}/,q_=/^\d{1,4}/,V_=/^-?\d+/,z_=/^-?\d/,W_=/^-?\d{1,2}/,H_=/^-?\d{1,3}/,K_=/^-?\d{1,4}/,G_=/^([+-])(\d{2})(\d{2})?|Z/,Y_=/^([+-])(\d{2})(\d{2})|Z/,$_=/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,Q_=/^([+-])(\d{2}):(\d{2})|Z/,X_=/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/;function J_(e,t,n){var r=t.match(e);if(!r)return null;var i=parseInt(r[0],10);return{value:n?n(i):i,rest:t.slice(r[0].length)}}function Z_(e,t){var n=t.match(e);return n?"Z"===n[0]?{value:0,rest:t.slice(1)}:{value:("+"===n[1]?1:-1)*(36e5*(n[2]?parseInt(n[2],10):0)+6e4*(n[3]?parseInt(n[3],10):0)+1e3*(n[5]?parseInt(n[5],10):0)),rest:t.slice(n[0].length)}:null}function ex(e,t){return J_(V_,e,t)}function tx(e,t,n){switch(e){case 1:return J_(F_,t,n);case 2:return J_(U_,t,n);case 3:return J_(B_,t,n);case 4:return J_(q_,t,n);default:return J_(new RegExp("^\\d{1,"+e+"}"),t,n)}}function nx(e,t,n){switch(e){case 1:return J_(z_,t,n);case 2:return J_(W_,t,n);case 3:return J_(H_,t,n);case 4:return J_(K_,t,n);default:return J_(new RegExp("^-?\\d{1,"+e+"}"),t,n)}}function rx(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function ix(e,t){var n,r=t>0,i=r?t:1-t;if(i<=50)n=e||100;else{var o=i+50;n=e+100*Math.floor(o/100)-(e>=o%100?100:0)}return r?n:1-n}var ox=[31,28,31,30,31,30,31,31,30,31,30,31],ax=[31,29,31,30,31,30,31,31,30,31,30,31];function sx(e){return e%400===0||e%4===0&&e%100!==0}var ux={G:{priority:140,parse:function(e,t,n,r){switch(t){case"G":case"GG":case"GGG":return n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"});case"GGGGG":return n.era(e,{width:"narrow"});default:return n.era(e,{width:"wide"})||n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"})}},set:function(e,t,n,r){return t.era=n,e.setUTCFullYear(n,0,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["R","u","t","T"]},y:{priority:130,parse:function(e,t,n,r){var i=function(e){return{year:e,isTwoDigitYear:"yy"===t}};switch(t){case"y":return tx(4,e,i);case"yo":return n.ordinalNumber(e,{unit:"year",valueCallback:i});default:return tx(t.length,e,i)}},validate:function(e,t,n){return t.isTwoDigitYear||t.year>0},set:function(e,t,n,r){var i=e.getUTCFullYear();if(n.isTwoDigitYear){var o=ix(n.year,i);return e.setUTCFullYear(o,0,1),e.setUTCHours(0,0,0,0),e}var a="era"in t&&1!==t.era?1-n.year:n.year;return e.setUTCFullYear(a,0,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","u","w","I","i","e","c","t","T"]},Y:{priority:130,parse:function(e,t,n,r){var i=function(e){return{year:e,isTwoDigitYear:"YY"===t}};switch(t){case"Y":return tx(4,e,i);case"Yo":return n.ordinalNumber(e,{unit:"year",valueCallback:i});default:return tx(t.length,e,i)}},validate:function(e,t,n){return t.isTwoDigitYear||t.year>0},set:function(e,t,n,r){var i=Gw(e,r);if(n.isTwoDigitYear){var o=ix(n.year,i);return e.setUTCFullYear(o,0,r.firstWeekContainsDate),e.setUTCHours(0,0,0,0),Kw(e,r)}var a="era"in t&&1!==t.era?1-n.year:n.year;return e.setUTCFullYear(a,0,r.firstWeekContainsDate),e.setUTCHours(0,0,0,0),Kw(e,r)},incompatibleTokens:["y","R","u","Q","q","M","L","I","d","D","i","t","T"]},R:{priority:130,parse:function(e,t,n,r){return nx("R"===t?4:t.length,e)},set:function(e,t,n,r){var i=new Date(0);return i.setUTCFullYear(n,0,4),i.setUTCHours(0,0,0,0),qw(i)},incompatibleTokens:["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]},u:{priority:130,parse:function(e,t,n,r){return nx("u"===t?4:t.length,e)},set:function(e,t,n,r){return e.setUTCFullYear(n,0,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["G","y","Y","R","w","I","i","e","c","t","T"]},Q:{priority:120,parse:function(e,t,n,r){switch(t){case"Q":case"QQ":return tx(t.length,e);case"Qo":return n.ordinalNumber(e,{unit:"quarter"});case"QQQ":return n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(e,{width:"narrow",context:"formatting"});default:return n.quarter(e,{width:"wide",context:"formatting"})||n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"})}},validate:function(e,t,n){return t>=1&&t<=4},set:function(e,t,n,r){return e.setUTCMonth(3*(n-1),1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]},q:{priority:120,parse:function(e,t,n,r){switch(t){case"q":case"qq":return tx(t.length,e);case"qo":return n.ordinalNumber(e,{unit:"quarter"});case"qqq":return n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(e,{width:"narrow",context:"standalone"});default:return n.quarter(e,{width:"wide",context:"standalone"})||n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"})}},validate:function(e,t,n){return t>=1&&t<=4},set:function(e,t,n,r){return e.setUTCMonth(3*(n-1),1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]},M:{priority:110,parse:function(e,t,n,r){var i=function(e){return e-1};switch(t){case"M":return J_(I_,e,i);case"MM":return tx(2,e,i);case"Mo":return n.ordinalNumber(e,{unit:"month",valueCallback:i});case"MMM":return n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(e,{width:"narrow",context:"formatting"});default:return n.month(e,{width:"wide",context:"formatting"})||n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"})}},validate:function(e,t,n){return t>=0&&t<=11},set:function(e,t,n,r){return e.setUTCMonth(n,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]},L:{priority:110,parse:function(e,t,n,r){var i=function(e){return e-1};switch(t){case"L":return J_(I_,e,i);case"LL":return tx(2,e,i);case"Lo":return n.ordinalNumber(e,{unit:"month",valueCallback:i});case"LLL":return n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(e,{width:"narrow",context:"standalone"});default:return n.month(e,{width:"wide",context:"standalone"})||n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"})}},validate:function(e,t,n){return t>=0&&t<=11},set:function(e,t,n,r){return e.setUTCMonth(n,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]},w:{priority:100,parse:function(e,t,n,r){switch(t){case"w":return J_(A_,e);case"wo":return n.ordinalNumber(e,{unit:"week"});default:return tx(t.length,e)}},validate:function(e,t,n){return t>=1&&t<=53},set:function(e,t,n,r){return Kw(function(e,t,n){Dw(2,arguments);var r=Rw(e),i=Lw(t),o=Qw(r,n)-i;return r.setUTCDate(r.getUTCDate()-7*o),r}(e,n,r),r)},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","i","t","T"]},I:{priority:100,parse:function(e,t,n,r){switch(t){case"I":return J_(A_,e);case"Io":return n.ordinalNumber(e,{unit:"week"});default:return tx(t.length,e)}},validate:function(e,t,n){return t>=1&&t<=53},set:function(e,t,n,r){return qw(function(e,t){Dw(2,arguments);var n=Rw(e),r=Lw(t),i=Hw(n)-r;return n.setUTCDate(n.getUTCDate()-7*i),n}(e,n,r),r)},incompatibleTokens:["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]},d:{priority:90,subPriority:1,parse:function(e,t,n,r){switch(t){case"d":return J_(P_,e);case"do":return n.ordinalNumber(e,{unit:"date"});default:return tx(t.length,e)}},validate:function(e,t,n){var r=sx(e.getUTCFullYear()),i=e.getUTCMonth();return r?t>=1&&t<=ax[i]:t>=1&&t<=ox[i]},set:function(e,t,n,r){return e.setUTCDate(n),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","Q","w","I","D","i","e","c","t","T"]},D:{priority:90,subPriority:1,parse:function(e,t,n,r){switch(t){case"D":case"DD":return J_(O_,e);case"Do":return n.ordinalNumber(e,{unit:"date"});default:return tx(t.length,e)}},validate:function(e,t,n){return sx(e.getUTCFullYear())?t>=1&&t<=366:t>=1&&t<=365},set:function(e,t,n,r){return e.setUTCMonth(0,n),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]},E:{priority:90,parse:function(e,t,n,r){switch(t){case"E":case"EE":case"EEE":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}},validate:function(e,t,n){return t>=0&&t<=6},set:function(e,t,n,r){return(e=C_(e,n,r)).setUTCHours(0,0,0,0),e},incompatibleTokens:["D","i","e","c","t","T"]},e:{priority:90,parse:function(e,t,n,r){var i=function(e){var t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"e":case"ee":return tx(t.length,e,i);case"eo":return n.ordinalNumber(e,{unit:"day",valueCallback:i});case"eee":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeeee":return n.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}},validate:function(e,t,n){return t>=0&&t<=6},set:function(e,t,n,r){return(e=C_(e,n,r)).setUTCHours(0,0,0,0),e},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]},c:{priority:90,parse:function(e,t,n,r){var i=function(e){var t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"c":case"cc":return tx(t.length,e,i);case"co":return n.ordinalNumber(e,{unit:"day",valueCallback:i});case"ccc":return n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"ccccc":return n.day(e,{width:"narrow",context:"standalone"});case"cccccc":return n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});default:return n.day(e,{width:"wide",context:"standalone"})||n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"})}},validate:function(e,t,n){return t>=0&&t<=6},set:function(e,t,n,r){return(e=C_(e,n,r)).setUTCHours(0,0,0,0),e},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]},i:{priority:90,parse:function(e,t,n,r){var i=function(e){return 0===e?7:e};switch(t){case"i":case"ii":return tx(t.length,e);case"io":return n.ordinalNumber(e,{unit:"day"});case"iii":return n.day(e,{width:"abbreviated",context:"formatting",valueCallback:i})||n.day(e,{width:"short",context:"formatting",valueCallback:i})||n.day(e,{width:"narrow",context:"formatting",valueCallback:i});case"iiiii":return n.day(e,{width:"narrow",context:"formatting",valueCallback:i});case"iiiiii":return n.day(e,{width:"short",context:"formatting",valueCallback:i})||n.day(e,{width:"narrow",context:"formatting",valueCallback:i});default:return n.day(e,{width:"wide",context:"formatting",valueCallback:i})||n.day(e,{width:"abbreviated",context:"formatting",valueCallback:i})||n.day(e,{width:"short",context:"formatting",valueCallback:i})||n.day(e,{width:"narrow",context:"formatting",valueCallback:i})}},validate:function(e,t,n){return t>=1&&t<=7},set:function(e,t,n,r){return e=function(e,t){Dw(2,arguments);var n=Lw(t);n%7===0&&(n-=7);var r=1,i=Rw(e),o=i.getUTCDay(),a=((n%7+7)%7<r?7:0)+n-o;return i.setUTCDate(i.getUTCDate()+a),i}(e,n,r),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]},a:{priority:80,parse:function(e,t,n,r){switch(t){case"a":case"aa":case"aaa":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}},set:function(e,t,n,r){return e.setUTCHours(rx(n),0,0,0),e},incompatibleTokens:["b","B","H","k","t","T"]},b:{priority:80,parse:function(e,t,n,r){switch(t){case"b":case"bb":case"bbb":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}},set:function(e,t,n,r){return e.setUTCHours(rx(n),0,0,0),e},incompatibleTokens:["a","B","H","k","t","T"]},B:{priority:80,parse:function(e,t,n,r){switch(t){case"B":case"BB":case"BBB":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}},set:function(e,t,n,r){return e.setUTCHours(rx(n),0,0,0),e},incompatibleTokens:["a","b","t","T"]},h:{priority:70,parse:function(e,t,n,r){switch(t){case"h":return J_(j_,e);case"ho":return n.ordinalNumber(e,{unit:"hour"});default:return tx(t.length,e)}},validate:function(e,t,n){return t>=1&&t<=12},set:function(e,t,n,r){var i=e.getUTCHours()>=12;return i&&n<12?e.setUTCHours(n+12,0,0,0):i||12!==n?e.setUTCHours(n,0,0,0):e.setUTCHours(0,0,0,0),e},incompatibleTokens:["H","K","k","t","T"]},H:{priority:70,parse:function(e,t,n,r){switch(t){case"H":return J_(D_,e);case"Ho":return n.ordinalNumber(e,{unit:"hour"});default:return tx(t.length,e)}},validate:function(e,t,n){return t>=0&&t<=23},set:function(e,t,n,r){return e.setUTCHours(n,0,0,0),e},incompatibleTokens:["a","b","h","K","k","t","T"]},K:{priority:70,parse:function(e,t,n,r){switch(t){case"K":return J_(R_,e);case"Ko":return n.ordinalNumber(e,{unit:"hour"});default:return tx(t.length,e)}},validate:function(e,t,n){return t>=0&&t<=11},set:function(e,t,n,r){return e.getUTCHours()>=12&&n<12?e.setUTCHours(n+12,0,0,0):e.setUTCHours(n,0,0,0),e},incompatibleTokens:["h","H","k","t","T"]},k:{priority:70,parse:function(e,t,n,r){switch(t){case"k":return J_(N_,e);case"ko":return n.ordinalNumber(e,{unit:"hour"});default:return tx(t.length,e)}},validate:function(e,t,n){return t>=1&&t<=24},set:function(e,t,n,r){var i=n<=24?n%24:n;return e.setUTCHours(i,0,0,0),e},incompatibleTokens:["a","b","h","H","K","t","T"]},m:{priority:60,parse:function(e,t,n,r){switch(t){case"m":return J_(M_,e);case"mo":return n.ordinalNumber(e,{unit:"minute"});default:return tx(t.length,e)}},validate:function(e,t,n){return t>=0&&t<=59},set:function(e,t,n,r){return e.setUTCMinutes(n,0,0),e},incompatibleTokens:["t","T"]},s:{priority:50,parse:function(e,t,n,r){switch(t){case"s":return J_(L_,e);case"so":return n.ordinalNumber(e,{unit:"second"});default:return tx(t.length,e)}},validate:function(e,t,n){return t>=0&&t<=59},set:function(e,t,n,r){return e.setUTCSeconds(n,0),e},incompatibleTokens:["t","T"]},S:{priority:30,parse:function(e,t,n,r){return tx(t.length,e,(function(e){return Math.floor(e*Math.pow(10,3-t.length))}))},set:function(e,t,n,r){return e.setUTCMilliseconds(n),e},incompatibleTokens:["t","T"]},X:{priority:10,parse:function(e,t,n,r){switch(t){case"X":return Z_(G_,e);case"XX":return Z_(Y_,e);case"XXXX":return Z_($_,e);case"XXXXX":return Z_(X_,e);default:return Z_(Q_,e)}},set:function(e,t,n,r){return t.timestampIsSet?e:new Date(e.getTime()-n)},incompatibleTokens:["t","T","x"]},x:{priority:10,parse:function(e,t,n,r){switch(t){case"x":return Z_(G_,e);case"xx":return Z_(Y_,e);case"xxxx":return Z_($_,e);case"xxxxx":return Z_(X_,e);default:return Z_(Q_,e)}},set:function(e,t,n,r){return t.timestampIsSet?e:new Date(e.getTime()-n)},incompatibleTokens:["t","T","X"]},t:{priority:40,parse:function(e,t,n,r){return ex(e)},set:function(e,t,n,r){return[new Date(1e3*n),{timestampIsSet:!0}]},incompatibleTokens:"*"},T:{priority:20,parse:function(e,t,n,r){return ex(e)},set:function(e,t,n,r){return[new Date(n),{timestampIsSet:!0}]},incompatibleTokens:"*"}},cx=ux,lx=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,fx=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,hx=/^'([^]*?)'?$/,dx=/''/g,px=/\S/,vx=/[a-zA-Z]/;function gx(e,t){if(t.timestampIsSet)return e;var n=new Date(0);return n.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),n.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),n}function mx(e){return e.match(hx)[1].replace(dx,"'")}function yx(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wx(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bx(Object(n),!0).forEach((function(t){yx(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bx(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _x(e,t){if(null==e)return{};var n,r,i=f(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function xx(e){return xx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xx(e)}function Sx(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ex(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kx(e,t,n){return t&&Ex(e.prototype,t),n&&Ex(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Tx(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&B(e,t)}function Cx(e){return Cx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Cx(e)}function Ix(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Px(e,t){if(t&&("object"===xx(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ix(e)}function Ox(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(wm){return!1}}();return function(){var n,r=Cx(e);if(t){var i=Cx(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Px(this,n)}}var Ax=n(2176),Dx=n.n(Ax),Nx=function(){};function Rx(e,t){return void 0!==e[t]}function jx(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function Mx(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function Lx(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function Fx(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}Mx.__suppressDeprecationWarning=!0,Lx.__suppressDeprecationWarning=!0,Fx.__suppressDeprecationWarning=!0;function Ux(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=Ux(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}var Bx=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=Ux(e))&&(r&&(r+=" "),r+=t);return r},qx="milliseconds",Vx="seconds",zx="minutes",Wx="hours",Hx="day",Kx="week",Gx="month",Yx="year",$x="decade",Qx="century",Xx={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,day:864e5,week:6048e5},Jx={month:1,year:12,decade:120,century:1200};function Zx(e){return e%4===0&&e%100!==0||e%400===0?29:28}function eS(e,t,n){switch(e=new Date(e),n){case qx:case Vx:case zx:case Wx:case Hx:case Kx:return function(e,t){var n=new Date(+e+t);return function(e,t){var n=e.getTimezoneOffset(),r=t.getTimezoneOffset();return new Date(+t+(r-n)*Xx.minutes)}(e,n)}(e,t*Xx[n]);case Gx:case Yx:case $x:case Qx:return function(e,t){var n=e.getFullYear(),r=e.getMonth(),i=e.getDate(),o=12*n+r+t,a=Math.trunc(o/12),s=o%12,u=Math.min(i,function(e){return[31,Zx(e),31,30,31,30,31,31,30,31,30,31]}(a)[s]),c=new Date(e);return c.setFullYear(a),c.setDate(1),c.setMonth(s),c.setDate(u),c}(e,t*Jx[n])}throw new TypeError('Invalid units: "'+n+'"')}function tS(e,t,n){return eS(e,-t,n)}function nS(e,t,n){switch(e=new Date(e),t){case Qx:case $x:case Yx:e=bS(e,0);case Gx:e=yS(e,1);case Kx:case Hx:e=gS(e,0);case Wx:e=vS(e,0);case zx:e=pS(e,0);case Vx:e=dS(e,0)}return t===$x&&(e=tS(e,wS(e)%10,"year")),t===Qx&&(e=tS(e,wS(e)%100,"year")),t===Kx&&(e=function(e,t,n){var r=(mS(e)+7-(n||0))%7;return void 0===t?r:eS(e,t-r,Hx)}(e,0,n)),e}function rS(e,t,n){switch(e=nS(e=new Date(e),t,n),t){case Qx:case $x:case Yx:case Gx:case Kx:(e=tS(e=eS(e,1,t),1,Hx)).setHours(23,59,59,999);break;case Hx:e.setHours(23,59,59,999);break;case Wx:case zx:case Vx:e=tS(e=eS(e,1,t),1,qx)}return e}var iS=xS((function(e,t){return e===t})),oS=xS((function(e,t){return e!==t})),aS=xS((function(e,t){return e>t})),sS=xS((function(e,t){return e>=t})),uS=xS((function(e,t){return e<t})),cS=xS((function(e,t){return e<=t}));function lS(){return new Date(Math.min.apply(Math,arguments))}function fS(){return new Date(Math.max.apply(Math,arguments))}function hS(e,t,n,r){return r=r||"day",(!t||sS(e,t,r))&&(!n||cS(e,n,r))}var dS=_S("Milliseconds"),pS=_S("Seconds"),vS=_S("Minutes"),gS=_S("Hours"),mS=_S("Day"),yS=_S("Date"),bS=_S("Month"),wS=_S("FullYear");function _S(e){var t=function(e){switch(e){case"Milliseconds":return 36e5;case"Seconds":return 3600;case"Minutes":return 60;case"Hours":return 1;default:return null}}(e);return function(n,r){if(void 0===r)return n["get"+e]();var i=new Date(n);return i["set"+e](r),t&&i["get"+e]()!=r&&("Hours"===e||r>=t&&i.getHours()-n.getHours()<Math.floor(r/t))&&i["set"+e](r+t),i}}function xS(e){return function(t,n,r){return e(+nS(t,r),+nS(n,r))}}function SS(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function ES(e){return function(e){if(Array.isArray(e))return Dn(e)}(e)||SS(e)||Nn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var kS=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o};var TS=function(e,t){return e===t||e!==e&&t!==t},CS="object"==typeof global&&global&&global.Object===Object&&global,IS="object"==typeof self&&self&&self.Object===Object&&self,PS=CS||IS||Function("return this")(),OS=PS.Symbol,AS=Object.prototype,DS=AS.hasOwnProperty,NS=AS.toString,RS=OS?OS.toStringTag:void 0;var jS=function(e){var t=DS.call(e,RS),n=e[RS];try{e[RS]=void 0;var r=!0}catch(wm){}var i=NS.call(e);return r&&(t?e[RS]=n:delete e[RS]),i},MS=Object.prototype.toString;var LS=function(e){return MS.call(e)},FS=OS?OS.toStringTag:void 0;var US=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":FS&&FS in Object(e)?jS(e):LS(e)};var BS=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};var qS=function(e){if(!BS(e))return!1;var t=US(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t};var VS=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991};var zS=function(e){return null!=e&&VS(e.length)&&!qS(e)},WS=/^(?:0|[1-9]\d*)$/;var HS=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&WS.test(e))&&e>-1&&e%1==0&&e<t};var KS=function(e,t,n){if(!BS(n))return!1;var r=typeof t;return!!("number"==r?zS(n)&&HS(t,n.length):"string"==r&&t in n)&&TS(n[t],e)},GS=/\s/;var YS=function(e){for(var t=e.length;t--&&GS.test(e.charAt(t)););return t},$S=/^\s+/;var QS=function(e){return e?e.slice(0,YS(e)+1).replace($S,""):e};var XS=function(e){return null!=e&&"object"==typeof e};var JS=function(e){return"symbol"==typeof e||XS(e)&&"[object Symbol]"==US(e)},ZS=/^[-+]0x[0-9a-f]+$/i,eE=/^0b[01]+$/i,tE=/^0o[0-7]+$/i,nE=parseInt;var rE=function(e){if("number"==typeof e)return e;if(JS(e))return NaN;if(BS(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=BS(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=QS(e);var n=eE.test(e);return n||tE.test(e)?nE(e.slice(2),n?2:8):ZS.test(e)?NaN:+e},iE=1/0;var oE=function(e){return e?(e=rE(e))===iE||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0};var aE=function(e){var t=oE(e),n=t%1;return t===t?n?t-n:t:0},sE=Math.ceil,uE=Math.max;var cE=function(e,t,n){t=(n?KS(e,t,n):void 0===t)?1:uE(aE(t),0);var r=null==e?0:e.length;if(!r||t<1)return[];for(var i=0,o=0,a=Array(sE(r/t));i<r;)a[o++]=kS(e,i,i+=t);return a};function lE(e){return e&&e.ownerDocument||document}function fE(e,t){return function(e){var t=lE(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var hE=/([A-Z])/g;var dE=/^ms-/;function pE(e){return function(e){return e.replace(hE,"-$1").toLowerCase()}(e).replace(dE,"-ms-")}var vE=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;var gE=function(e,t){var n="",r="";if("string"===typeof t)return e.style.getPropertyValue(pE(t))||fE(e).getPropertyValue(pE(t));Object.keys(t).forEach((function(i){var o=t[i];o||0===o?!function(e){return!(!e||!vE.test(e))}(i)?n+=pE(i)+": "+o+";":r+=i+"("+o+") ":e.style.removeProperty(pE(i))})),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n};function mE(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}function yE(e){return"window"in e&&e.window===e?e:"nodeType"in(t=e)&&t.nodeType===document.DOCUMENT_NODE&&e.defaultView||!1;var t}function bE(e){var t="pageXOffset"===e?"scrollLeft":"scrollTop";return function(n,r){var i=yE(n);if(void 0===r)return i?i[e]:n[t];i?i.scrollTo(i[e],r):n[t]=r}}var wE=bE("pageXOffset"),_E=bE("pageYOffset");function xE(e){var t=lE(e),n={top:0,left:0,height:0,width:0},r=t&&t.documentElement;return r&&mE(r,e)?(void 0!==e.getBoundingClientRect&&(n=e.getBoundingClientRect()),n={top:n.top+_E(r)-(r.clientTop||0),left:n.left+wE(r)-(r.clientLeft||0),width:n.width,height:n.height}):n}var SE=function(e){return!!e&&"offsetParent"in e};function EE(e,t){var n,r={top:0,left:0};if("fixed"===gE(e,"position"))n=e.getBoundingClientRect();else{var i=t||function(e){for(var t=lE(e),n=e&&e.offsetParent;SE(n)&&"HTML"!==n.nodeName&&"static"===gE(n,"position");)n=n.offsetParent;return n||t.documentElement}(e);n=xE(e),"html"!==function(e){return e.nodeName&&e.nodeName.toLowerCase()}(i)&&(r=xE(i));var o=String(gE(i,"borderTopWidth")||0);r.top+=parseInt(o,10)-_E(i)||0;var a=String(gE(i,"borderLeftWidth")||0);r.left+=parseInt(a,10)-wE(i)||0}var s=String(gE(e,"marginTop")||0),u=String(gE(e,"marginLeft")||0);return l({},n,{top:n.top-r.top-(parseInt(s,10)||0),left:n.left-r.left-(parseInt(u,10)||0)})}var kE=!("undefined"===typeof window||!window.document||!window.document.createElement),TE=(new Date).getTime();var CE="clearTimeout",IE=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-TE)),r=setTimeout(e,n);return TE=t,r},PE=function(e,t){return e+(e?t[0].toUpperCase()+t.substr(1):t)+"AnimationFrame"};kE&&["","webkit","moz","o","ms"].some((function(e){var t=PE(e,"request");return t in window&&(CE=PE(e,"cancel"),IE=function(e){return window[t](e)}),!!IE}));var OE=function(e){"function"===typeof window[CE]&&window[CE](e)},AE=IE;var DE=function(){this.__data__=[],this.size=0};var NE=function(e,t){for(var n=e.length;n--;)if(TS(e[n][0],t))return n;return-1},RE=Array.prototype.splice;var jE=function(e){var t=this.__data__,n=NE(t,e);return!(n<0)&&(n==t.length-1?t.pop():RE.call(t,n,1),--this.size,!0)};var ME=function(e){var t=this.__data__,n=NE(t,e);return n<0?void 0:t[n][1]};var LE=function(e){return NE(this.__data__,e)>-1};var FE=function(e,t){var n=this.__data__,r=NE(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function UE(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}UE.prototype.clear=DE,UE.prototype.delete=jE,UE.prototype.get=ME,UE.prototype.has=LE,UE.prototype.set=FE;var BE=UE;var qE=function(){this.__data__=new BE,this.size=0};var VE=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};var zE=function(e){return this.__data__.get(e)};var WE=function(e){return this.__data__.has(e)},HE=PS["__core-js_shared__"],KE=function(){var e=/[^.]+$/.exec(HE&&HE.keys&&HE.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();var GE=function(e){return!!KE&&KE in e},YE=Function.prototype.toString;var $E=function(e){if(null!=e){try{return YE.call(e)}catch(wm){}try{return e+""}catch(wm){}}return""},QE=/^\[object .+?Constructor\]$/,XE=Function.prototype,JE=Object.prototype,ZE=XE.toString,ek=JE.hasOwnProperty,tk=RegExp("^"+ZE.call(ek).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var nk=function(e){return!(!BS(e)||GE(e))&&(qS(e)?tk:QE).test($E(e))};var rk=function(e,t){return null==e?void 0:e[t]};var ik=function(e,t){var n=rk(e,t);return nk(n)?n:void 0},ok=ik(PS,"Map"),ak=ik(Object,"create");var sk=function(){this.__data__=ak?ak(null):{},this.size=0};var uk=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ck=Object.prototype.hasOwnProperty;var lk=function(e){var t=this.__data__;if(ak){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return ck.call(t,e)?t[e]:void 0},fk=Object.prototype.hasOwnProperty;var hk=function(e){var t=this.__data__;return ak?void 0!==t[e]:fk.call(t,e)};var dk=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ak&&void 0===t?"__lodash_hash_undefined__":t,this};function pk(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}pk.prototype.clear=sk,pk.prototype.delete=uk,pk.prototype.get=lk,pk.prototype.has=hk,pk.prototype.set=dk;var vk=pk;var gk=function(){this.size=0,this.__data__={hash:new vk,map:new(ok||BE),string:new vk}};var mk=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var yk=function(e,t){var n=e.__data__;return mk(t)?n["string"==typeof t?"string":"hash"]:n.map};var bk=function(e){var t=yk(this,e).delete(e);return this.size-=t?1:0,t};var wk=function(e){return yk(this,e).get(e)};var _k=function(e){return yk(this,e).has(e)};var xk=function(e,t){var n=yk(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function Sk(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Sk.prototype.clear=gk,Sk.prototype.delete=bk,Sk.prototype.get=wk,Sk.prototype.has=_k,Sk.prototype.set=xk;var Ek=Sk;var kk=function(e,t){var n=this.__data__;if(n instanceof BE){var r=n.__data__;if(!ok||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Ek(r)}return n.set(e,t),this.size=n.size,this};function Tk(e){var t=this.__data__=new BE(e);this.size=t.size}Tk.prototype.clear=qE,Tk.prototype.delete=VE,Tk.prototype.get=zE,Tk.prototype.has=WE,Tk.prototype.set=kk;var Ck=Tk;var Ik=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this};var Pk=function(e){return this.__data__.has(e)};function Ok(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Ek;++t<n;)this.add(e[t])}Ok.prototype.add=Ok.prototype.push=Ik,Ok.prototype.has=Pk;var Ak=Ok;var Dk=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1};var Nk=function(e,t){return e.has(t)};var Rk=function(e,t,n,r,i,o){var a=1&n,s=e.length,u=t.length;if(s!=u&&!(a&&u>s))return!1;var c=o.get(e),l=o.get(t);if(c&&l)return c==t&&l==e;var f=-1,h=!0,d=2&n?new Ak:void 0;for(o.set(e,t),o.set(t,e);++f<s;){var p=e[f],v=t[f];if(r)var g=a?r(v,p,f,t,e,o):r(p,v,f,e,t,o);if(void 0!==g){if(g)continue;h=!1;break}if(d){if(!Dk(t,(function(e,t){if(!Nk(d,t)&&(p===e||i(p,e,n,r,o)))return d.push(t)}))){h=!1;break}}else if(p!==v&&!i(p,v,n,r,o)){h=!1;break}}return o.delete(e),o.delete(t),h},jk=PS.Uint8Array;var Mk=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n};var Lk=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n},Fk=OS?OS.prototype:void 0,Uk=Fk?Fk.valueOf:void 0;var Bk=function(e,t,n,r,i,o,a){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!o(new jk(e),new jk(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return TS(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=Mk;case"[object Set]":var u=1&r;if(s||(s=Lk),e.size!=t.size&&!u)return!1;var c=a.get(e);if(c)return c==t;r|=2,a.set(e,t);var l=Rk(s(e),s(t),r,i,o,a);return a.delete(e),l;case"[object Symbol]":if(Uk)return Uk.call(e)==Uk.call(t)}return!1};var qk=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e},Vk=Array.isArray;var zk=function(e,t,n){var r=t(e);return Vk(e)?r:qk(r,n(e))};var Wk=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o};var Hk=function(){return[]},Kk=Object.prototype.propertyIsEnumerable,Gk=Object.getOwnPropertySymbols,Yk=Gk?function(e){return null==e?[]:(e=Object(e),Wk(Gk(e),(function(t){return Kk.call(e,t)})))}:Hk;var $k=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r};var Qk=function(e){return XS(e)&&"[object Arguments]"==US(e)},Xk=Object.prototype,Jk=Xk.hasOwnProperty,Zk=Xk.propertyIsEnumerable,eT=Qk(function(){return arguments}())?Qk:function(e){return XS(e)&&Jk.call(e,"callee")&&!Zk.call(e,"callee")},tT=eT;var nT=function(){return!1},rT="object"==typeof exports&&exports&&!exports.nodeType&&exports,iT=rT&&"object"==typeof module&&module&&!module.nodeType&&module,oT=iT&&iT.exports===rT?PS.Buffer:void 0,aT=(oT?oT.isBuffer:void 0)||nT,sT={};sT["[object Float32Array]"]=sT["[object Float64Array]"]=sT["[object Int8Array]"]=sT["[object Int16Array]"]=sT["[object Int32Array]"]=sT["[object Uint8Array]"]=sT["[object Uint8ClampedArray]"]=sT["[object Uint16Array]"]=sT["[object Uint32Array]"]=!0,sT["[object Arguments]"]=sT["[object Array]"]=sT["[object ArrayBuffer]"]=sT["[object Boolean]"]=sT["[object DataView]"]=sT["[object Date]"]=sT["[object Error]"]=sT["[object Function]"]=sT["[object Map]"]=sT["[object Number]"]=sT["[object Object]"]=sT["[object RegExp]"]=sT["[object Set]"]=sT["[object String]"]=sT["[object WeakMap]"]=!1;var uT=function(e){return XS(e)&&VS(e.length)&&!!sT[US(e)]};var cT=function(e){return function(t){return e(t)}},lT="object"==typeof exports&&exports&&!exports.nodeType&&exports,fT=lT&&"object"==typeof module&&module&&!module.nodeType&&module,hT=fT&&fT.exports===lT&&CS.process,dT=function(){try{var e=fT&&fT.require&&fT.require("util").types;return e||hT&&hT.binding&&hT.binding("util")}catch(wm){}}(),pT=dT&&dT.isTypedArray,vT=pT?cT(pT):uT,gT=Object.prototype.hasOwnProperty;var mT=function(e,t){var n=Vk(e),r=!n&&tT(e),i=!n&&!r&&aT(e),o=!n&&!r&&!i&&vT(e),a=n||r||i||o,s=a?$k(e.length,String):[],u=s.length;for(var c in e)!t&&!gT.call(e,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||HS(c,u))||s.push(c);return s},yT=Object.prototype;var bT=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||yT)};var wT=function(e,t){return function(n){return e(t(n))}},_T=wT(Object.keys,Object),xT=Object.prototype.hasOwnProperty;var ST=function(e){if(!bT(e))return _T(e);var t=[];for(var n in Object(e))xT.call(e,n)&&"constructor"!=n&&t.push(n);return t};var ET=function(e){return zS(e)?mT(e):ST(e)};var kT=function(e){return zk(e,ET,Yk)},TT=Object.prototype.hasOwnProperty;var CT=function(e,t,n,r,i,o){var a=1&n,s=kT(e),u=s.length;if(u!=kT(t).length&&!a)return!1;for(var c=u;c--;){var l=s[c];if(!(a?l in t:TT.call(t,l)))return!1}var f=o.get(e),h=o.get(t);if(f&&h)return f==t&&h==e;var d=!0;o.set(e,t),o.set(t,e);for(var p=a;++c<u;){var v=e[l=s[c]],g=t[l];if(r)var m=a?r(g,v,l,t,e,o):r(v,g,l,e,t,o);if(!(void 0===m?v===g||i(v,g,n,r,o):m)){d=!1;break}p||(p="constructor"==l)}if(d&&!p){var y=e.constructor,b=t.constructor;y==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(d=!1)}return o.delete(e),o.delete(t),d},IT=ik(PS,"DataView"),PT=ik(PS,"Promise"),OT=ik(PS,"Set"),AT=ik(PS,"WeakMap"),DT="[object Map]",NT="[object Promise]",RT="[object Set]",jT="[object WeakMap]",MT="[object DataView]",LT=$E(IT),FT=$E(ok),UT=$E(PT),BT=$E(OT),qT=$E(AT),VT=US;(IT&&VT(new IT(new ArrayBuffer(1)))!=MT||ok&&VT(new ok)!=DT||PT&&VT(PT.resolve())!=NT||OT&&VT(new OT)!=RT||AT&&VT(new AT)!=jT)&&(VT=function(e){var t=US(e),n="[object Object]"==t?e.constructor:void 0,r=n?$E(n):"";if(r)switch(r){case LT:return MT;case FT:return DT;case UT:return NT;case BT:return RT;case qT:return jT}return t});var zT=VT,WT="[object Arguments]",HT="[object Array]",KT="[object Object]",GT=Object.prototype.hasOwnProperty;var YT=function(e,t,n,r,i,o){var a=Vk(e),s=Vk(t),u=a?HT:zT(e),c=s?HT:zT(t),l=(u=u==WT?KT:u)==KT,f=(c=c==WT?KT:c)==KT,h=u==c;if(h&&aT(e)){if(!aT(t))return!1;a=!0,l=!1}if(h&&!l)return o||(o=new Ck),a||vT(e)?Rk(e,t,n,r,i,o):Bk(e,t,u,n,r,i,o);if(!(1&n)){var d=l&&GT.call(e,"__wrapped__"),p=f&&GT.call(t,"__wrapped__");if(d||p){var v=d?e.value():e,g=p?t.value():t;return o||(o=new Ck),i(v,g,n,r,o)}}return!!h&&(o||(o=new Ck),CT(e,t,n,r,i,o))};var $T=function e(t,n,r,i,o){return t===n||(null==t||null==n||!XS(t)&&!XS(n)?t!==t&&n!==n:YT(t,n,r,i,e,o))};var QT=function(e,t){return $T(e,t)};function XT(){return(0,e.useState)(null)}var JT=function(e){return e&&"function"!==typeof e?function(t){e.current=t}:e};var ZT=function(t,n){return(0,e.useMemo)((function(){return function(e,t){var n=JT(e),r=JT(t);return function(e){n&&n(e),r&&r(e)}}(t,n)}),[t,n])},eC="top",tC="bottom",nC="right",rC="left",iC="auto",oC=[eC,tC,nC,rC],aC="start",sC="end",uC="viewport",cC="popper",lC=oC.reduce((function(e,t){return e.concat([t+"-"+aC,t+"-"+sC])}),[]),fC=[].concat(oC,[iC]).reduce((function(e,t){return e.concat([t,t+"-"+aC,t+"-"+sC])}),[]),hC=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];var dC=function(t){var n=function(){var t=(0,e.useRef)(!0),n=(0,e.useRef)((function(){return t.current}));return(0,e.useEffect)((function(){return function(){t.current=!1}}),[]),n.current}();return[t[0],(0,e.useCallback)((function(e){if(n())return t[1](e)}),[n,t[1]])]};function pC(e){return e.split("-")[0]}function vC(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function gC(e){return e instanceof vC(e).Element||e instanceof Element}function mC(e){return e instanceof vC(e).HTMLElement||e instanceof HTMLElement}function yC(e){return"undefined"!==typeof ShadowRoot&&(e instanceof vC(e).ShadowRoot||e instanceof ShadowRoot)}var bC=Math.max,wC=Math.min,_C=Math.round;function xC(e,t){void 0===t&&(t=!1);var n=e.getBoundingClientRect(),r=1,i=1;if(mC(e)&&t){var o=e.offsetHeight,a=e.offsetWidth;a>0&&(r=_C(n.width)/a||1),o>0&&(i=_C(n.height)/o||1)}return{width:n.width/r,height:n.height/i,top:n.top/i,right:n.right/r,bottom:n.bottom/i,left:n.left/r,x:n.left/r,y:n.top/i}}function SC(e){var t=xC(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function EC(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&yC(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function kC(e){return e?(e.nodeName||"").toLowerCase():null}function TC(e){return vC(e).getComputedStyle(e)}function CC(e){return["table","td","th"].indexOf(kC(e))>=0}function IC(e){return((gC(e)?e.ownerDocument:e.document)||window.document).documentElement}function PC(e){return"html"===kC(e)?e:e.assignedSlot||e.parentNode||(yC(e)?e.host:null)||IC(e)}function OC(e){return mC(e)&&"fixed"!==TC(e).position?e.offsetParent:null}function AC(e){for(var t=vC(e),n=OC(e);n&&CC(n)&&"static"===TC(n).position;)n=OC(n);return n&&("html"===kC(n)||"body"===kC(n)&&"static"===TC(n).position)?t:n||function(e){var t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&mC(e)&&"fixed"===TC(e).position)return null;var n=PC(e);for(yC(n)&&(n=n.host);mC(n)&&["html","body"].indexOf(kC(n))<0;){var r=TC(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}function DC(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function NC(e,t,n){return bC(e,wC(t,n))}function RC(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function jC(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}var MC={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,i=e.options,o=n.elements.arrow,a=n.modifiersData.popperOffsets,s=pC(n.placement),u=DC(s),c=[rC,nC].indexOf(s)>=0?"height":"width";if(o&&a){var l=function(e,t){return RC("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:jC(e,oC))}(i.padding,n),f=SC(o),h="y"===u?eC:rC,d="y"===u?tC:nC,p=n.rects.reference[c]+n.rects.reference[u]-a[u]-n.rects.popper[c],v=a[u]-n.rects.reference[u],g=AC(o),m=g?"y"===u?g.clientHeight||0:g.clientWidth||0:0,y=p/2-v/2,b=l[h],w=m-f[c]-l[d],_=m/2-f[c]/2+y,x=NC(b,_,w),S=u;n.modifiersData[r]=((t={})[S]=x,t.centerOffset=x-_,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&EC(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function LC(e){return e.split("-")[1]}var FC={top:"auto",right:"auto",bottom:"auto",left:"auto"};function UC(e){var t,n=e.popper,r=e.popperRect,i=e.placement,o=e.variation,a=e.offsets,s=e.position,u=e.gpuAcceleration,c=e.adaptive,l=e.roundOffsets,f=e.isFixed,h=a.x,d=void 0===h?0:h,p=a.y,v=void 0===p?0:p,g="function"===typeof l?l({x:d,y:v}):{x:d,y:v};d=g.x,v=g.y;var m=a.hasOwnProperty("x"),y=a.hasOwnProperty("y"),b=rC,w=eC,_=window;if(c){var x=AC(n),S="clientHeight",E="clientWidth";if(x===vC(n)&&"static"!==TC(x=IC(n)).position&&"absolute"===s&&(S="scrollHeight",E="scrollWidth"),i===eC||(i===rC||i===nC)&&o===sC)w=tC,v-=(f&&x===_&&_.visualViewport?_.visualViewport.height:x[S])-r.height,v*=u?1:-1;if(i===rC||(i===eC||i===tC)&&o===sC)b=nC,d-=(f&&x===_&&_.visualViewport?_.visualViewport.width:x[E])-r.width,d*=u?1:-1}var k,T=Object.assign({position:s},c&&FC),C=!0===l?function(e){var t=e.x,n=e.y,r=window.devicePixelRatio||1;return{x:_C(t*r)/r||0,y:_C(n*r)/r||0}}({x:d,y:v}):{x:d,y:v};return d=C.x,v=C.y,u?Object.assign({},T,((k={})[w]=y?"0":"",k[b]=m?"0":"",k.transform=(_.devicePixelRatio||1)<=1?"translate("+d+"px, "+v+"px)":"translate3d("+d+"px, "+v+"px, 0)",k)):Object.assign({},T,((t={})[w]=y?v+"px":"",t[b]=m?d+"px":"",t.transform="",t))}var BC={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,o=n.adaptive,a=void 0===o||o,s=n.roundOffsets,u=void 0===s||s,c={placement:pC(t.placement),variation:LC(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,UC(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:u})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,UC(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},qC={passive:!0};var VC={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,o=void 0===i||i,a=r.resize,s=void 0===a||a,u=vC(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&c.forEach((function(e){e.addEventListener("scroll",n.update,qC)})),s&&u.addEventListener("resize",n.update,qC),function(){o&&c.forEach((function(e){e.removeEventListener("scroll",n.update,qC)})),s&&u.removeEventListener("resize",n.update,qC)}},data:{}},zC={left:"right",right:"left",bottom:"top",top:"bottom"};function WC(e){return e.replace(/left|right|bottom|top/g,(function(e){return zC[e]}))}var HC={start:"end",end:"start"};function KC(e){return e.replace(/start|end/g,(function(e){return HC[e]}))}function GC(e){var t=vC(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function YC(e){return xC(IC(e)).left+GC(e).scrollLeft}function $C(e){var t=TC(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function QC(e){return["html","body","#document"].indexOf(kC(e))>=0?e.ownerDocument.body:mC(e)&&$C(e)?e:QC(PC(e))}function XC(e,t){var n;void 0===t&&(t=[]);var r=QC(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),o=vC(r),a=i?[o].concat(o.visualViewport||[],$C(r)?r:[]):r,s=t.concat(a);return i?s:s.concat(XC(PC(a)))}function JC(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function ZC(e,t){return t===uC?JC(function(e){var t=vC(e),n=IC(e),r=t.visualViewport,i=n.clientWidth,o=n.clientHeight,a=0,s=0;return r&&(i=r.width,o=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(a=r.offsetLeft,s=r.offsetTop)),{width:i,height:o,x:a+YC(e),y:s}}(e)):gC(t)?function(e){var t=xC(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}(t):JC(function(e){var t,n=IC(e),r=GC(e),i=null==(t=e.ownerDocument)?void 0:t.body,o=bC(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=bC(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-r.scrollLeft+YC(e),u=-r.scrollTop;return"rtl"===TC(i||n).direction&&(s+=bC(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:a,x:s,y:u}}(IC(e)))}function eI(e,t,n){var r="clippingParents"===t?function(e){var t=XC(PC(e)),n=["absolute","fixed"].indexOf(TC(e).position)>=0&&mC(e)?AC(e):e;return gC(n)?t.filter((function(e){return gC(e)&&EC(e,n)&&"body"!==kC(e)})):[]}(e):[].concat(t),i=[].concat(r,[n]),o=i[0],a=i.reduce((function(t,n){var r=ZC(e,n);return t.top=bC(r.top,t.top),t.right=wC(r.right,t.right),t.bottom=wC(r.bottom,t.bottom),t.left=bC(r.left,t.left),t}),ZC(e,o));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function tI(e){var t,n=e.reference,r=e.element,i=e.placement,o=i?pC(i):null,a=i?LC(i):null,s=n.x+n.width/2-r.width/2,u=n.y+n.height/2-r.height/2;switch(o){case eC:t={x:s,y:n.y-r.height};break;case tC:t={x:s,y:n.y+n.height};break;case nC:t={x:n.x+n.width,y:u};break;case rC:t={x:n.x-r.width,y:u};break;default:t={x:n.x,y:n.y}}var c=o?DC(o):null;if(null!=c){var l="y"===c?"height":"width";switch(a){case aC:t[c]=t[c]-(n[l]/2-r[l]/2);break;case sC:t[c]=t[c]+(n[l]/2-r[l]/2)}}return t}function nI(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=void 0===r?e.placement:r,o=n.boundary,a=void 0===o?"clippingParents":o,s=n.rootBoundary,u=void 0===s?uC:s,c=n.elementContext,l=void 0===c?cC:c,f=n.altBoundary,h=void 0!==f&&f,d=n.padding,p=void 0===d?0:d,v=RC("number"!==typeof p?p:jC(p,oC)),g=l===cC?"reference":cC,m=e.rects.popper,y=e.elements[h?g:l],b=eI(gC(y)?y:y.contextElement||IC(e.elements.popper),a,u),w=xC(e.elements.reference),_=tI({reference:w,element:m,strategy:"absolute",placement:i}),x=JC(Object.assign({},m,_)),S=l===cC?x:w,E={top:b.top-S.top+v.top,bottom:S.bottom-b.bottom+v.bottom,left:b.left-S.left+v.left,right:S.right-b.right+v.right},k=e.modifiersData.offset;if(l===cC&&k){var T=k[i];Object.keys(E).forEach((function(e){var t=[nC,tC].indexOf(e)>=0?1:-1,n=[eC,tC].indexOf(e)>=0?"y":"x";E[e]+=T[n]*t}))}return E}var rI={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,o=void 0===i||i,a=n.altAxis,s=void 0===a||a,u=n.fallbackPlacements,c=n.padding,l=n.boundary,f=n.rootBoundary,h=n.altBoundary,d=n.flipVariations,p=void 0===d||d,v=n.allowedAutoPlacements,g=t.options.placement,m=pC(g),y=u||(m===g||!p?[WC(g)]:function(e){if(pC(e)===iC)return[];var t=WC(e);return[KC(e),t,KC(t)]}(g)),b=[g].concat(y).reduce((function(e,n){return e.concat(pC(n)===iC?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,o=n.rootBoundary,a=n.padding,s=n.flipVariations,u=n.allowedAutoPlacements,c=void 0===u?fC:u,l=LC(r),f=l?s?lC:lC.filter((function(e){return LC(e)===l})):oC,h=f.filter((function(e){return c.indexOf(e)>=0}));0===h.length&&(h=f);var d=h.reduce((function(t,n){return t[n]=nI(e,{placement:n,boundary:i,rootBoundary:o,padding:a})[pC(n)],t}),{});return Object.keys(d).sort((function(e,t){return d[e]-d[t]}))}(t,{placement:n,boundary:l,rootBoundary:f,padding:c,flipVariations:p,allowedAutoPlacements:v}):n)}),[]),w=t.rects.reference,_=t.rects.popper,x=new Map,S=!0,E=b[0],k=0;k<b.length;k++){var T=b[k],C=pC(T),I=LC(T)===aC,P=[eC,tC].indexOf(C)>=0,O=P?"width":"height",A=nI(t,{placement:T,boundary:l,rootBoundary:f,altBoundary:h,padding:c}),D=P?I?nC:rC:I?tC:eC;w[O]>_[O]&&(D=WC(D));var N=WC(D),R=[];if(o&&R.push(A[C]<=0),s&&R.push(A[D]<=0,A[N]<=0),R.every((function(e){return e}))){E=T,S=!1;break}x.set(T,R)}if(S)for(var j=function(e){var t=b.find((function(t){var n=x.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return E=t,"break"},M=p?3:1;M>0;M--){if("break"===j(M))break}t.placement!==E&&(t.modifiersData[r]._skip=!0,t.placement=E,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function iI(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function oI(e){return[eC,nC,tC,rC].some((function(t){return e[t]>=0}))}var aI={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.offset,o=void 0===i?[0,0]:i,a=fC.reduce((function(e,n){return e[n]=function(e,t,n){var r=pC(e),i=[rC,eC].indexOf(r)>=0?-1:1,o="function"===typeof n?n(Object.assign({},t,{placement:e})):n,a=o[0],s=o[1];return a=a||0,s=(s||0)*i,[rC,nC].indexOf(r)>=0?{x:s,y:a}:{x:a,y:s}}(n,t.rects,o),e}),{}),s=a[t.placement],u=s.x,c=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=u,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=a}};var sI={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,o=void 0===i||i,a=n.altAxis,s=void 0!==a&&a,u=n.boundary,c=n.rootBoundary,l=n.altBoundary,f=n.padding,h=n.tether,d=void 0===h||h,p=n.tetherOffset,v=void 0===p?0:p,g=nI(t,{boundary:u,rootBoundary:c,padding:f,altBoundary:l}),m=pC(t.placement),y=LC(t.placement),b=!y,w=DC(m),_="x"===w?"y":"x",x=t.modifiersData.popperOffsets,S=t.rects.reference,E=t.rects.popper,k="function"===typeof v?v(Object.assign({},t.rects,{placement:t.placement})):v,T="number"===typeof k?{mainAxis:k,altAxis:k}:Object.assign({mainAxis:0,altAxis:0},k),C=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,I={x:0,y:0};if(x){if(o){var P,O="y"===w?eC:rC,A="y"===w?tC:nC,D="y"===w?"height":"width",N=x[w],R=N+g[O],j=N-g[A],M=d?-E[D]/2:0,L=y===aC?S[D]:E[D],F=y===aC?-E[D]:-S[D],U=t.elements.arrow,B=d&&U?SC(U):{width:0,height:0},q=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},V=q[O],z=q[A],W=NC(0,S[D],B[D]),H=b?S[D]/2-M-W-V-T.mainAxis:L-W-V-T.mainAxis,K=b?-S[D]/2+M+W+z+T.mainAxis:F+W+z+T.mainAxis,G=t.elements.arrow&&AC(t.elements.arrow),Y=G?"y"===w?G.clientTop||0:G.clientLeft||0:0,$=null!=(P=null==C?void 0:C[w])?P:0,Q=N+K-$,X=NC(d?wC(R,N+H-$-Y):R,N,d?bC(j,Q):j);x[w]=X,I[w]=X-N}if(s){var J,Z="x"===w?eC:rC,ee="x"===w?tC:nC,te=x[_],ne="y"===_?"height":"width",re=te+g[Z],ie=te-g[ee],oe=-1!==[eC,rC].indexOf(m),ae=null!=(J=null==C?void 0:C[_])?J:0,se=oe?re:te-S[ne]-E[ne]-ae+T.altAxis,ue=oe?te+S[ne]+E[ne]-ae-T.altAxis:ie,ce=d&&oe?function(e,t,n){var r=NC(e,t,n);return r>n?n:r}(se,te,ue):NC(d?se:re,te,d?ue:ie);x[_]=ce,I[_]=ce-te}t.modifiersData[r]=I}},requiresIfExists:["offset"]};function uI(e,t,n){void 0===n&&(n=!1);var r=mC(t),i=mC(t)&&function(e){var t=e.getBoundingClientRect(),n=_C(t.width)/e.offsetWidth||1,r=_C(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),o=IC(t),a=xC(e,i),s={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(r||!r&&!n)&&(("body"!==kC(t)||$C(o))&&(s=function(e){return e!==vC(e)&&mC(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:GC(e);var t}(t)),mC(t)?((u=xC(t,!0)).x+=t.clientLeft,u.y+=t.clientTop):o&&(u.x=YC(o))),{x:a.left+s.scrollLeft-u.x,y:a.top+s.scrollTop-u.y,width:a.width,height:a.height}}function cI(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||i(e)})),r}function lI(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}var fI={placement:"bottom",modifiers:[],strategy:"absolute"};function hI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function dI(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,o=void 0===i?fI:i;return function(e,t,n){void 0===n&&(n=o);var i={placement:"bottom",orderedModifiers:[],options:Object.assign({},fI,o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},a=[],s=!1,u={state:i,setOptions:function(n){var s="function"===typeof n?n(i.options):n;c(),i.options=Object.assign({},o,i.options,s),i.scrollParents={reference:gC(e)?XC(e):e.contextElement?XC(e.contextElement):[],popper:XC(t)};var l=function(e){var t=cI(e);return hC.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,i.options.modifiers)));return i.orderedModifiers=l.filter((function(e){return e.enabled})),i.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,o=e.effect;if("function"===typeof o){var s=o({state:i,name:t,instance:u,options:r}),c=function(){};a.push(s||c)}})),u.update()},forceUpdate:function(){if(!s){var e=i.elements,t=e.reference,n=e.popper;if(hI(t,n)){i.rects={reference:uI(t,AC(n),"fixed"===i.options.strategy),popper:SC(n)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach((function(e){return i.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<i.orderedModifiers.length;r++)if(!0!==i.reset){var o=i.orderedModifiers[r],a=o.fn,c=o.options,l=void 0===c?{}:c,f=o.name;"function"===typeof a&&(i=a({state:i,options:l,name:f,instance:u})||i)}else i.reset=!1,r=-1}}},update:lI((function(){return new Promise((function(e){u.forceUpdate(),e(i)}))})),destroy:function(){c(),s=!0}};if(!hI(e,t))return u;function c(){a.forEach((function(e){return e()})),a=[]}return u.setOptions(n).then((function(e){!s&&n.onFirstUpdate&&n.onFirstUpdate(e)})),u}}var pI=dI({defaultModifiers:[{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,a=nI(t,{elementContext:"reference"}),s=nI(t,{altBoundary:!0}),u=iI(a,r),c=iI(s,i,o),l=oI(u),f=oI(c);t.modifiersData[n]={referenceClippingOffsets:u,popperEscapeOffsets:c,isReferenceHidden:l,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":l,"data-popper-escaped":f})}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=tI({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},BC,VC,aI,rI,sI,MC]}),vI=function(e){return{position:e,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},gI={name:"applyStyles",enabled:!1},mI={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(e){var t=e.state;return function(){var e=t.elements,n=e.reference,r=e.popper;if("removeAttribute"in n){var i=(n.getAttribute("aria-describedby")||"").split(",").filter((function(e){return e.trim()!==r.id}));i.length?n.setAttribute("aria-describedby",i.join(",")):n.removeAttribute("aria-describedby")}}},fn:function(e){var t,n=e.state.elements,r=n.popper,i=n.reference,o=null==(t=r.getAttribute("role"))?void 0:t.toLowerCase();if(r.id&&"tooltip"===o&&"setAttribute"in i){var a=i.getAttribute("aria-describedby");if(a&&-1!==a.split(",").indexOf(r.id))return;i.setAttribute("aria-describedby",a?a+","+r.id:r.id)}}},yI=[];var bI=function(t,n,r){var i=void 0===r?{}:r,o=i.enabled,a=void 0===o||o,s=i.placement,u=void 0===s?"bottom":s,c=i.strategy,h=void 0===c?"absolute":c,d=i.modifiers,p=void 0===d?yI:d,v=f(i,["enabled","placement","strategy","modifiers"]),g=(0,e.useRef)(),m=(0,e.useCallback)((function(){var e;null==(e=g.current)||e.update()}),[]),y=(0,e.useCallback)((function(){var e;null==(e=g.current)||e.forceUpdate()}),[]),b=dC((0,e.useState)({placement:u,update:m,forceUpdate:y,attributes:{},styles:{popper:vI(h),arrow:{}}})),w=b[0],_=b[1],x=(0,e.useMemo)((function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(e){var t=e.state,n={},r={};Object.keys(t.elements).forEach((function(e){n[e]=t.styles[e],r[e]=t.attributes[e]})),_({state:t,styles:n,attributes:r,update:m,forceUpdate:y,placement:t.placement})}}}),[m,y,_]);return(0,e.useEffect)((function(){g.current&&a&&g.current.setOptions({placement:u,strategy:h,modifiers:[].concat(p,[x,gI])})}),[h,u,x,a]),(0,e.useEffect)((function(){if(a&&null!=t&&null!=n)return g.current=pI(t,n,l({},v,{placement:u,strategy:h,modifiers:[].concat(p,[mI,x])})),function(){null!=g.current&&(g.current.destroy(),g.current=void 0,_((function(e){return l({},e,{attributes:{},styles:{popper:vI(h)}})})))}}),[a,t,n]),w},wI=!1,_I=!1;try{var xI={get passive(){return wI=!0},get once(){return _I=wI=!0}};kE&&(window.addEventListener("test",xI,xI),window.removeEventListener("test",xI,!0))}catch(wm){}var SI=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!_I){var i=r.once,o=r.capture,a=n;!_I&&i&&(a=n.__once||function e(r){this.removeEventListener(t,e,o),n.call(this,r)},n.__once=a),e.addEventListener(t,a,wI?r:o)}e.addEventListener(t,n,r)};var EI=function(e,t,n,r){var i=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)};var kI=function(e,t,n,r){return SI(e,t,n,r),function(){EI(e,t,n,r)}};var TI=function(t){var n=(0,e.useRef)(t);return(0,e.useEffect)((function(){n.current=t}),[t]),n};function CI(t){var n=TI(t);return(0,e.useCallback)((function(){return n.current&&n.current.apply(n,arguments)}),[n])}var II=n(2391),PI=n.n(II);var OI=function(e){return lE(function(e){return e&&"setState"in e?t.findDOMNode(e):null!=e?e:null}(e))},AI=function(){};var DI=function(e){return e&&("current"in e?e.current:e)};var NI=function(t,n,r){var i=void 0===r?{}:r,o=i.disabled,a=i.clickTrigger,s=void 0===a?"click":a,u=(0,e.useRef)(!1),c=n||AI,l=(0,e.useCallback)((function(e){var n,r=DI(t);PI()(!!r,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),u.current=!r||!!((n=e).metaKey||n.altKey||n.ctrlKey||n.shiftKey)||!function(e){return 0===e.button}(e)||!!mE(r,e.target)}),[t]),f=CI((function(e){u.current||c(e)})),h=CI((function(e){27===e.keyCode&&c(e)}));(0,e.useEffect)((function(){if(!o&&null!=t){var e=window.event,n=OI(DI(t)),r=kI(n,s,l,!0),i=kI(n,s,(function(t){t!==e?f(t):e=void 0})),a=kI(n,"keyup",(function(t){t!==e?h(t):e=void 0})),u=[];return"ontouchstart"in n.documentElement&&(u=[].slice.call(n.body.children).map((function(e){return kI(e,"mousemove",AI)}))),function(){r(),i(),a(),u.forEach((function(e){return e()}))}}}),[t,o,s,l,f,h])},RI=function(e){var t;return"undefined"===typeof document?null:null==e?lE().body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),(null==(t=e)?void 0:t.nodeType)&&e||null)};function jI(t,n){var r=(0,e.useState)((function(){return RI(t)})),i=r[0],o=r[1];if(!i){var a=RI(t);a&&o(a)}return(0,e.useEffect)((function(){n&&i&&n(i)}),[n,i]),(0,e.useEffect)((function(){var e=RI(t);e!==i&&o(e)}),[t,i]),i}function MI(e){var t,n,r,i,o,a=e.enabled,s=e.enableEvents,u=e.placement,c=e.flip,f=e.offset,h=e.containerPadding,d=e.arrowElement,p=e.popperConfig,v=void 0===p?{}:p,g=function(e){var t={};return Array.isArray(e)?(null==e||e.forEach((function(e){t[e.name]=e})),t):e||t}(v.modifiers);return l({},v,{placement:u,enabled:a,modifiers:(o=l({},g,{eventListeners:{enabled:s},preventOverflow:l({},g.preventOverflow,{options:h?l({padding:h},null==(t=g.preventOverflow)?void 0:t.options):null==(n=g.preventOverflow)?void 0:n.options}),offset:{options:l({offset:f},null==(r=g.offset)?void 0:r.options)},arrow:l({},g.arrow,{enabled:!!d,options:l({},null==(i=g.arrow)?void 0:i.options,{element:d})}),flip:l({enabled:!!c},g.flip)}),void 0===o&&(o={}),Array.isArray(o)?o:Object.keys(o).map((function(e){return o[e].name=e,o[e]})))})}var LI=e.forwardRef((function(n,r){var i=n.flip,o=n.offset,a=n.placement,s=n.containerPadding,u=void 0===s?5:s,c=n.popperConfig,h=void 0===c?{}:c,d=n.transition,p=XT(),v=p[0],g=p[1],m=XT(),y=m[0],b=m[1],w=ZT(g,r),_=jI(n.container),x=jI(n.target),S=(0,e.useState)(!n.show),E=S[0],k=S[1],T=bI(x,v,MI({placement:a,enableEvents:!!n.show,containerPadding:u||5,flip:i,offset:o,arrowElement:y,popperConfig:h})),C=T.styles,I=T.attributes,P=f(T,["styles","attributes"]);n.show?E&&k(!1):n.transition||E||k(!0);var O=n.show||d&&!E;if(NI(v,n.onHide,{disabled:!n.rootClose||n.rootCloseDisabled,clickTrigger:n.rootCloseEvent}),!O)return null;var A=n.children(l({},P,{show:!!n.show,props:l({},I.popper,{style:C.popper,ref:w}),arrowProps:l({},I.arrow,{style:C.arrow,ref:b})}));if(d){var D=n.onExit,N=n.onExiting,R=n.onEnter,j=n.onEntering,M=n.onEntered;A=e.createElement(d,{in:n.show,appear:!0,onExit:D,onExiting:N,onExited:function(){k(!0),n.onExited&&n.onExited.apply(n,arguments)},onEnter:R,onEntering:j,onEntered:M},A)}return _?t.createPortal(A,_):null}));LI.displayName="Overlay",LI.propTypes={show:me().bool,placement:me().oneOf(fC),target:me().any,container:me().any,flip:me().bool,children:me().func.isRequired,containerPadding:me().number,popperConfig:me().object,rootClose:me().bool,rootCloseEvent:me().oneOf(["click","mousedown"]),rootCloseDisabled:me().bool,onHide:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i;return e.rootClose?(i=me().func).isRequired.apply(i,[e].concat(n)):me().func.apply(me(),[e].concat(n))},transition:me().elementType,onEnter:me().func,onEntering:me().func,onEntered:me().func,onExit:me().func,onExiting:me().func,onExited:me().func};var FI=LI;function UI(e,t){var n=yE(e);return n?n.innerHeight:t?e.clientHeight:xE(e).height}var BI,qI=Function.prototype.bind.call(Function.prototype.call,[].slice);function VI(e,t){return qI(e.querySelectorAll(t))}function zI(e,t){if(!BI){var n=document.body,r=n.matches||n.matchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector;BI=function(e,t){return r.call(e,t)}}return BI(e,t)}var WI=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1};var HI=function(e,t,n,r){var i=n.length,o=i,a=!r;if(null==e)return!o;for(e=Object(e);i--;){var s=n[i];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){var u=(s=n[i])[0],c=e[u],l=s[1];if(a&&s[2]){if(void 0===c&&!(u in e))return!1}else{var f=new Ck;if(r)var h=r(c,l,u,e,t,f);if(!(void 0===h?$T(l,c,3,r,f):h))return!1}}return!0};var KI=function(e){return e===e&&!BS(e)};var GI=function(e){for(var t=ET(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,KI(i)]}return t};var YI=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}};var $I=function(e){var t=GI(e);return 1==t.length&&t[0][2]?YI(t[0][0],t[0][1]):function(n){return n===e||HI(n,e,t)}},QI=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,XI=/^\w*$/;var JI=function(e,t){if(Vk(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!JS(e))||(XI.test(e)||!QI.test(e)||null!=t&&e in Object(t))};function ZI(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(ZI.Cache||Ek),n}ZI.Cache=Ek;var eP=ZI;var tP=function(e){var t=eP(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t},nP=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,rP=/\\(\\)?/g,iP=tP((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(nP,(function(e,n,r,i){t.push(r?i.replace(rP,"$1"):n||e)})),t})),oP=iP;var aP=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i},sP=OS?OS.prototype:void 0,uP=sP?sP.toString:void 0;var cP=function e(t){if("string"==typeof t)return t;if(Vk(t))return aP(t,e)+"";if(JS(t))return uP?uP.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n};var lP=function(e){return null==e?"":cP(e)};var fP=function(e,t){return Vk(e)?e:JI(e,t)?[e]:oP(lP(e))};var hP=function(e){if("string"==typeof e||JS(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t};var dP=function(e,t){for(var n=0,r=(t=fP(t,e)).length;null!=e&&n<r;)e=e[hP(t[n++])];return n&&n==r?e:void 0};var pP=function(e,t,n){var r=null==e?void 0:dP(e,t);return void 0===r?n:r};var vP=function(e,t){return null!=e&&t in Object(e)};var gP=function(e,t,n){for(var r=-1,i=(t=fP(t,e)).length,o=!1;++r<i;){var a=hP(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&VS(i)&&HS(a,i)&&(Vk(e)||tT(e))};var mP=function(e,t){return null!=e&&gP(e,t,vP)};var yP=function(e,t){return JI(e)&&KI(t)?YI(hP(e),t):function(n){var r=pP(n,e);return void 0===r&&r===t?mP(n,e):$T(t,r,3)}};var bP=function(e){return e};var wP=function(e){return function(t){return null==t?void 0:t[e]}};var _P=function(e){return function(t){return dP(t,e)}};var xP=function(e){return JI(e)?wP(hP(e)):_P(e)};var SP=function(e){return"function"==typeof e?e:null==e?bP:"object"==typeof e?Vk(e)?yP(e[0],e[1]):$I(e):xP(e)},EP=Math.max;var kP=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:aE(n);return i<0&&(i=EP(r+i,0)),WI(e,SP(t,3),i)},TP=Math.ceil,CP=Math.max;var IP=function(e,t,n,r){for(var i=-1,o=CP(TP((t-e)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=e,e+=n;return a};var PP=function(e){return function(t,n,r){return r&&"number"!=typeof r&&KS(t,n,r)&&(n=r=void 0),t=oE(t),void 0===n?(n=t,t=0):n=oE(n),r=void 0===r?t<n?1:-1:oE(r),IP(t,n,r,e)}},OP=PP(),AP=Number.isNaN||function(e){return"number"===typeof e&&e!==e};function DP(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(r=e[n],i=t[n],!(r===i||AP(r)&&AP(i)))return!1;var r,i;return!0}function NP(e,t){void 0===t&&(t=DP);var n=null;function r(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(n&&n.lastThis===this&&t(r,n.lastArgs))return n.lastResult;var o=e.apply(this,r);return n={lastResult:o,lastArgs:r,lastThis:this},o}return r.clear=function(){n=null},r}var RP=OS?OS.isConcatSpreadable:void 0;var jP=function(e){return Vk(e)||tT(e)||!!(RP&&e&&e[RP])};var MP=function e(t,n,r,i,o){var a=-1,s=t.length;for(r||(r=jP),o||(o=[]);++a<s;){var u=t[a];n>0&&r(u)?n>1?e(u,n-1,r,i,o):qk(o,u):i||(o[o.length]=u)}return o};var LP=function(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var u=a[e?s:++i];if(!1===n(o[u],u,o))break}return t}},FP=LP();var UP=function(e,t){return e&&FP(e,t,ET)};var BP=function(e,t){return function(n,r){if(null==n)return n;if(!zS(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=Object(n);(t?o--:++o<i)&&!1!==r(a[o],o,a););return n}},qP=BP(UP);var VP=function(e,t){var n=-1,r=zS(e)?Array(e.length):[];return qP(e,(function(e,i,o){r[++n]=t(e,i,o)})),r};var zP=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e};var WP=function(e,t){if(e!==t){var n=void 0!==e,r=null===e,i=e===e,o=JS(e),a=void 0!==t,s=null===t,u=t===t,c=JS(t);if(!s&&!c&&!o&&e>t||o&&a&&u&&!s&&!c||r&&a&&u||!n&&u||!i)return 1;if(!r&&!o&&!c&&e<t||c&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!u)return-1}return 0};var HP=function(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,a=i.length,s=n.length;++r<a;){var u=WP(i[r],o[r]);if(u)return r>=s?u:u*("desc"==n[r]?-1:1)}return e.index-t.index};var KP=function(e,t,n){t=t.length?aP(t,(function(e){return Vk(e)?function(t){return dP(t,1===e.length?e[0]:e)}:e})):[bP];var r=-1;t=aP(t,cT(SP));var i=VP(e,(function(e,n,i){return{criteria:aP(t,(function(t){return t(e)})),index:++r,value:e}}));return zP(i,(function(e,t){return HP(e,t,n)}))};var GP=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},YP=Math.max;var $P=function(e,t,n){return t=YP(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=YP(r.length-t,0),a=Array(o);++i<o;)a[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=n(a),GP(e,this,s)}};var QP=function(e){return function(){return e}},XP=function(){try{var e=ik(Object,"defineProperty");return e({},"",{}),e}catch(wm){}}(),JP=XP?function(e,t){return XP(e,"toString",{configurable:!0,enumerable:!1,value:QP(t),writable:!0})}:bP,ZP=Date.now;var eO=function(e){var t=0,n=0;return function(){var r=ZP(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}},tO=eO(JP);var nO,rO=function(e,t){return tO($P(e,t,bP),e+"")},iO=rO((function(e,t){if(null==e)return[];var n=t.length;return n>1&&KS(e,t[0],t[1])?t=[]:n>2&&KS(t[0],t[1],t[2])&&(t=[t[0]]),KP(e,MP(t,1),[])}));function oO(e,t){var n=yE(e);return n?n.innerWidth:t?e.clientWidth:xE(e).width}function aO(e){if((!nO&&0!==nO||e)&&kE){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),nO=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return nO}function sO(e){return An(e)||SS(e)||Nn(e)||Rn()}function uO(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var cO=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e};var lO=function(e,t,n){"__proto__"==t&&XP?XP(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},fO=Object.prototype.hasOwnProperty;var hO=function(e,t,n){var r=e[t];fO.call(e,t)&&TS(r,n)&&(void 0!==n||t in e)||lO(e,t,n)};var dO=function(e,t,n,r){var i=!n;n||(n={});for(var o=-1,a=t.length;++o<a;){var s=t[o],u=r?r(n[s],e[s],s,n,e):void 0;void 0===u&&(u=e[s]),i?lO(n,s,u):hO(n,s,u)}return n};var pO=function(e,t){return e&&dO(t,ET(t),e)};var vO=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t},gO=Object.prototype.hasOwnProperty;var mO=function(e){if(!BS(e))return vO(e);var t=bT(e),n=[];for(var r in e)("constructor"!=r||!t&&gO.call(e,r))&&n.push(r);return n};var yO=function(e){return zS(e)?mT(e,!0):mO(e)};var bO=function(e,t){return e&&dO(t,yO(t),e)},wO="object"==typeof exports&&exports&&!exports.nodeType&&exports,_O=wO&&"object"==typeof module&&module&&!module.nodeType&&module,xO=_O&&_O.exports===wO?PS.Buffer:void 0,SO=xO?xO.allocUnsafe:void 0;var EO=function(e,t){if(t)return e.slice();var n=e.length,r=SO?SO(n):new e.constructor(n);return e.copy(r),r};var kO=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t};var TO=function(e,t){return dO(e,Yk(e),t)},CO=wT(Object.getPrototypeOf,Object),IO=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)qk(t,Yk(e)),e=CO(e);return t}:Hk;var PO=function(e,t){return dO(e,IO(e),t)};var OO=function(e){return zk(e,yO,IO)},AO=Object.prototype.hasOwnProperty;var DO=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&AO.call(e,"index")&&(n.index=e.index,n.input=e.input),n};var NO=function(e){var t=new e.constructor(e.byteLength);return new jk(t).set(new jk(e)),t};var RO=function(e,t){var n=t?NO(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)},jO=/\w*$/;var MO=function(e){var t=new e.constructor(e.source,jO.exec(e));return t.lastIndex=e.lastIndex,t},LO=OS?OS.prototype:void 0,FO=LO?LO.valueOf:void 0;var UO=function(e){return FO?Object(FO.call(e)):{}};var BO=function(e,t){var n=t?NO(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)};var qO=function(e,t,n){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return NO(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object DataView]":return RO(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return BO(e,n);case"[object Map]":case"[object Set]":return new r;case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":return MO(e);case"[object Symbol]":return UO(e)}},VO=Object.create,zO=function(){function e(){}return function(t){if(!BS(t))return{};if(VO)return VO(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();var WO=function(e){return"function"!=typeof e.constructor||bT(e)?{}:zO(CO(e))};var HO=function(e){return XS(e)&&"[object Map]"==zT(e)},KO=dT&&dT.isMap,GO=KO?cT(KO):HO;var YO=function(e){return XS(e)&&"[object Set]"==zT(e)},$O=dT&&dT.isSet,QO=$O?cT($O):YO,XO="[object Arguments]",JO="[object Function]",ZO="[object Object]",eA={};eA[XO]=eA["[object Array]"]=eA["[object ArrayBuffer]"]=eA["[object DataView]"]=eA["[object Boolean]"]=eA["[object Date]"]=eA["[object Float32Array]"]=eA["[object Float64Array]"]=eA["[object Int8Array]"]=eA["[object Int16Array]"]=eA["[object Int32Array]"]=eA["[object Map]"]=eA["[object Number]"]=eA["[object Object]"]=eA["[object RegExp]"]=eA["[object Set]"]=eA["[object String]"]=eA["[object Symbol]"]=eA["[object Uint8Array]"]=eA["[object Uint8ClampedArray]"]=eA["[object Uint16Array]"]=eA["[object Uint32Array]"]=!0,eA["[object Error]"]=eA[JO]=eA["[object WeakMap]"]=!1;var tA=function e(t,n,r,i,o,a){var s,u=1&n,c=2&n,l=4&n;if(r&&(s=o?r(t,i,o,a):r(t)),void 0!==s)return s;if(!BS(t))return t;var f=Vk(t);if(f){if(s=DO(t),!u)return kO(t,s)}else{var h=zT(t),d=h==JO||"[object GeneratorFunction]"==h;if(aT(t))return EO(t,u);if(h==ZO||h==XO||d&&!o){if(s=c||d?{}:WO(t),!u)return c?PO(t,bO(s,t)):TO(t,pO(s,t))}else{if(!eA[h])return o?t:{};s=qO(t,h,u)}}a||(a=new Ck);var p=a.get(t);if(p)return p;a.set(t,s),QO(t)?t.forEach((function(i){s.add(e(i,n,r,i,t,a))})):GO(t)&&t.forEach((function(i,o){s.set(o,e(i,n,r,o,t,a))}));var v=f?void 0:(l?c?OO:kT:c?yO:ET)(t);return cO(v||t,(function(i,o){v&&(i=t[o=i]),hO(s,o,e(i,n,r,o,t,a))})),s};var nA=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0};var rA=function(e,t){return t.length<2?e:dP(e,kS(t,0,-1))};var iA=function(e,t){return t=fP(t,e),null==(e=rA(e,t))||delete e[hP(nA(t))]},oA=Function.prototype,aA=Object.prototype,sA=oA.toString,uA=aA.hasOwnProperty,cA=sA.call(Object);var lA=function(e){if(!XS(e)||"[object Object]"!=US(e))return!1;var t=CO(e);if(null===t)return!0;var n=uA.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&sA.call(n)==cA};var fA=function(e){return lA(e)?void 0:e};var hA=function(e){return(null==e?0:e.length)?MP(e,1):[]};var dA=function(e){return tO($P(e,void 0,hA),e+"")}((function(e,t){var n={};if(null==e)return n;var r=!1;t=aP(t,(function(t){return t=fP(t,e),r||(r=t.length>1),t})),dO(e,OO(e),n),r&&(n=tA(n,7,fA));for(var i=t.length;i--;)iA(n,t[i]);return n})),pA=Object.prototype,vA=pA.hasOwnProperty,gA=rO((function(e,t){e=Object(e);var n=-1,r=t.length,i=r>2?t[2]:void 0;for(i&&KS(t[0],t[1],i)&&(r=1);++n<r;)for(var o=t[n],a=yO(o),s=-1,u=a.length;++s<u;){var c=a[s],l=e[c];(void 0===l||TS(l,pA[c])&&!vA.call(e,c))&&(e[c]=o[c])}return e})),mA=gA;var yA=function(e,t,n){var r=Vk(e),i=r||aT(e)||vT(e);if(t=SP(t,4),null==n){var o=e&&e.constructor;n=i?r?new o:[]:BS(e)&&qS(o)?zO(CO(e)):{}}return(i?cO:UP)(e,(function(e,r,i){return t(n,e,r,i)})),n};var bA=function(e,t){var n={};return t=SP(t,3),UP(e,(function(e,r,i){lO(n,r,t(e,r,i))})),n};function wA(e){return e.children}var _A="PREV",xA="NEXT",SA="TODAY",EA="DATE",kA={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"},TA=Object.keys(kA).map((function(e){return kA[e]}));function CA(e,t){e&&e.apply(null,[].concat(t))}me().oneOfType([me().string,me().func]),me().any,me().func,me().oneOfType([me().arrayOf(me().oneOf(TA)),me().objectOf((function(e,t){var n=-1!==TA.indexOf(t)&&"boolean"===typeof e[t];if(n)return null;for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];return me().elementType.apply(me(),[e,t].concat(i))}))]),me().oneOfType([me().oneOf(["overlap","no-overlap"]),me().func]);var IA={seconds:1e3,minutes:6e4,hours:36e5,day:864e5};function PA(e,t){var n=nS(e,"month");return nS(n,"week",t.startOfWeek())}function OA(e,t){var n=rS(e,"month");return rS(n,"week",t.startOfWeek())}function AA(e,t){for(var n=PA(e,t),r=OA(e,t),i=[];cS(n,r,"day");)i.push(n),n=eS(n,1,"day");return i}function DA(e,t){var n=nS(e,t);return iS(n,e)?n:eS(n,1,t)}function NA(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"day",r=e,i=[];cS(r,t,n);)i.push(r),r=eS(r,1,n);return i}function RA(e,t){return null==t&&null==e?null:(null==t&&(t=new Date),null==e&&(e=new Date),e=nS(e,"day"),e=gS(e,gS(t)),e=vS(e,vS(t)),e=pS(e,pS(t)),dS(e,dS(t)))}function jA(e){return 0===gS(e)&&0===vS(e)&&0===pS(e)&&0===dS(e)}function MA(e,t,n){return n&&"milliseconds"!==n?Math.round(Math.abs(+nS(e,n)/IA[n]-+nS(t,n)/IA[n])):Math.abs(+e-+t)}var LA=me().oneOfType([me().string,me().func]);function FA(e,t,n,r,i){var o="function"===typeof r?r(n,i,e):t.call(e,n,r,i);return Dx()(null==o||"string"===typeof o,"`localizer format(..)` must return a string, null, or undefined"),o}function UA(e,t,n){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,t+n,0,0)}function BA(e,t){return e.getTimezoneOffset()-t.getTimezoneOffset()}function qA(e,t){return MA(e,t,"minutes")+BA(e,t)}function VA(e){var t=nS(e,"day");return MA(t,e,"minutes")+BA(t,e)}function zA(e,t){return uS(e,t,"day")}function WA(e,t,n){return iS(e,t,"minutes")?sS(t,n,"minutes"):aS(t,n,"minutes")}function HA(e){var t=e.evtA,n=t.start,r=t.end,i=t.allDay,o=e.evtB,a=o.start,s=o.end,u=o.allDay,c=+nS(n,"day")-+nS(a,"day"),l=MA(n,DA(r,"day"),"day"),f=MA(a,DA(s,"day"),"day");return c||Math.max(f,1)-Math.max(l,1)||!!u-!!i||+n-+a||+r-+s}function KA(e){var t=e.event,n=t.start,r=t.end,i=e.range,o=i.start,a=i.end,s=nS(n,"day"),u=cS(s,a,"day"),c=oS(s,r,"minutes")?aS(r,o,"minutes"):sS(r,o,"minutes");return u&&c}function GA(e,t){return iS(e,t,"day")}function YA(e,t){return jA(e)&&jA(t)}var $A=kx((function e(t){var n=this;Sx(this,e),Dx()("function"===typeof t.format,"date localizer `format(..)` must be a function"),Dx()("function"===typeof t.firstOfWeek,"date localizer `firstOfWeek(..)` must be a function"),this.propType=t.propType||LA,this.formats=t.formats,this.format=function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return FA.apply(void 0,[n,t.format].concat(r))},this.startOfWeek=t.firstOfWeek,this.merge=t.merge||RA,this.inRange=t.inRange||hS,this.lt=t.lt||uS,this.lte=t.lte||cS,this.gt=t.gt||aS,this.gte=t.gte||sS,this.eq=t.eq||iS,this.neq=t.neq||oS,this.startOf=t.startOf||nS,this.endOf=t.endOf||rS,this.add=t.add||eS,this.range=t.range||NA,this.diff=t.diff||MA,this.ceil=t.ceil||DA,this.min=t.min||lS,this.max=t.max||fS,this.minutes=t.minutes||vS,this.firstVisibleDay=t.firstVisibleDay||PA,this.lastVisibleDay=t.lastVisibleDay||OA,this.visibleDays=t.visibleDays||AA,this.getSlotDate=t.getSlotDate||UA,this.getTimezoneOffset=t.getTimezoneOffset||function(e){return e.getTimezoneOffset()},this.getDstOffset=t.getDstOffset||BA,this.getTotalMin=t.getTotalMin||qA,this.getMinutesFromMidnight=t.getMinutesFromMidnight||VA,this.continuesPrior=t.continuesPrior||zA,this.continuesAfter=t.continuesAfter||WA,this.sortEvents=t.sortEvents||HA,this.inEventRange=t.inEventRange||KA,this.isSameDate=t.isSameDate||GA,this.startAndEndAreDateOnly=t.startAndEndAreDateOnly||YA,this.segmentOffset=t.browserTZOffset?t.browserTZOffset():0}));function QA(e,t,n,r){var i=wx(wx({},e.formats),n);return wx(wx({},e),{},{messages:r,startOfWeek:function(){return e.startOfWeek(t)},format:function(n,r){return e.format(n,i[r]||r,t)}})}var XA={date:"Date",time:"Time",event:"Event",allDay:"All Day",week:"Week",work_week:"Work Week",day:"Day",month:"Month",previous:"Back",next:"Next",yesterday:"Yesterday",tomorrow:"Tomorrow",today:"Today",agenda:"Agenda",noEventsInRange:"There are no events in this range.",showMore:function(e){return"+".concat(e," more")}};var JA=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],ZA=function(t){Tx(r,t);var n=Ox(r);function r(){return Sx(this,r),n.apply(this,arguments)}return kx(r,[{key:"render",value:function(){var t=this.props,n=t.style,r=t.className,i=t.event,o=t.selected,a=t.isAllDay,s=t.onSelect,u=t.onDoubleClick,c=t.onKeyPress,l=t.localizer,f=t.continuesPrior,h=t.continuesAfter,d=t.accessors,p=t.getters,v=t.children,g=t.components,m=g.event,y=g.eventWrapper,b=t.slotStart,w=t.slotEnd,_=_x(t,JA);delete _.resizable;var x=d.title(i),S=d.tooltip(i),E=d.end(i),k=d.start(i),T=d.allDay(i),C=a||T||l.diff(k,l.ceil(E,"day"),"day")>1,I=p.eventProp(i,k,E,o),P=e.createElement("div",{className:"rbc-event-content",title:S||void 0},m?e.createElement(m,{event:i,continuesPrior:f,continuesAfter:h,title:x,isAllDay:T,localizer:l,slotStart:b,slotEnd:w}):x);return e.createElement(y,Object.assign({},this.props,{type:"date"}),e.createElement("div",Object.assign({},_,{tabIndex:0,style:wx(wx({},I.style),n),className:Bx("rbc-event",r,I.className,{"rbc-selected":o,"rbc-event-allday":C,"rbc-event-continues-prior":f,"rbc-event-continues-after":h}),onClick:function(e){return s&&s(i,e)},onDoubleClick:function(e){return u&&u(i,e)},onKeyPress:function(e){return c&&c(i,e)}}),"function"===typeof v?v(P):P))}}]),r}(e.Component);function eD(e,t){return!(!e||null==t)&&QT(e,t)}function tD(e,t){return(e.right-e.left)/t}function nD(e,t,n,r){var i=tD(e,r);return n?r-1-Math.floor((t-e.left)/i):Math.floor((t-e.left)/i)}var rD=function(t){Tx(r,t);var n=Ox(r);function r(){return Sx(this,r),n.apply(this,arguments)}return kx(r,[{key:"componentDidMount",value:function(){var e,t,n=this.props,r=n.popupOffset,i=void 0===r?5:r,o=xE(n.popperRef.current),a=o.top,s=o.left,u=o.width,c=o.height,l=window.innerHeight+_E(window),f=window.innerWidth+wE(window),h=a+c,d=s+u;(h>l||d>f)&&(h>l&&(e=h-l+(i.y||+i||0)),d>f&&(t=d-f+(i.x||+i||0)),this.setState({topOffset:e,leftOffset:t}))}},{key:"render",value:function(){var t=this,n=this.props,r=n.events,i=n.selected,o=n.getters,a=n.accessors,s=n.components,u=n.onSelect,c=n.onDoubleClick,l=n.onKeyPress,f=n.slotStart,h=n.slotEnd,d=n.localizer,p=n.popperRef,v=this.props.position.width,g={top:-((this.state||{}).topOffset||0),left:-((this.state||{}).leftOffset||0),minWidth:v+v/2};return e.createElement("div",{style:wx(wx({},this.props.style),g),className:"rbc-overlay",ref:p},e.createElement("div",{className:"rbc-overlay-header"},d.format(f,"dayHeaderFormat")),r.map((function(n,r){return e.createElement(ZA,{key:r,type:"popup",localizer:d,event:n,getters:o,onSelect:u,accessors:a,components:s,onDoubleClick:c,onKeyPress:l,continuesPrior:d.lt(a.end(n),f,"day"),continuesAfter:d.gte(a.start(n),h,"day"),slotStart:f,slotEnd:h,selected:eD(n,i),draggable:!0,onDragStart:function(){return t.props.handleDragStart(n)},onDragEnd:function(){return t.props.show()}})})))}}]),r}(e.Component),iD=e.forwardRef((function(t,n){return e.createElement(rD,Object.assign({popperRef:n},t))}));function oD(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document;return kI(n,e,t,{passive:!1})}function aD(e,t){var n=t.clientX,r=t.clientY;return function(e,t,n){e.closest&&!n&&e.closest(t);var r=e;do{if(zI(r,t))return r;r=r.parentElement}while(r&&r!==n&&r.nodeType===document.ELEMENT_NODE);return null}(document.elementFromPoint(n,r),".rbc-event",e)}function sD(e,t){return!!aD(e,t)}function uD(e){var t=e;return e.touches&&e.touches.length&&(t=e.touches[0]),{clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY}}var cD=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.global,i=void 0!==r&&r,o=n.longPressThreshold,a=void 0===o?250:o,s=n.validContainers,u=void 0===s?[]:s;Sx(this,e),this.isDetached=!1,this.container=t,this.globalMouse=!t||i,this.longPressThreshold=a,this.validContainers=u,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=oD("touchmove",(function(){}),window),this._removeKeyDownListener=oD("keydown",this._keyListener),this._removeKeyUpListener=oD("keyup",this._keyListener),this._removeDropFromOutsideListener=oD("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=oD("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}return kx(e,[{key:"on",value:function(e,t){var n=this._listeners[e]||(this._listeners[e]=[]);return n.push(t),{remove:function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}}}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,o=this._listeners[e]||[];return o.forEach((function(e){void 0===i&&(i=e.apply(void 0,n))})),i}},{key:"teardown",value:function(){this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(e){var t=this._selectRect;return!(!t||!this.selecting)&&lD(t,fD(e))}},{key:"filter",value:function(e){return this._selectRect&&this.selecting?e.filter(this.isSelected,this):[]}},{key:"_addLongPressListener",value:function(e,t){var n=this,r=null,i=null,o=null,a=function(t){r=setTimeout((function(){u(),e(t)}),n.longPressThreshold),i=oD("touchmove",(function(){return u()})),o=oD("touchend",(function(){return u()}))},s=oD("touchstart",a),u=function(){r&&clearTimeout(r),i&&i(),o&&o(),r=null,i=null,o=null};return t&&a(t),function(){u(),s()}}},{key:"_addInitialEventListener",value:function(){var e=this,t=oD("mousedown",(function(t){e._removeInitialEventListener(),e._handleInitialEvent(t),e._removeInitialEventListener=oD("mousedown",e._handleInitialEvent)})),n=oD("touchstart",(function(t){e._removeInitialEventListener(),e._removeInitialEventListener=e._addLongPressListener(e._handleInitialEvent,t)}));this._removeInitialEventListener=function(){t(),n()}}},{key:"_dropFromOutsideListener",value:function(e){var t=uD(e),n=t.pageX,r=t.pageY,i=t.clientX,o=t.clientY;this.emit("dropFromOutside",{x:n,y:r,clientX:i,clientY:o}),e.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(e){var t=uD(e),n=t.pageX,r=t.pageY,i=t.clientX,o=t.clientY;this.emit("dragOverFromOutside",{x:n,y:r,clientX:i,clientY:o}),e.preventDefault()}},{key:"_handleInitialEvent",value:function(e){if(!this.isDetached){var t,n=uD(e),r=n.clientX,i=n.clientY,o=n.pageX,a=n.pageY,s=this.container();if(3!==e.which&&2!==e.button&&function(e,t,n){return!e||mE(e,document.elementFromPoint(t,n))}(s,r,i)){if(!this.globalMouse&&s&&!mE(s,e.target)){var u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;"object"!==xx(e)&&(e={top:e,left:e,right:e,bottom:e});return e}(0),c=u.top,l=u.left,f=u.bottom,h=u.right;if(!lD({top:(t=fD(s)).top-c,left:t.left-l,bottom:t.bottom+f,right:t.right+h},{top:a,left:o}))return}if(!1!==this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(e.type),x:o,y:a,clientX:r,clientY:i}))switch(e.type){case"mousedown":this._removeEndListener=oD("mouseup",this._handleTerminatingEvent),this._onEscListener=oD("keydown",this._handleTerminatingEvent),this._removeMoveListener=oD("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(e),this._removeEndListener=oD("touchend",this._handleTerminatingEvent),this._removeMoveListener=oD("touchmove",this._handleMoveEvent)}}}}},{key:"_isWithinValidContainer",value:function(e){var t=e.target,n=this.validContainers;return!(n&&n.length&&t)||n.some((function(e){return!!t.closest(e)}))}},{key:"_handleTerminatingEvent",value:function(e){var t=uD(e),n=t.pageX,r=t.pageY;if(this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),this._initialEventData){var i=!this.container||mE(this.container(),e.target),o=this._isWithinValidContainer(e),a=this._selectRect,s=this.isClick(n,r);return this._initialEventData=null,"Escape"!==e.key&&o?s&&i?this._handleClickEvent(e):s?this.emit("reset"):this.emit("select",a):this.emit("reset")}}},{key:"_handleClickEvent",value:function(e){var t=uD(e),n=t.pageX,r=t.pageY,i=t.clientX,o=t.clientY,a=(new Date).getTime();return this._lastClickData&&a-this._lastClickData.timestamp<250?(this._lastClickData=null,this.emit("doubleClick",{x:n,y:r,clientX:i,clientY:o})):(this._lastClickData={timestamp:a},this.emit("click",{x:n,y:r,clientX:i,clientY:o}))}},{key:"_handleMoveEvent",value:function(e){if(null!==this._initialEventData&&!this.isDetached){var t=this._initialEventData,n=t.x,r=t.y,i=uD(e),o=i.pageX,a=i.pageY,s=Math.abs(n-o),u=Math.abs(r-a),c=Math.min(o,n),l=Math.min(a,r),f=this.selecting;(!this.isClick(o,a)||f||s||u)&&(this.selecting=!0,this._selectRect={top:l,left:c,x:o,y:a,right:c+s,bottom:l+u},f||this.emit("selectStart",this._initialEventData),this.isClick(o,a)||this.emit("selecting",this._selectRect),e.preventDefault())}}},{key:"_keyListener",value:function(e){this.ctrl=e.metaKey||e.ctrlKey}},{key:"isClick",value:function(e,t){var n=this._initialEventData,r=n.x,i=n.y;return!n.isTouch&&Math.abs(e-r)<=5&&Math.abs(t-i)<=5}}]),e}();function lD(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=fD(e),i=r.top,o=r.left,a=r.right,s=void 0===a?o:a,u=r.bottom,c=void 0===u?i:u,l=fD(t),f=l.top,h=l.left,d=l.right,p=void 0===d?h:d,v=l.bottom,g=void 0===v?f:v;return!(c-n<f||i+n>g||s-n<h||o+n>p)}function fD(e){if(!e.getBoundingClientRect)return e;var t=e.getBoundingClientRect(),n=t.left+hD("left"),r=t.top+hD("top");return{top:r,left:n,right:(e.offsetWidth||0)+n,bottom:(e.offsetHeight||0)+r}}function hD(e){return"left"===e?window.pageXOffset||document.body.scrollLeft||0:"top"===e?window.pageYOffset||document.body.scrollTop||0:void 0}var dD=function(t){Tx(r,t);var n=Ox(r);function r(t,i){var o;return Sx(this,r),(o=n.call(this,t,i)).state={selecting:!1},o.containerRef=(0,e.createRef)(),o}return kx(r,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.selectable&&!this.props.selectable&&this._selectable(),!e.selectable&&this.props.selectable&&this._teardownSelectable()}},{key:"render",value:function(){var t=this.props,n=t.range,r=t.getNow,i=t.getters,o=t.date,a=t.components.dateCellWrapper,s=t.localizer,u=this.state,c=u.selecting,l=u.startIdx,f=u.endIdx,h=r();return e.createElement("div",{className:"rbc-row-bg",ref:this.containerRef},n.map((function(t,r){var u=c&&r>=l&&r<=f,d=i.dayProp(t),p=d.className,v=d.style;return e.createElement(a,{key:r,value:t,range:n},e.createElement("div",{style:v,className:Bx("rbc-day-bg",p,u&&"rbc-selected-cell",s.isSameDate(t,h)&&"rbc-today",o&&s.neq(o,t,"month")&&"rbc-off-range-bg")}))})))}},{key:"_selectable",value:function(){var e=this,t=this.containerRef.current,n=this._selector=new cD(this.props.container,{longPressThreshold:this.props.longPressThreshold}),r=function(n,r){if(!sD(t,n)){var i=fD(t),o=e.props,a=o.range,s=o.rtl;if(function(e,t){var n=t.x,r=t.y;return r>=e.top&&r<=e.bottom&&n>=e.left&&n<=e.right}(i,n)){var u=nD(i,n.x,s,a.length);e._selectSlot({startIdx:u,endIdx:u,action:r,box:n})}}e._initial={},e.setState({selecting:!1})};n.on("selecting",(function(r){var i=e.props,o=i.range,a=i.rtl,s=-1,u=-1;if(e.state.selecting||(CA(e.props.onSelectStart,[r]),e._initial={x:r.x,y:r.y}),n.isSelected(t)){var c=fD(t),l=function(e,t,n,r,i){var o=-1,a=-1,s=r-1,u=tD(t,r),c=nD(t,n.x,i,r),l=t.top<n.y&&t.bottom>n.y,f=t.top<e.y&&t.bottom>e.y,h=e.y>t.bottom,d=t.top>e.y;return n.top<t.top&&n.bottom>t.bottom&&(o=0,a=s),l&&(d?(o=0,a=c):h&&(o=c,a=s)),f&&(o=a=i?s-Math.floor((e.x-t.left)/u):Math.floor((e.x-t.left)/u),l?c<o?o=c:a=c:e.y<n.y?a=s:o=0),{startIdx:o,endIdx:a}}(e._initial,c,r,o.length,a);s=l.startIdx,u=l.endIdx}e.setState({selecting:!0,startIdx:s,endIdx:u})})),n.on("beforeSelect",(function(t){if("ignoreEvents"===e.props.selectable)return!sD(e.containerRef.current,t)})),n.on("click",(function(e){return r(e,"click")})),n.on("doubleClick",(function(e){return r(e,"doubleClick")})),n.on("select",(function(t){e._selectSlot(wx(wx({},e.state),{},{action:"select",bounds:t})),e._initial={},e.setState({selecting:!1}),CA(e.props.onSelectEnd,[e.state])}))}},{key:"_teardownSelectable",value:function(){this._selector&&(this._selector.teardown(),this._selector=null)}},{key:"_selectSlot",value:function(e){var t=e.endIdx,n=e.startIdx,r=e.action,i=e.bounds,o=e.box;-1!==t&&-1!==n&&this.props.onSelectSlot&&this.props.onSelectSlot({start:n,end:t,action:r,bounds:i,box:o,resourceId:this.props.resourceId})}}]),r}(e.Component),pD=(me().object.isRequired,me().object,me().bool,me().object.isRequired,me().object.isRequired,me().object.isRequired,me().object.isRequired,me().func,me().func,me().func,{segments:[],selected:{}}),vD=function(t,n){var r=t.selected;t.isAllDay;var i=t.accessors,o=t.getters,a=t.onSelect,s=t.onDoubleClick,u=t.onKeyPress,c=t.localizer,l=t.slotMetrics,f=t.components,h=t.resizable,d=l.continuesPrior(n),p=l.continuesAfter(n);return e.createElement(ZA,{event:n,getters:o,localizer:c,accessors:i,components:f,onSelect:a,onDoubleClick:s,onKeyPress:u,continuesPrior:d,continuesAfter:p,slotStart:l.first,slotEnd:l.last,selected:eD(n,r),resizable:h})},gD=function(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:" ",o=Math.abs(n)/t*100+"%";return e.createElement("div",{key:r,className:"rbc-row-segment",style:{WebkitFlexBasis:o,flexBasis:o,maxWidth:o}},i)},mD=function(t){Tx(r,t);var n=Ox(r);function r(){return Sx(this,r),n.apply(this,arguments)}return kx(r,[{key:"render",value:function(){var t=this,n=this.props,r=n.segments,i=n.slotMetrics.slots,o=n.className,a=1;return e.createElement("div",{className:Bx(o,"rbc-row")},r.reduce((function(e,n,r){var o=n.event,s=n.left,u=n.right,c=n.span,l="_lvl_"+r,f=s-a,h=vD(t.props,o);return f&&e.push(gD(i,f,"".concat(l,"_gap"))),e.push(gD(i,c,l,h)),a=u+1,e}),[]))}}]),r}(e.Component);function yD(e){var t=e.dateRange,n=e.unit,r=void 0===n?"day":n,i=e.localizer;return{first:t[0],last:i.add(t[t.length-1],1,r)}}function bD(e){var t,n,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,o=[],a=[];for(t=0;t<e.length;t++){for(r=e[t],n=0;n<o.length&&_D(r,o[n]);n++);n>=i?a.push(r):(o[n]||(o[n]=[])).push(r)}for(t=0;t<o.length;t++)o[t].sort((function(e,t){return e.left-t.left}));return{levels:o,extra:a}}function wD(e,t,n,r,i){var o={start:r.start(e),end:r.end(e)},a={start:t,end:n};return i.inEventRange({event:o,range:a})}function _D(e,t){return t.some((function(t){return t.left<=e.right&&t.right>=e.left}))}function xD(e,t,n,r){var i={start:n.start(e),end:n.end(e),allDay:n.allDay(e)},o={start:n.start(t),end:n.end(t),allDay:n.allDay(t)};return r.sortEvents({evtA:i,evtB:o})}mD.defaultProps=wx({},pD);var SD=function(e,t){return e.left<=t&&e.right>=t},ED=function(e,t){return e.filter((function(e){return SD(e,t)})).length},kD=function(t){Tx(r,t);var n=Ox(r);function r(){return Sx(this,r),n.apply(this,arguments)}return kx(r,[{key:"render",value:function(){for(var t=this.props,n=t.segments,r=t.slotMetrics.slots,i=bD(n).levels[0],o=1,a=1,s=[];o<=r;){var u="_lvl_"+o,c=i.filter((function(e){return SD(e,o)}))[0]||{},l=c.event,f=c.left,h=c.right,d=c.span;if(l){var p=Math.max(0,f-a);if(this.canRenderSlotEvent(f,d)){var v=vD(this.props,l);p&&s.push(gD(r,p,u+"_gap")),s.push(gD(r,d,u,v)),a=o=h+1}else p&&s.push(gD(r,p,u+"_gap")),s.push(gD(r,1,u,this.renderShowMore(n,o))),a=o+=1}else o++}return e.createElement("div",{className:"rbc-row"},s)}},{key:"canRenderSlotEvent",value:function(e,t){var n=this.props.segments;return OP(e,e+t).every((function(e){return 1===ED(n,e)}))}},{key:"renderShowMore",value:function(t,n){var r=this,i=this.props.localizer,o=ED(t,n);return!!o&&e.createElement("button",{type:"button",key:"sm_"+n,className:Bx("rbc-button-link","rbc-show-more"),onClick:function(e){return r.showMore(n,e)}},i.messages.showMore(o))}},{key:"showMore",value:function(e,t){t.preventDefault(),t.stopPropagation(),this.props.onShowMore(e,t.target)}}]),r}(e.Component);kD.defaultProps=wx({},pD);var TD=function(t){var n=t.children;return e.createElement("div",{className:"rbc-row-content-scroll-container"},n)},CD=function(e,t){return e[0].range===t[0].range&&e[0].events===t[0].events};function ID(){return NP((function(e){for(var t=e.range,n=e.events,r=e.maxRows,i=e.minRows,o=e.accessors,a=e.localizer,s=yD({dateRange:t,localizer:a}),u=s.first,c=s.last,l=n.map((function(e){return function(e,t,n,r){var i=yD({dateRange:t,localizer:r}),o=i.first,a=i.last,s=r.diff(o,a,"day"),u=r.max(r.startOf(n.start(e),"day"),o),c=r.min(r.ceil(n.end(e),"day"),a),l=kP(t,(function(e){return r.isSameDate(e,u)})),f=r.diff(u,c,"day");return f=Math.min(f,s),{event:e,span:f=Math.max(f-r.segmentOffset,1),left:l+1,right:Math.max(l+f,1)}}(e,t,o,a)})),f=bD(l,Math.max(r-1,1)),h=f.levels,d=f.extra;h.length<i;)h.push([]);return{first:u,last:c,levels:h,extra:d,range:t,slots:t.length,clone:function(t){return ID()(wx(wx({},e),t))},getDateForSlot:function(e){return t[e]},getSlotForDate:function(e){return t.find((function(t){return a.isSameDate(t,e)}))},getEventsForSlot:function(e){return l.filter((function(t){return function(e,t){return e.left<=t&&e.right>=t}(t,e)})).map((function(e){return e.event}))},continuesPrior:function(e){return a.continuesPrior(o.start(e),u)},continuesAfter:function(e){var t=o.start(e),n=o.end(e);return a.continuesAfter(t,n,c)}}}),CD)}var PD=function(t){Tx(r,t);var n=Ox(r);function r(){var t;Sx(this,r);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(t=n.call.apply(n,[this].concat(o))).handleSelectSlot=function(e){var n=t.props,r=n.range;(0,n.onSelectSlot)(r.slice(e.start,e.end+1),e)},t.handleShowMore=function(e,n){var r,i=t.props,o=i.range,a=i.onShowMore,s=t.slotMetrics(t.props),u=VI(t.containerRef.current,".rbc-row-bg")[0];u&&(r=u.children[e-1]),a(s.getEventsForSlot(e),o[e-1],r,e,n)},t.getContainer=function(){var e=t.props.container;return e?e():t.containerRef.current},t.renderHeadingCell=function(e,n){var r=t.props,i=r.renderHeader,o=r.getNow,a=r.localizer;return i({date:e,key:"header_".concat(n),className:Bx("rbc-date-cell",a.isSameDate(e,o())&&"rbc-now")})},t.renderDummy=function(){var n=t.props,r=n.className,i=n.range,o=n.renderHeader,a=n.showAllEvents;return e.createElement("div",{className:r,ref:t.containerRef},e.createElement("div",{className:Bx("rbc-row-content",a&&"rbc-row-content-scrollable")},o&&e.createElement("div",{className:"rbc-row",ref:t.headingRowRef},i.map(t.renderHeadingCell)),e.createElement("div",{className:"rbc-row",ref:t.eventRowRef},e.createElement("div",{className:"rbc-row-segment"},e.createElement("div",{className:"rbc-event"},e.createElement("div",{className:"rbc-event-content"},"\xa0"))))))},t.containerRef=(0,e.createRef)(),t.headingRowRef=(0,e.createRef)(),t.eventRowRef=(0,e.createRef)(),t.slotMetrics=ID(),t}return kx(r,[{key:"getRowLimit",value:function(){var e=UI(this.eventRowRef.current),t=this.headingRowRef&&this.headingRowRef.current?UI(this.headingRowRef.current):0,n=UI(this.containerRef.current)-t;return Math.max(Math.floor(n/e),1)}},{key:"render",value:function(){var t=this.props,n=t.date,r=t.rtl,i=t.range,o=t.className,a=t.selected,s=t.selectable,u=t.renderForMeasure,c=t.accessors,l=t.getters,f=t.components,h=t.getNow,d=t.renderHeader,p=t.onSelect,v=t.localizer,g=t.onSelectStart,m=t.onSelectEnd,y=t.onDoubleClick,b=t.onKeyPress,w=t.resourceId,_=t.longPressThreshold,x=t.isAllDay,S=t.resizable,E=t.showAllEvents;if(u)return this.renderDummy();var k=this.slotMetrics(this.props),T=k.levels,C=k.extra,I=E?TD:wA,P=f.weekWrapper,O={selected:a,accessors:c,getters:l,localizer:v,components:f,onSelect:p,onDoubleClick:y,onKeyPress:b,resourceId:w,slotMetrics:k,resizable:S};return e.createElement("div",{className:o,role:"rowgroup",ref:this.containerRef},e.createElement(dD,{localizer:v,date:n,getNow:h,rtl:r,range:i,selectable:s,container:this.getContainer,getters:l,onSelectStart:g,onSelectEnd:m,onSelectSlot:this.handleSelectSlot,components:f,longPressThreshold:_,resourceId:w}),e.createElement("div",{className:Bx("rbc-row-content",E&&"rbc-row-content-scrollable"),role:"row"},d&&e.createElement("div",{className:"rbc-row ",ref:this.headingRowRef},i.map(this.renderHeadingCell)),e.createElement(I,null,e.createElement(P,Object.assign({isAllDay:x},O),T.map((function(t,n){return e.createElement(mD,Object.assign({key:n,segments:t},O))})),!!C.length&&e.createElement(kD,Object.assign({segments:C,onShowMore:this.handleShowMore},O))))))}}]),r}(e.Component);PD.defaultProps={minRows:0,maxRows:1/0};var OD=function(t){var n=t.label;return e.createElement("span",{role:"columnheader","aria-sort":"none"},n)},AD=function(t){var n=t.label,r=t.drilldownView,i=t.onDrillDown;return r?e.createElement("button",{type:"button",className:"rbc-button-link",onClick:i,role:"cell"},n):e.createElement("span",null,n)},DD=["date","className"],ND=function(e,t,n,r,i){return e.filter((function(e){return wD(e,t,n,r,i)}))},RD=function(t){Tx(r,t);var n=Ox(r);function r(){var t;Sx(this,r);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(t=n.call.apply(n,[this].concat(o))).getContainer=function(){return t.containerRef.current},t.renderWeek=function(n,r){var i=t.props,o=i.events,a=i.components,s=i.selectable,u=i.getNow,c=i.selected,l=i.date,f=i.localizer,h=i.longPressThreshold,d=i.accessors,p=i.getters,v=i.showAllEvents,g=t.state,m=g.needLimitMeasure,y=g.rowLimit,b=ND(ES(o),n[0],n[n.length-1],d,f);return b.sort((function(e,t){return xD(e,t,d,f)})),e.createElement(PD,{key:r,ref:0===r?t.slotRowRef:void 0,container:t.getContainer,className:"rbc-month-row",getNow:u,date:l,range:n,events:b,maxRows:v?1/0:y,selected:c,selectable:s,components:a,accessors:d,getters:p,localizer:f,renderHeader:t.readerDateHeading,renderForMeasure:m,onShowMore:t.handleShowMore,onSelect:t.handleSelectEvent,onDoubleClick:t.handleDoubleClickEvent,onKeyPress:t.handleKeyPressEvent,onSelectSlot:t.handleSelectSlot,longPressThreshold:h,rtl:t.props.rtl,resizable:t.props.resizable,showAllEvents:v})},t.readerDateHeading=function(n){var r=n.date,i=n.className,o=_x(n,DD),a=t.props,s=a.date,u=a.getDrilldownView,c=a.localizer,l=c.neq(r,s,"month"),f=c.isSameDate(r,s),h=u(r),d=c.format(r,"dateFormat"),p=t.props.components.dateHeader||AD;return e.createElement("div",Object.assign({},o,{className:Bx(i,l&&"rbc-off-range",f&&"rbc-current"),role:"cell"}),e.createElement(p,{label:d,date:r,drilldownView:h,isOffRange:l,onDrillDown:function(e){return t.handleHeadingClick(r,h,e)}}))},t.handleSelectSlot=function(e,n){t._pendingSelection=t._pendingSelection.concat(e),clearTimeout(t._selectTimer),t._selectTimer=setTimeout((function(){return t.selectDates(n)}))},t.handleHeadingClick=function(e,n,r){r.preventDefault(),t.clearSelection(),CA(t.props.onDrillDown,[e,n])},t.handleSelectEvent=function(){t.clearSelection();for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];CA(t.props.onSelectEvent,n)},t.handleDoubleClickEvent=function(){t.clearSelection();for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];CA(t.props.onDoubleClickEvent,n)},t.handleKeyPressEvent=function(){t.clearSelection();for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];CA(t.props.onKeyPressEvent,n)},t.handleShowMore=function(e,n,r,i,o){var a=t.props,s=a.popup,u=a.onDrillDown,c=a.onShowMore,l=a.getDrilldownView,f=a.doShowMoreDrillDown;if(t.clearSelection(),s){var h=EE(r,t.containerRef.current);t.setState({overlay:{date:n,events:e,position:h,target:o}})}else f&&CA(u,[n,l(n)||kA.DAY]);CA(c,[e,n,i])},t.overlayDisplay=function(){t.setState({overlay:null})},t.state={rowLimit:5,needLimitMeasure:!0},t.containerRef=(0,e.createRef)(),t.slotRowRef=(0,e.createRef)(),t._bgRows=[],t._pendingSelection=[],t}return kx(r,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.date,n=this.props,r=n.date,i=n.localizer;this.setState({needLimitMeasure:i.neq(t,r,"month")})}},{key:"componentDidMount",value:function(){var e,t=this;this.state.needLimitMeasure&&this.measureRowLimit(this.props),window.addEventListener("resize",this._resizeListener=function(){e||AE((function(){e=!1,t.setState({needLimitMeasure:!0})}))},!1)}},{key:"componentDidUpdate",value:function(){this.state.needLimitMeasure&&this.measureRowLimit(this.props)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resizeListener,!1)}},{key:"render",value:function(){var t=this.props,n=t.date,r=t.localizer,i=t.className,o=r.visibleDays(n,r),a=cE(o,7);return this._weekCount=a.length,e.createElement("div",{className:Bx("rbc-month-view",i),role:"table","aria-label":"Month View",ref:this.containerRef},e.createElement("div",{className:"rbc-row rbc-month-header",role:"row"},this.renderHeaders(a[0])),a.map(this.renderWeek),this.props.popup&&this.renderOverlay())}},{key:"renderHeaders",value:function(t){var n=this.props,r=n.localizer,i=n.components,o=t[0],a=t[t.length-1],s=i.header||OD;return r.range(o,a,"day").map((function(t,n){return e.createElement("div",{key:"header_"+n,className:"rbc-header"},e.createElement(s,{date:t,localizer:r,label:r.format(t,"weekdayFormat")}))}))}},{key:"renderOverlay",value:function(){var t=this,n=this.state&&this.state.overlay||{},r=this.props,i=r.accessors,o=r.localizer,a=r.components,s=r.getters,u=r.selected,c=r.popupOffset;return e.createElement(FI,{rootClose:!0,placement:"bottom",show:!!n.position,onHide:function(){return t.setState({overlay:null})},target:function(){return n.target}},(function(r){var l=r.props;return e.createElement(iD,Object.assign({},l,{popupOffset:c,accessors:i,getters:s,selected:u,components:a,localizer:o,position:n.position,show:t.overlayDisplay,events:n.events,slotStart:n.date,slotEnd:n.end,onSelect:t.handleSelectEvent,onDoubleClick:t.handleDoubleClickEvent,onKeyPress:t.handleKeyPressEvent,handleDragStart:t.props.handleDragStart}))}))}},{key:"measureRowLimit",value:function(){this.setState({needLimitMeasure:!1,rowLimit:this.slotRowRef.current.getRowLimit()})}},{key:"selectDates",value:function(e){var t=this._pendingSelection.slice();this._pendingSelection=[],t.sort((function(e,t){return+e-+t}));var n=new Date(t[0]),r=new Date(t[t.length-1]);r.setDate(t[t.length-1].getDate()+1),CA(this.props.onSelectSlot,{slots:t,start:n,end:r,action:e.action,bounds:e.bounds,box:e.box})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}}]),r}(e.Component);RD.range=function(e,t){var n=t.localizer;return{start:n.firstVisibleDay(e,n),end:n.lastVisibleDay(e,n)}},RD.navigate=function(e,t,n){var r=n.localizer;switch(t){case _A:return r.add(e,-1,"month");case xA:return r.add(e,1,"month");default:return e}},RD.title=function(e,t){return t.localizer.format(e,"monthHeaderFormat")};var jD=function(e){var t=e.min,n=e.max,r=e.step,i=e.slots,o=e.localizer;return"".concat(+o.startOf(t,"minutes"))+"".concat(+o.startOf(n,"minutes"))+"".concat(r,"-").concat(i)};function MD(e){for(var t=e.min,n=e.max,r=e.step,i=e.timeslots,o=e.localizer,a=jD({start:t,end:n,step:r,timeslots:i,localizer:o}),s=1+o.getTotalMin(t,n),u=o.getMinutesFromMidnight(t),c=Math.ceil((s-1)/(r*i)),l=c*i,f=new Array(c),h=new Array(l),d=0;d<c;d++){f[d]=new Array(i);for(var p=0;p<i;p++){var v=d*i+p,g=v*r;h[v]=f[d][p]=o.getSlotDate(t,u,g)}}var m=h.length*r;function y(e){var n=o.diff(t,e,"minutes")+o.getDstOffset(t,e);return Math.min(n,s)}return h.push(o.getSlotDate(t,u,m)),{groups:f,update:function(e){return jD(e)!==a?MD(e):this},dateIsInGroup:function(e,t){var r=f[t+1];return o.inRange(e,f[t][0],r?r[0]:n,"minutes")},nextSlot:function(e){var t=h[Math.min(h.indexOf(e)+1,h.length-1)];return t===e&&(t=o.add(e,r,"minutes")),t},closestSlotToPosition:function(e){var t=Math.min(h.length-1,Math.max(0,Math.floor(e*l)));return h[t]},closestSlotFromPoint:function(e,t){var n=Math.abs(t.top-t.bottom);return this.closestSlotToPosition((e.y-t.top)/n)},closestSlotFromDate:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(o.lt(e,t,"minutes"))return h[0];if(o.gt(e,n,"minutes"))return h[h.length-1];var a=o.diff(t,e,"minutes");return h[(a-a%r)/r+i]},startsBeforeDay:function(e){return o.lt(e,t,"day")},startsAfterDay:function(e){return o.gt(e,n,"day")},startsBefore:function(e){return o.lt(o.merge(t,e),t,"minutes")},startsAfter:function(e){return o.gt(o.merge(n,e),n,"minutes")},getRange:function(e,i,a,s){a||(e=o.min(n,o.max(t,e))),s||(i=o.min(n,o.max(t,i)));var u=y(e),c=y(i),f=c>r*l&&!o.eq(n,i)?(u-r)/(r*l)*100:u/(r*l)*100;return{top:f,height:c/(r*l)*100-f,start:y(e),startDate:e,end:y(i),endDate:i}},getCurrentTimePosition:function(e){return y(e)/(r*l)*100}}}var LD=function(){function e(t,n){var r=n.accessors,i=n.slotMetrics;Sx(this,e);var o=i.getRange(r.start(t),r.end(t)),a=o.start,s=o.startDate,u=o.end,c=o.endDate,l=o.top,f=o.height;this.start=a,this.end=u,this.startMs=+s,this.endMs=+c,this.top=l,this.height=f,this.data=t}return kx(e,[{key:"_width",get:function(){if(this.rows){var e=this.rows.reduce((function(e,t){return Math.max(e,t.leaves.length+1)}),0)+1;return 100/e}var t=100-this.container._width;return this.leaves?t/(this.leaves.length+1):this.row._width}},{key:"width",get:function(){var e=this._width,t=Math.min(100,1.7*this._width);if(this.rows)return t;if(this.leaves)return this.leaves.length>0?t:e;var n=this.row.leaves;return n.indexOf(this)===n.length-1?e:t}},{key:"xOffset",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._width;var e=this.row,t=e.leaves,n=e.xOffset,r=e._width;return n+(t.indexOf(this)+1)*r}}]),e}();function FD(e,t,n){return Math.abs(t.start-e.start)<n||t.start>e.start&&t.start<e.end}function UD(e){for(var t=e.events,n=e.minimumStartDifference,r=e.slotMetrics,i=e.accessors,o=function(e){for(var t=iO(e,["startMs",function(e){return-e.endMs}]),n=[];t.length>0;){var r=t.shift();n.push(r);for(var i=0;i<t.length;i++){var o=t[i];if(!(r.endMs>o.startMs)){if(i>0){var a=t.splice(i,1)[0];n.push(a)}break}}}return n}(t.map((function(e){return new LD(e,{slotMetrics:r,accessors:i})}))),a=[],s=function(e){var t=o[e],r=a.find((function(e){return e.end>t.start||Math.abs(t.start-e.start)<n}));if(!r)return t.rows=[],a.push(t),"continue";t.container=r;for(var i=null,s=r.rows.length-1;!i&&s>=0;s--)FD(r.rows[s],t,n)&&(i=r.rows[s]);i?(i.leaves.push(t),t.row=i):(t.leaves=[],r.rows.push(t))},u=0;u<o.length;u++)s(u);return o.map((function(e){return{event:e.data,style:{top:e.top,height:e.height,width:e.width,xOffset:Math.max(0,e.xOffset)}}}))}function BD(e,t,n){for(var r=0;r<e.friends.length;++r)if(!(n.indexOf(e.friends[r])>-1)){t=t>e.friends[r].idx?t:e.friends[r].idx,n.push(e.friends[r]);var i=BD(e.friends[r],t,n);t=t>i?t:i}return t}var qD={overlap:UD,"no-overlap":function(e){var t=UD({events:e.events,minimumStartDifference:e.minimumStartDifference,slotMetrics:e.slotMetrics,accessors:e.accessors});t.sort((function(e,t){return e=e.style,t=t.style,e.top!==t.top?e.top>t.top?1:-1:e.top+e.height<t.top+t.height?1:-1}));for(var n=0;n<t.length;++n)t[n].friends=[],delete t[n].style.left,delete t[n].style.left,delete t[n].idx,delete t[n].size;for(var r=0;r<t.length-1;++r)for(var i=t[r],o=i.style.top,a=i.style.top+i.style.height,s=r+1;s<t.length;++s){var u=t[s],c=u.style.top,l=u.style.top+u.style.height;(c<=o&&o<l||o<=c&&c<a)&&(i.friends.push(u),u.friends.push(i))}for(var f=0;f<t.length;++f){for(var h=t[f],d=[],p=0;p<100;++p)d.push(1);for(var v=0;v<h.friends.length;++v)void 0!==h.friends[v].idx&&(d[h.friends[v].idx]=0);h.idx=d.indexOf(1)}for(var g=0;g<t.length;++g){var m;if(!t[g].size){var y=[];m=100/(BD(t[g],0,y)+1),t[g].size=m;for(var b=0;b<y.length;++b)y[b].size=m}}for(var w=0;w<t.length;++w){var _=t[w];_.style.left=_.idx*_.size;for(var x=0,S=0;S<_.friends.length;++S){var E=_.friends[S].idx;x=x>E?x:E}x<=_.idx&&(_.size=100-_.idx*_.size);var k=0===_.idx?0:3;_.style.width="calc(".concat(_.size,"% - ").concat(k,"px)"),_.style.height="calc(".concat(_.style.height,"% - 2px)"),_.style.xOffset="calc(".concat(_.style.left,"% + ").concat(k,"px)")}return t}};function VD(e){return!!(e&&e.constructor&&e.call&&e.apply)}function zD(e){e.events,e.minimumStartDifference,e.slotMetrics,e.accessors;var t=e.dayLayoutAlgorithm,n=t;return t in qD&&(n=qD[t]),VD(n)?n.apply(this,arguments):[]}var WD=function(t){Tx(r,t);var n=Ox(r);function r(){return Sx(this,r),n.apply(this,arguments)}return kx(r,[{key:"render",value:function(){var t=this.props,n=t.renderSlot,r=t.resource,i=t.group,o=t.getters,a=t.components,s=(a=void 0===a?{}:a).timeSlotWrapper,u=void 0===s?wA:s,c=o?o.slotGroupProp():{};return e.createElement("div",Object.assign({className:"rbc-timeslot-group"},c),i.map((function(t,i){var a=o?o.slotProp(t,r):{};return e.createElement(u,{key:i,value:t,resource:r},e.createElement("div",Object.assign({},a,{className:Bx("rbc-time-slot",a.className)}),n&&n(t,i)))})))}}]),r}(e.Component);function HD(e){return"string"===typeof e?e:e+"%"}function KD(t){var n=t.style,r=t.className,i=t.event,o=t.accessors,a=t.rtl,s=t.selected,u=t.label,c=t.continuesPrior,l=t.continuesAfter,f=t.getters,h=t.onClick,d=t.onDoubleClick,p=t.isBackgroundEvent,v=t.onKeyPress,g=t.components,m=g.event,y=g.eventWrapper,b=o.title(i),w=o.tooltip(i),_=o.end(i),x=o.start(i),S=f.eventProp(i,x,_,s),E=n.height,k=n.top,T=n.width,C=n.xOffset,I=[e.createElement("div",{key:"1",className:"rbc-event-label"},u),e.createElement("div",{key:"2",className:"rbc-event-content"},m?e.createElement(m,{event:i,title:b}):b)],P=wx(wx({},S.style),{},p?yx({top:HD(k),height:HD(E),width:"calc(".concat(T," + 10px)")},a?"right":"left",HD(Math.max(0,C))):yx({top:HD(k),width:HD(T),height:HD(E)},a?"right":"left",HD(C)));return e.createElement(y,Object.assign({type:"time"},t),e.createElement("div",{onClick:h,onDoubleClick:d,style:P,onKeyPress:v,title:w?("string"===typeof u?u+": ":"")+w:void 0,className:Bx(p?"rbc-background-event":"rbc-event",r,S.className,{"rbc-selected":s,"rbc-event-continues-earlier":c,"rbc-event-continues-later":l})},I))}var GD=function(t){var n=t.children,r=t.className,i=t.style,o=t.innerRef;return e.createElement("div",{className:r,style:i,ref:o},n)},YD=e.forwardRef((function(t,n){return e.createElement(GD,Object.assign({},t,{innerRef:n}))})),$D=["dayProp"],QD=["eventContainerWrapper"],XD=function(t){Tx(r,t);var n=Ox(r);function r(){var t;Sx(this,r);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(t=n.call.apply(n,[this].concat(o))).state={selecting:!1,timeIndicatorPosition:null},t.intervalTriggered=!1,t.renderEvents=function(n){var r=n.events,i=n.isBackgroundEvent,o=t.props,a=o.rtl,s=o.selected,u=o.accessors,c=o.localizer,l=o.getters,f=o.components,h=o.step,d=o.timeslots,p=o.dayLayoutAlgorithm,v=o.resizable,g=Ix(t).slotMetrics,m=c.messages;return zD({events:r,accessors:u,slotMetrics:g,minimumStartDifference:Math.ceil(h*d/2),dayLayoutAlgorithm:p}).map((function(n,r){var o,h=n.event,d=n.style,p=u.end(h),y=u.start(h),b="eventTimeRangeFormat",w=g.startsBeforeDay(y),_=g.startsAfterDay(p);w?b="eventTimeRangeEndFormat":_&&(b="eventTimeRangeStartFormat"),o=w&&_?m.allDay:c.format({start:y,end:p},b);var x=w||g.startsBefore(y),S=_||g.startsAfter(p);return e.createElement(KD,{style:d,event:h,label:o,key:"evt_"+r,getters:l,rtl:a,components:f,continuesPrior:x,continuesAfter:S,accessors:u,selected:eD(h,s),onClick:function(e){return t._select(h,e)},onDoubleClick:function(e){return t._doubleClick(h,e)},isBackgroundEvent:i,onKeyPress:function(e){return t._keyPress(h,e)},resizable:v})}))},t._selectable=function(){var e=t.containerRef.current,n=t.props,r=n.longPressThreshold,i=n.localizer,o=t._selector=new cD((function(){return e}),{longPressThreshold:r}),a=function(e){var n=t.props.onSelecting,r=t.state||{},o=s(e),a=o.startDate,u=o.endDate;n&&(i.eq(r.startDate,a,"minutes")&&i.eq(r.endDate,u,"minutes")||!1===n({start:a,end:u,resourceId:t.props.resource}))||t.state.start===o.start&&t.state.end===o.end&&t.state.selecting===o.selecting||t.setState(o)},s=function(n){var r=t.slotMetrics.closestSlotFromPoint(n,fD(e));t.state.selecting||(t._initialSlot=r);var o=t._initialSlot;i.lte(o,r)?r=t.slotMetrics.nextSlot(r):i.gt(o,r)&&(o=t.slotMetrics.nextSlot(o));var a=t.slotMetrics.getRange(i.min(o,r),i.max(o,r));return wx(wx({},a),{},{selecting:!0,top:"".concat(a.top,"%"),height:"".concat(a.height,"%")})},u=function(e,n){if(!sD(t.containerRef.current,e)){var r=s(e),i=r.startDate,o=r.endDate;t._selectSlot({startDate:i,endDate:o,action:n,box:e})}t.setState({selecting:!1})};o.on("selecting",a),o.on("selectStart",a),o.on("beforeSelect",(function(e){if("ignoreEvents"===t.props.selectable)return!sD(t.containerRef.current,e)})),o.on("click",(function(e){return u(e,"click")})),o.on("doubleClick",(function(e){return u(e,"doubleClick")})),o.on("select",(function(e){t.state.selecting&&(t._selectSlot(wx(wx({},t.state),{},{action:"select",bounds:e})),t.setState({selecting:!1}))})),o.on("reset",(function(){t.state.selecting&&t.setState({selecting:!1})}))},t._teardownSelectable=function(){t._selector&&(t._selector.teardown(),t._selector=null)},t._selectSlot=function(e){for(var n=e.startDate,r=e.endDate,i=e.action,o=e.bounds,a=e.box,s=n,u=[];t.props.localizer.lte(s,r);)u.push(s),s=new Date(+s+60*t.props.step*1e3);CA(t.props.onSelectSlot,{slots:u,start:n,end:r,resourceId:t.props.resource,action:i,bounds:o,box:a})},t._select=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];CA(t.props.onSelectEvent,n)},t._doubleClick=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];CA(t.props.onDoubleClickEvent,n)},t._keyPress=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];CA(t.props.onKeyPressEvent,n)},t.slotMetrics=MD(t.props),t.containerRef=(0,e.createRef)(),t}return kx(r,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable(),this.props.isNow&&this.setTimeIndicatorPositionUpdateInterval()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable(),this.clearTimeIndicatorInterval()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.selectable&&!this.props.selectable&&this._selectable(),!e.selectable&&this.props.selectable&&this._teardownSelectable(),this.slotMetrics=this.slotMetrics.update(e)}},{key:"componentDidUpdate",value:function(e,t){var n=this.props,r=n.getNow,i=n.isNow,o=n.localizer,a=n.date,s=n.min,u=n.max,c=o.neq(e.getNow(),r(),"minutes");if(e.isNow!==i||c){if(this.clearTimeIndicatorInterval(),i){var l=!c&&o.eq(e.date,a,"minutes")&&t.timeIndicatorPosition===this.state.timeIndicatorPosition;this.setTimeIndicatorPositionUpdateInterval(l)}}else i&&(o.neq(e.min,s,"minutes")||o.neq(e.max,u,"minutes"))&&this.positionTimeIndicator()}},{key:"setTimeIndicatorPositionUpdateInterval",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.intervalTriggered||t||this.positionTimeIndicator(),this._timeIndicatorTimeout=window.setTimeout((function(){e.intervalTriggered=!0,e.positionTimeIndicator(),e.setTimeIndicatorPositionUpdateInterval()}),6e4)}},{key:"clearTimeIndicatorInterval",value:function(){this.intervalTriggered=!1,window.clearTimeout(this._timeIndicatorTimeout)}},{key:"positionTimeIndicator",value:function(){var e=this.props,t=e.min,n=e.max,r=(0,e.getNow)();if(r>=t&&r<=n){var i=this.slotMetrics.getCurrentTimePosition(r);this.intervalTriggered=!0,this.setState({timeIndicatorPosition:i})}else this.clearTimeIndicatorInterval()}},{key:"render",value:function(){var t=this.props,n=t.date,r=t.max,i=t.rtl,o=t.isNow,a=t.resource,s=t.accessors,u=t.localizer,c=t.getters,l=c.dayProp,f=_x(c,$D),h=t.components,d=h.eventContainerWrapper,p=_x(h,QD),v=this.slotMetrics,g=this.state,m=g.selecting,y=g.top,b=g.height,w={start:g.startDate,end:g.endDate},_=l(r),x=_.className,S=_.style,E=p.dayColumnWrapper||YD;return e.createElement(E,{ref:this.containerRef,date:n,style:S,className:Bx(x,"rbc-day-slot","rbc-time-column",o&&"rbc-now",o&&"rbc-today",m&&"rbc-slot-selecting"),slotMetrics:v},v.groups.map((function(t,n){return e.createElement(WD,{key:n,group:t,resource:a,getters:f,components:p})})),e.createElement(d,{localizer:u,resource:a,accessors:s,getters:f,components:p,slotMetrics:v},e.createElement("div",{className:Bx("rbc-events-container",i&&"rtl")},this.renderEvents({events:this.props.backgroundEvents,isBackgroundEvent:!0}),this.renderEvents({events:this.props.events}))),m&&e.createElement("div",{className:"rbc-slot-selection",style:{top:y,height:b}},e.createElement("span",null,u.format(w,"selectRangeFormat"))),o&&this.intervalTriggered&&e.createElement("div",{className:"rbc-current-time-indicator",style:{top:"".concat(this.state.timeIndicatorPosition,"%")}}))}}]),r}(e.Component);XD.defaultProps={dragThroughEvents:!0,timeslots:2};var JD=function(t){var n=t.min,r=t.max,i=t.timeslots,o=t.step,a=t.localizer,s=t.getNow,u=t.resource,c=t.components,l=t.getters,f=t.gutterRef,h=(0,e.useMemo)((function(){return function(e){var t=e.min,n=e.max,r=e.localizer;return r.getTimezoneOffset(t)!==r.getTimezoneOffset(n)?{start:r.add(t,-1,"day"),end:r.add(n,-1,"day")}:{start:t,end:n}}({min:n,max:r,localizer:a})}),[null===n||void 0===n?void 0:n.toISOString(),null===r||void 0===r?void 0:r.toISOString(),a]),d=h.start,p=h.end,v=jn((0,e.useState)(MD({min:d,max:p,timeslots:i,step:o,localizer:a})),2),g=v[0],m=v[1];(0,e.useEffect)((function(){g&&m(g.update({min:d,max:p,timeslots:i,step:o,localizer:a}))}),[null===d||void 0===d?void 0:d.toISOString(),null===p||void 0===p?void 0:p.toISOString(),i,o]);var y=(0,e.useCallback)((function(t,n){if(n)return null;var r=g.dateIsInGroup(s(),n);return e.createElement("span",{className:Bx("rbc-label",r&&"rbc-now")},a.format(t,"timeGutterFormat"))}),[g,a,s]);return e.createElement("div",{className:"rbc-time-gutter rbc-time-column",ref:f},g.groups.map((function(t,n){return e.createElement(WD,{key:n,group:t,resource:u,components:c,renderSlot:y,getters:l})})))},ZD=e.forwardRef((function(t,n){return e.createElement(JD,Object.assign({gutterRef:n},t))})),eN=function(t){var n=t.label;return e.createElement(e.Fragment,null,n)},tN=function(t){Tx(r,t);var n=Ox(r);function r(){var t;Sx(this,r);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(t=n.call.apply(n,[this].concat(o))).handleHeaderClick=function(e,n,r){r.preventDefault(),CA(t.props.onDrillDown,[e,n])},t.renderRow=function(n){var r=t.props,i=r.events,o=r.rtl,a=r.selectable,s=r.getNow,u=r.range,c=r.getters,l=r.localizer,f=r.accessors,h=r.components,d=r.resizable,p=f.resourceId(n),v=n?i.filter((function(e){return f.resource(e)===p})):i;return e.createElement(PD,{isAllDay:!0,rtl:o,getNow:s,minRows:2,range:u,events:v,resourceId:p,className:"rbc-allday-cell",selectable:a,selected:t.props.selected,components:h,accessors:f,getters:c,localizer:l,onSelect:t.props.onSelectEvent,onDoubleClick:t.props.onDoubleClickEvent,onKeyPress:t.props.onKeyPressEvent,onSelectSlot:t.props.onSelectSlot,longPressThreshold:t.props.longPressThreshold,resizable:d})},t}return kx(r,[{key:"renderHeaderCells",value:function(t){var n=this,r=this.props,i=r.localizer,o=r.getDrilldownView,a=r.getNow,s=r.getters.dayProp,u=r.components.header,c=void 0===u?OD:u,l=a();return t.map((function(t,r){var a=o(t),u=i.format(t,"dayFormat"),f=s(t),h=f.className,d=f.style,p=e.createElement(c,{date:t,label:u,localizer:i});return e.createElement("div",{key:r,style:d,className:Bx("rbc-header",h,i.isSameDate(t,l)&&"rbc-today")},a?e.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(e){return n.handleHeaderClick(t,a,e)}},p):e.createElement("span",null,p))}))}},{key:"render",value:function(){var t=this,n=this.props,r=n.width,i=n.rtl,o=n.resources,a=n.range,s=n.events,u=n.getNow,c=n.accessors,l=n.selectable,f=n.components,h=n.getters,d=n.scrollRef,p=n.localizer,v=n.isOverflowing,g=n.components,m=g.timeGutterHeader,y=g.resourceHeader,b=void 0===y?eN:y,w=n.resizable,_={};v&&(_[i?"marginLeft":"marginRight"]="".concat(aO(),"px"));var x=o.groupEvents(s);return e.createElement("div",{style:_,ref:d,className:Bx("rbc-time-header",v&&"rbc-overflowing")},e.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:r,minWidth:r,maxWidth:r}},m&&e.createElement(m,null)),o.map((function(n,r){var o=jn(n,2),s=o[0],d=o[1];return e.createElement("div",{className:"rbc-time-header-content",key:s||r},d&&e.createElement("div",{className:"rbc-row rbc-row-resource",key:"resource_".concat(r)},e.createElement("div",{className:"rbc-header"},e.createElement(b,{index:r,label:c.resourceTitle(d),resource:d}))),e.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(a.length<=1?" rbc-time-header-cell-single-day":"")},t.renderHeaderCells(a)),e.createElement(PD,{isAllDay:!0,rtl:i,getNow:u,minRows:2,range:a,events:x.get(s)||[],resourceId:d&&s,className:"rbc-allday-cell",selectable:l,selected:t.props.selected,components:f,accessors:c,getters:h,localizer:p,onSelect:t.props.onSelectEvent,onDoubleClick:t.props.onDoubleClickEvent,onKeyPress:t.props.onKeyPressEvent,onSelectSlot:t.props.onSelectSlot,longPressThreshold:t.props.longPressThreshold,resizable:w}))})))}}]),r}(e.Component),nN={};var rN=function(t){Tx(r,t);var n=Ox(r);function r(t){var i;return Sx(this,r),(i=n.call(this,t)).handleScroll=function(e){i.scrollRef.current&&(i.scrollRef.current.scrollLeft=e.target.scrollLeft)},i.handleResize=function(){OE(i.rafHandle),i.rafHandle=AE(i.checkOverflow)},i.handleSelectAlldayEvent=function(){i.clearSelection();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];CA(i.props.onSelectEvent,t)},i.handleSelectAllDaySlot=function(e,t){var n=i.props.onSelectSlot,r=new Date(e[0]),o=new Date(e[e.length-1]);o.setDate(e[e.length-1].getDate()+1),CA(n,{slots:e,start:r,end:o,action:t.action,resourceId:t.resourceId})},i.checkOverflow=function(){if(!i._updatingOverflow){var e=i.contentRef.current,t=e.scrollHeight>e.clientHeight;i.state.isOverflowing!==t&&(i._updatingOverflow=!0,i.setState({isOverflowing:t},(function(){i._updatingOverflow=!1})))}},i.memoizedResources=NP((function(e,t){return function(e,t){return{map:function(n){return e?e.map((function(e,r){return n([t.resourceId(e),e],r)})):[n([nN,null],0)]},groupEvents:function(n){var r=new Map;return e?(n.forEach((function(e){var n=t.resource(e)||nN,i=r.get(n)||[];i.push(e),r.set(n,i)})),r):(r.set(nN,n),r)}}}(e,t)})),i.state={gutterWidth:void 0,isOverflowing:null},i.scrollRef=e.createRef(),i.contentRef=e.createRef(),i._scrollRatio=null,i.gutterRef=(0,e.createRef)(),i}return kx(r,[{key:"UNSAFE_componentWillMount",value:function(){this.calculateScroll()}},{key:"componentDidMount",value:function(){this.checkOverflow(),null==this.props.width&&this.measureGutter(),this.applyScroll(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),OE(this.rafHandle),this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest)}},{key:"componentDidUpdate",value:function(){null==this.props.width&&this.measureGutter(),this.applyScroll()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this.props,n=t.range,r=t.scrollToTime,i=t.localizer;(i.neq(e.range[0],n[0],"minutes")||i.neq(e.scrollToTime,r,"minutes"))&&this.calculateScroll(e)}},{key:"renderEvents",value:function(t,n,r,i){var o=this,a=this.props,s=a.min,u=a.max,c=a.components,l=a.accessors,f=a.localizer,h=a.dayLayoutAlgorithm,d=this.memoizedResources(this.props.resources,l),p=d.groupEvents(n),v=d.groupEvents(r);return d.map((function(n,r){var a=jn(n,2),d=a[0],g=a[1];return t.map((function(t,n){var a=(p.get(d)||[]).filter((function(e){return f.inRange(t,l.start(e),l.end(e),"day")})),m=(v.get(d)||[]).filter((function(e){return f.inRange(t,l.start(e),l.end(e),"day")}));return e.createElement(XD,Object.assign({},o.props,{localizer:f,min:f.merge(t,s),max:f.merge(t,u),resource:g&&d,components:c,isNow:f.isSameDate(t,i),key:r+"-"+n,date:t,events:a,backgroundEvents:m,dayLayoutAlgorithm:h}))}))}))}},{key:"render",value:function(){var t=this.props,n=t.events,r=t.backgroundEvents,i=t.range,o=t.width,a=t.rtl,s=t.selected,u=t.getNow,c=t.resources,l=t.components,f=t.accessors,h=t.getters,d=t.localizer,p=t.min,v=t.max,g=t.showMultiDayTimes,m=t.longPressThreshold,y=t.resizable;o=o||this.state.gutterWidth;var b=i[0],w=i[i.length-1];this.slots=i.length;var _=[],x=[],S=[];return n.forEach((function(e){if(wD(e,b,w,f,d)){var t=f.start(e),n=f.end(e);f.allDay(e)||d.startAndEndAreDateOnly(t,n)||!g&&!d.isSameDate(t,n)?_.push(e):x.push(e)}})),r.forEach((function(e){wD(e,b,w,f,d)&&S.push(e)})),_.sort((function(e,t){return xD(e,t,f,d)})),e.createElement("div",{className:Bx("rbc-time-view",c&&"rbc-time-view-resources")},e.createElement(tN,{range:i,events:_,width:o,rtl:a,getNow:u,localizer:d,selected:s,resources:this.memoizedResources(c,f),selectable:this.props.selectable,accessors:f,getters:h,components:l,scrollRef:this.scrollRef,isOverflowing:this.state.isOverflowing,longPressThreshold:m,onSelectSlot:this.handleSelectAllDaySlot,onSelectEvent:this.handleSelectAlldayEvent,onDoubleClickEvent:this.props.onDoubleClickEvent,onKeyPressEvent:this.props.onKeyPressEvent,onDrillDown:this.props.onDrillDown,getDrilldownView:this.props.getDrilldownView,resizable:y}),e.createElement("div",{ref:this.contentRef,className:"rbc-time-content",onScroll:this.handleScroll},e.createElement(ZD,{date:b,ref:this.gutterRef,localizer:d,min:d.merge(b,p),max:d.merge(b,v),step:this.props.step,getNow:this.props.getNow,timeslots:this.props.timeslots,components:l,className:"rbc-time-gutter",getters:h}),this.renderEvents(i,x,S,u())))}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}},{key:"measureGutter",value:function(){var e=this;this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest),this.measureGutterAnimationFrameRequest=window.requestAnimationFrame((function(){var t,n=oO(null===(t=e.gutterRef)||void 0===t?void 0:t.current);n&&e.state.gutterWidth!==n&&e.setState({gutterWidth:n})}))}},{key:"applyScroll",value:function(){if(null!=this._scrollRatio&&!0===this.props.enableAutoScroll){var e=this.contentRef.current;e.scrollTop=e.scrollHeight*this._scrollRatio,this._scrollRatio=null}}},{key:"calculateScroll",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=e.min,n=e.max,r=e.scrollToTime,i=e.localizer,o=r-i.startOf(r,"day"),a=i.diff(t,n,"milliseconds");this._scrollRatio=o/a}}]),r}(e.Component);rN.defaultProps={step:30,timeslots:2};var iN=["date","localizer","min","max","scrollToTime","enableAutoScroll"],oN=function(t){Tx(r,t);var n=Ox(r);function r(){return Sx(this,r),n.apply(this,arguments)}return kx(r,[{key:"render",value:function(){var t=this.props,n=t.date,i=t.localizer,o=t.min,a=void 0===o?i.startOf(new Date,"day"):o,s=t.max,u=void 0===s?i.endOf(new Date,"day"):s,c=t.scrollToTime,l=void 0===c?i.startOf(new Date,"day"):c,f=t.enableAutoScroll,h=void 0===f||f,d=_x(t,iN),p=r.range(n,{localizer:i});return e.createElement(rN,Object.assign({},d,{range:p,eventOffset:10,localizer:i,min:a,max:u,scrollToTime:l,enableAutoScroll:h}))}}]),r}(e.Component);oN.range=function(e,t){return[t.localizer.startOf(e,"day")]},oN.navigate=function(e,t,n){var r=n.localizer;switch(t){case _A:return r.add(e,-1,"day");case xA:return r.add(e,1,"day");default:return e}},oN.title=function(e,t){return t.localizer.format(e,"dayHeaderFormat")};var aN=["date","localizer","min","max","scrollToTime","enableAutoScroll"],sN=function(t){Tx(r,t);var n=Ox(r);function r(){return Sx(this,r),n.apply(this,arguments)}return kx(r,[{key:"render",value:function(){var t=this.props,n=t.date,i=t.localizer,o=t.min,a=void 0===o?i.startOf(new Date,"day"):o,s=t.max,u=void 0===s?i.endOf(new Date,"day"):s,c=t.scrollToTime,l=void 0===c?i.startOf(new Date,"day"):c,f=t.enableAutoScroll,h=void 0===f||f,d=_x(t,aN),p=r.range(n,this.props);return e.createElement(rN,Object.assign({},d,{range:p,eventOffset:15,localizer:i,min:a,max:u,scrollToTime:l,enableAutoScroll:h}))}}]),r}(e.Component);sN.defaultProps=rN.defaultProps,sN.navigate=function(e,t,n){var r=n.localizer;switch(t){case _A:return r.add(e,-1,"week");case xA:return r.add(e,1,"week");default:return e}},sN.range=function(e,t){var n=t.localizer,r=n.startOfWeek(),i=n.startOf(e,"week",r),o=n.endOf(e,"week",r);return n.range(i,o)},sN.title=function(e,t){var n=t.localizer,r=sO(sN.range(e,{localizer:n})),i=r[0],o=r.slice(1);return n.format({start:i,end:o.pop()},"dayRangeHeaderFormat")};var uN=["date","localizer","min","max","scrollToTime","enableAutoScroll"];function cN(e,t){return sN.range(e,t).filter((function(e){return-1===[6,0].indexOf(e.getDay())}))}var lN,fN=function(t){Tx(r,t);var n=Ox(r);function r(){return Sx(this,r),n.apply(this,arguments)}return kx(r,[{key:"render",value:function(){var t=this.props,n=t.date,r=t.localizer,i=t.min,o=void 0===i?r.startOf(new Date,"day"):i,a=t.max,s=void 0===a?r.endOf(new Date,"day"):a,u=t.scrollToTime,c=void 0===u?r.startOf(new Date,"day"):u,l=t.enableAutoScroll,f=void 0===l||l,h=_x(t,uN),d=cN(n,this.props);return e.createElement(rN,Object.assign({},h,{range:d,eventOffset:15,localizer:r,min:o,max:s,scrollToTime:c,enableAutoScroll:f}))}}]),r}(e.Component);function hN(t){var n=t.accessors,r=t.components,i=t.date,o=t.events,a=t.getters,s=t.length,u=t.localizer,c=t.onDoubleClickEvent,l=t.onSelectEvent,f=t.selected,h=(0,e.useRef)(null),d=(0,e.useRef)(null),p=(0,e.useRef)(null),v=(0,e.useRef)(null),g=(0,e.useRef)(null);(0,e.useEffect)((function(){y()}));var m=function(t,i){var o="",a=r.time,s=u.messages.allDay,c=n.end(i),l=n.start(i);return n.allDay(i)||(u.eq(l,c)?s=u.format(l,"agendaTimeFormat"):u.isSameDate(l,c)?s=u.format({start:l,end:c},"agendaTimeRangeFormat"):u.isSameDate(t,l)?s=u.format(l,"agendaTimeFormat"):u.isSameDate(t,c)&&(s=u.format(c,"agendaTimeFormat"))),u.gt(t,l,"day")&&(o="rbc-continues-prior"),u.lt(t,c,"day")&&(o+=" rbc-continues-after"),e.createElement("span",{className:o.trim()},a?e.createElement(a,{event:i,day:t,label:s}):s)},y=function(){if(g.current){var e=h.current,t=g.current.firstChild;if(t){var n,r,i=v.current.scrollHeight>v.current.clientHeight,o=[],a=o;o=[oO(t.children[0]),oO(t.children[1])],a[0]===o[0]&&a[1]===o[1]||(d.current.style.width=o[0]+"px",p.current.style.width=o[1]+"px"),i?(r="rbc-header-overflowing",(n=e).classList?n.classList.add(r):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,r)||("string"===typeof n.className?n.className=n.className+" "+r:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+r)),e.style.marginRight=aO()+"px"):function(e,t){e.classList?e.classList.remove(t):"string"===typeof e.className?e.className=uO(e.className,t):e.setAttribute("class",uO(e.className&&e.className.baseVal||"",t))}(e,"rbc-header-overflowing")}}},b=u.messages,w=u.add(i,s,"day"),_=u.range(i,w,"day");return(o=o.filter((function(e){return wD(e,u.startOf(i,"day"),u.endOf(w,"day"),n,u)}))).sort((function(e,t){return+n.start(e)-+n.start(t)})),e.createElement("div",{className:"rbc-agenda-view"},0!==o.length?e.createElement(e.Fragment,null,e.createElement("table",{ref:h,className:"rbc-agenda-table"},e.createElement("thead",null,e.createElement("tr",null,e.createElement("th",{className:"rbc-header",ref:d},b.date),e.createElement("th",{className:"rbc-header",ref:p},b.time),e.createElement("th",{className:"rbc-header"},b.event)))),e.createElement("div",{className:"rbc-agenda-content",ref:v},e.createElement("table",{className:"rbc-agenda-table"},e.createElement("tbody",{ref:g},_.map((function(t,i){return function(t,i,o){var s=r.event,h=r.date;return i=i.filter((function(e){return wD(e,u.startOf(t,"day"),u.endOf(t,"day"),n,u)})),i.map((function(r,d){var p=n.title(r),v=n.end(r),g=n.start(r),y=a.eventProp(r,g,v,eD(r,f)),b=0===d&&u.format(t,"agendaDateFormat"),w=0===d&&e.createElement("td",{rowSpan:i.length,className:"rbc-agenda-date-cell"},h?e.createElement(h,{day:t,label:b}):b);return e.createElement("tr",{key:o+"_"+d,className:y.className,style:y.style},w,e.createElement("td",{className:"rbc-agenda-time-cell"},m(t,r)),e.createElement("td",{className:"rbc-agenda-event-cell",onClick:function(e){return l&&l(r,e)},onDoubleClick:function(e){return c&&c(r,e)}},s?e.createElement(s,{event:r,title:p}):p))}),[])}(t,o,i)})))))):e.createElement("span",{className:"rbc-agenda-empty"},b.noEventsInRange))}fN.defaultProps=rN.defaultProps,fN.range=cN,fN.navigate=sN.navigate,fN.title=function(e,t){var n=t.localizer,r=sO(cN(e,{localizer:n})),i=r[0],o=r.slice(1);return n.format({start:i,end:o.pop()},"dayRangeHeaderFormat")},hN.defaultProps={length:30},hN.range=function(e,t){var n=t.length,r=void 0===n?hN.defaultProps.length:n;return{start:e,end:t.localizer.add(e,r,"day")}},hN.navigate=function(e,t,n){var r=n.length,i=void 0===r?hN.defaultProps.length:r,o=n.localizer;switch(t){case _A:return o.add(e,-i,"day");case xA:return o.add(e,i,"day");default:return e}},hN.title=function(e,t){var n=t.length,r=void 0===n?hN.defaultProps.length:n,i=t.localizer,o=i.add(e,r,"day");return i.format({start:e,end:o},"agendaHeaderFormat")};var dN=(yx(lN={},kA.MONTH,RD),yx(lN,kA.WEEK,sN),yx(lN,kA.WORK_WEEK,fN),yx(lN,kA.DAY,oN),yx(lN,kA.AGENDA,hN),lN),pN=["action","date","today"];function vN(e,t){var n=t.action,r=t.date,i=t.today,o=_x(t,pN);switch(e="string"===typeof e?dN[e]:e,n){case SA:r=i||new Date;break;case EA:break;default:Dx()(e&&"function"===typeof e.navigate,"Calendar View components must implement a static `.navigate(date, action)` method.s"),r=e.navigate(r,n,o)}return r}var gN=function(t){Tx(r,t);var n=Ox(r);function r(){var e;Sx(this,r);for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return(e=n.call.apply(n,[this].concat(i))).navigate=function(t){e.props.onNavigate(t)},e.view=function(t){e.props.onView(t)},e}return kx(r,[{key:"render",value:function(){var t=this.props,n=t.localizer.messages,r=t.label;return e.createElement("div",{className:"rbc-toolbar"},e.createElement("span",{className:"rbc-btn-group"},e.createElement("button",{type:"button",onClick:this.navigate.bind(null,SA)},n.today),e.createElement("button",{type:"button",onClick:this.navigate.bind(null,_A)},n.previous),e.createElement("button",{type:"button",onClick:this.navigate.bind(null,xA)},n.next)),e.createElement("span",{className:"rbc-toolbar-label"},r),e.createElement("span",{className:"rbc-btn-group"},this.viewNamesGroup(n)))}},{key:"viewNamesGroup",value:function(t){var n=this,r=this.props.views,i=this.props.view;if(r.length>1)return r.map((function(r){return e.createElement("button",{type:"button",key:r,className:Bx({"rbc-active":i===r}),onClick:n.view.bind(null,r)},t[r])}))}}]),r}(e.Component);var mN=function(e){return function(t){return function(e,t){var n=null;return"function"===typeof t?n=t(e):"string"===typeof t&&"object"===xx(e)&&null!=e&&t in e&&(n=e[t]),n}(t,e)}},yN=["view","date","getNow","onNavigate"],bN=["view","toolbar","events","backgroundEvents","style","className","elementProps","date","getNow","length","showMultiDayTimes","onShowMore","doShowMoreDrillDown","components","formats","messages","culture"];function wN(e){return Array.isArray(e)?e:Object.keys(e)}function _N(e,t){return-1!==wN(t.views).indexOf(e)}var xN=function(t){Tx(r,t);var n=Ox(r);function r(){var e;Sx(this,r);for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return(e=n.call.apply(n,[this].concat(i))).getViews=function(){var t=e.props.views;return Array.isArray(t)?yA(t,(function(e,t){return e[t]=dN[t]}),{}):"object"===xx(t)?bA(t,(function(e,t){return!0===e?dN[t]:e})):dN},e.getView=function(){return e.getViews()[e.props.view]},e.getDrilldownView=function(t){var n=e.props,r=n.view,i=n.drilldownView,o=n.getDrilldownView;return o?o(t,r,Object.keys(e.getViews())):i},e.handleRangeChange=function(t,n,r){var i=e.props,o=i.onRangeChange,a=i.localizer;o&&n.range&&o(n.range(t,{localizer:a}),r)},e.handleNavigate=function(t,n){var r=e.props,i=r.view,o=r.date,a=r.getNow,s=r.onNavigate,u=_x(r,yN),c=e.getView(),l=a();s(o=vN(c,wx(wx({},u),{},{action:t,date:n||o||l,today:l})),i,t),e.handleRangeChange(o,c)},e.handleViewChange=function(t){t!==e.props.view&&_N(t,e.props)&&e.props.onView(t);var n=e.getViews();e.handleRangeChange(e.props.date||e.props.getNow(),n[t],t)},e.handleSelectEvent=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];CA(e.props.onSelectEvent,n)},e.handleDoubleClickEvent=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];CA(e.props.onDoubleClickEvent,n)},e.handleKeyPressEvent=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];CA(e.props.onKeyPressEvent,n)},e.handleSelectSlot=function(t){CA(e.props.onSelectSlot,t)},e.handleDrillDown=function(t,n){var r=e.props.onDrillDown;r?r(t,n,e.drilldownView):(n&&e.handleViewChange(n),e.handleNavigate(EA,t))},e.state={context:e.getContext(e.props)},e}return kx(r,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.setState({context:this.getContext(e)})}},{key:"getContext",value:function(e){var t=e.startAccessor,n=e.endAccessor,r=e.allDayAccessor,i=e.tooltipAccessor,o=e.titleAccessor,a=e.resourceAccessor,s=e.resourceIdAccessor,u=e.resourceTitleAccessor,c=e.eventPropGetter,l=e.backgroundEventPropGetter,f=e.slotPropGetter,h=e.slotGroupPropGetter,d=e.dayPropGetter,p=e.view,v=e.views,g=e.localizer,m=e.culture,y=e.messages,b=void 0===y?{}:y,w=e.components,_=void 0===w?{}:w,x=e.formats,S=void 0===x?{}:x,E=wN(v);return{viewNames:E,localizer:QA(g,m,S,function(e){return wx(wx({},XA),e)}(b)),getters:{eventProp:function(){return c&&c.apply(void 0,arguments)||{}},backgroundEventProp:function(){return l&&l.apply(void 0,arguments)||{}},slotProp:function(){return f&&f.apply(void 0,arguments)||{}},slotGroupProp:function(){return h&&h.apply(void 0,arguments)||{}},dayProp:function(){return d&&d.apply(void 0,arguments)||{}}},components:mA(_[p]||{},dA(_,E),{eventWrapper:wA,backgroundEventWrapper:wA,eventContainerWrapper:wA,dateCellWrapper:wA,weekWrapper:wA,timeSlotWrapper:wA}),accessors:{start:mN(t),end:mN(n),allDay:mN(r),tooltip:mN(i),title:mN(o),resource:mN(a),resourceId:mN(s),resourceTitle:mN(u)}}}},{key:"render",value:function(){var t=this.props,n=t.view,r=t.toolbar,i=t.events,o=t.backgroundEvents,a=t.style,s=t.className,u=t.elementProps,c=t.date,l=t.getNow,f=t.length,h=t.showMultiDayTimes,d=t.onShowMore,p=t.doShowMoreDrillDown;t.components,t.formats,t.messages,t.culture;var v=_x(t,bN);c=c||l();var g=this.getView(),m=this.state.context,y=m.accessors,b=m.components,w=m.getters,_=m.localizer,x=m.viewNames,S=b.toolbar||gN,E=g.title(c,{localizer:_,length:f});return e.createElement("div",Object.assign({},u,{className:Bx(s,"rbc-calendar",v.rtl&&"rbc-rtl"),style:a}),r&&e.createElement(S,{date:c,view:n,views:x,label:E,onView:this.handleViewChange,onNavigate:this.handleNavigate,localizer:_}),e.createElement(g,Object.assign({},v,{events:i,backgroundEvents:o,date:c,getNow:l,length:f,localizer:_,getters:w,components:b,accessors:y,showMultiDayTimes:h,getDrilldownView:this.getDrilldownView,onNavigate:this.handleNavigate,onDrillDown:this.handleDrillDown,onSelectEvent:this.handleSelectEvent,onDoubleClickEvent:this.handleDoubleClickEvent,onKeyPressEvent:this.handleKeyPressEvent,onSelectSlot:this.handleSelectSlot,onShowMore:d,doShowMoreDrillDown:p})))}}]),r}(e.Component);xN.defaultProps={events:[],backgroundEvents:[],elementProps:{},popup:!1,toolbar:!0,view:kA.MONTH,views:[kA.MONTH,kA.WEEK,kA.DAY,kA.AGENDA],step:30,length:30,doShowMoreDrillDown:!0,drilldownView:kA.DAY,titleAccessor:"title",tooltipAccessor:"title",allDayAccessor:"allDay",startAccessor:"start",endAccessor:"end",resourceAccessor:"resourceId",resourceIdAccessor:"id",resourceTitleAccessor:"title",longPressThreshold:250,getNow:function(){return new Date},dayLayoutAlgorithm:"overlap"};var SN=function t(n,r,i){void 0===i&&(i=[]);var o,a=n.displayName||n.name||"Component",s=!!(o=n)&&("function"!==typeof o||o.prototype&&o.prototype.isReactComponent),u=Object.keys(r),c=u.map(jx);!s&&i.length&&Dx()(!1);var h=function(t){function o(){for(var e,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];(e=t.call.apply(t,[this].concat(o))||this).handlers=Object.create(null),u.forEach((function(t){var n=r[t];e.handlers[n]=function(r){if(e.props[n]){var i;e._notifying=!0;for(var o=arguments.length,a=new Array(o>1?o-1:0),s=1;s<o;s++)a[s-1]=arguments[s];(i=e.props)[n].apply(i,[r].concat(a)),e._notifying=!1}e.unmounted||e.setState((function(e){var n,i=e.values;return{values:l(Object.create(null),i,(n={},n[t]=r,n))}}))}})),i.length&&(e.attachRef=function(t){e.inner=t});var s=Object.create(null);return u.forEach((function(t){s[t]=e.props[jx(t)]})),e.state={values:s,prevProps:{}},e}q(o,t);var a=o.prototype;return a.shouldComponentUpdate=function(){return!this._notifying},o.getDerivedStateFromProps=function(e,t){var n=t.values,r=t.prevProps,i={values:l(Object.create(null),n),prevProps:{}};return u.forEach((function(t){i.prevProps[t]=e[t],!Rx(e,t)&&Rx(r,t)&&(i.values[t]=e[jx(t)])})),i},a.componentWillUnmount=function(){this.unmounted=!0},a.render=function(){var t=this,r=this.props,i=r.innerRef,o=f(r,["innerRef"]);c.forEach((function(e){delete o[e]}));var a={};return u.forEach((function(e){var n=t.props[e];a[e]=void 0!==n?n:t.state.values[e]})),e.createElement(n,l({},o,a,this.handlers,{ref:i||this.attachRef}))},o}(e.Component);!function(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!==typeof e.getDerivedStateFromProps&&"function"!==typeof t.getSnapshotBeforeUpdate)return e;var n=null,r=null,i=null;if("function"===typeof t.componentWillMount?n="componentWillMount":"function"===typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"===typeof t.componentWillReceiveProps?r="componentWillReceiveProps":"function"===typeof t.UNSAFE_componentWillReceiveProps&&(r="UNSAFE_componentWillReceiveProps"),"function"===typeof t.componentWillUpdate?i="componentWillUpdate":"function"===typeof t.UNSAFE_componentWillUpdate&&(i="UNSAFE_componentWillUpdate"),null!==n||null!==r||null!==i){var o=e.displayName||e.name,a="function"===typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+o+" uses "+a+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==r?"\n  "+r:"")+(null!==i?"\n  "+i:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"===typeof e.getDerivedStateFromProps&&(t.componentWillMount=Mx,t.componentWillReceiveProps=Lx),"function"===typeof t.getSnapshotBeforeUpdate){if("function"!==typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=Fx;var s=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;s.call(this,e,t,r)}}}(h),h.displayName="Uncontrolled("+a+")",h.propTypes=l({innerRef:function(){}},function(e,t){var n={};return Object.keys(e).forEach((function(e){n[jx(e)]=Nx})),n}(r)),i.forEach((function(e){h.prototype[e]=function(){var t;return(t=this.inner)[e].apply(t,arguments)}}));var d=h;return e.forwardRef&&(d=e.forwardRef((function(t,n){return e.createElement(h,l({},t,{innerRef:n,__source:{fileName:"/Users/jquense/src/uncontrollable/src/uncontrollable.js",lineNumber:128},__self:this}))})),d.propTypes=h.propTypes),d.ControlledComponent=n,d.deferControlTo=function(e,n,i){return void 0===n&&(n={}),t(e,l({},r,n),i)},d}(xN,{view:"onView",date:"onNavigate",selected:"onSelectEvent"});var EN=function(e,t,n){var r=e.start,i=e.end;return"".concat(n.format(r,"p",t)," \u2013 ").concat(n.format(i,"p",t))},kN={dateFormat:"dd",dayFormat:"dd eee",weekdayFormat:"cccc",selectRangeFormat:EN,eventTimeRangeFormat:EN,eventTimeRangeStartFormat:function(e,t,n){var r=e.start;return"".concat(n.format(r,"h:mma",t)," \u2013 ")},eventTimeRangeEndFormat:function(e,t,n){var r=e.end;return" \u2013 ".concat(n.format(r,"h:mma",t))},timeGutterFormat:"p",monthHeaderFormat:"MMMM yyyy",dayHeaderFormat:"cccc MMM dd",dayRangeHeaderFormat:function(e,t,n){var r=e.start,i=e.end;return"".concat(n.format(r,"MMMM dd",t)," \u2013 ").concat(n.format(i,iS(r,i,"month")?"dd":"MMMM dd",t))},agendaHeaderFormat:function(e,t,n){var r=e.start,i=e.end;return"".concat(n.format(r,"P",t)," \u2013 ").concat(n.format(i,"P",t))},agendaDateFormat:"ccc MMM dd",agendaTimeFormat:"p",agendaTimeRangeFormat:EN},TN=function(e){var t=e.startOfWeek,n=e.getDay,r=e.format,i=e.locales;return new $A({formats:kN,firstOfWeek:function(e){return n(t(new Date,{locale:i[e]}))},format:function(e,t,n){return r(new Date(e),t,{locale:i[n]})}})}({format:function(e,t,n){Dw(2,arguments);var r=String(t),i=n||{},o=i.locale||Mw.default,a=o.options&&o.options.firstWeekContainsDate,s=null==a?1:Lw(a),u=null==i.firstWeekContainsDate?s:Lw(i.firstWeekContainsDate);if(!(u>=1&&u<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var c=o.options&&o.options.weekStartsOn,l=null==c?0:Lw(c),f=null==i.weekStartsOn?l:Lw(i.weekStartsOn);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!o.localize)throw new RangeError("locale must contain localize property");if(!o.formatLong)throw new RangeError("locale must contain formatLong property");var h=Rw(e);if(!jw(h))throw new RangeError("Invalid time value");var d=p_(h),p=Uw(h,d),v={firstWeekContainsDate:u,weekStartsOn:f,locale:o,_originalDate:h},g=r.match(__).map((function(e){var t=e[0];return"p"===t||"P"===t?(0,d_[t])(e,o.formatLong,v):e})).join("").match(w_).map((function(n){if("''"===n)return"'";var r=n[0];if("'"===r)return k_(n);var a=l_[r];if(a)return!i.useAdditionalWeekYearTokens&&y_(n)&&b_(n,t,e),!i.useAdditionalDayOfYearTokens&&m_(n)&&b_(n,t,e),a(p,n,o.localize,v);if(r.match(E_))throw new RangeError("Format string contains an unescaped latin alphabet character `"+r+"`");return n})).join("");return g},parse:function(e,t,n,r){Dw(3,arguments);var i=String(e),o=String(t),a=r||{},s=a.locale||Mw.default;if(!s.match)throw new RangeError("locale must contain match property");var u=s.options&&s.options.firstWeekContainsDate,c=null==u?1:Lw(u),l=null==a.firstWeekContainsDate?c:Lw(a.firstWeekContainsDate);if(!(l>=1&&l<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var f=s.options&&s.options.weekStartsOn,h=null==f?0:Lw(f),d=null==a.weekStartsOn?h:Lw(a.weekStartsOn);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(""===o)return""===i?Rw(n):new Date(NaN);var p,v={firstWeekContainsDate:l,weekStartsOn:d,locale:s},g=[{priority:10,subPriority:-1,set:gx,index:0}],m=o.match(fx).map((function(e){var t=e[0];return"p"===t||"P"===t?(0,d_[t])(e,s.formatLong,v):e})).join("").match(lx),y=[];for(p=0;p<m.length;p++){var b=m[p];!a.useAdditionalWeekYearTokens&&y_(b)&&b_(b,o,e),!a.useAdditionalDayOfYearTokens&&m_(b)&&b_(b,o,e);var w=b[0],_=cx[w];if(_){var x=_.incompatibleTokens;if(Array.isArray(x)){for(var S=void 0,E=0;E<y.length;E++){var k=y[E].token;if(-1!==x.indexOf(k)||k===w){S=y[E];break}}if(S)throw new RangeError("The format string mustn't contain `".concat(S.fullToken,"` and `").concat(b,"` at the same time"))}else if("*"===_.incompatibleTokens&&y.length)throw new RangeError("The format string mustn't contain `".concat(b,"` and any other token at the same time"));y.push({token:w,fullToken:b});var T=_.parse(i,b,s.match,v);if(!T)return new Date(NaN);g.push({priority:_.priority,subPriority:_.subPriority||0,set:_.set,validate:_.validate,value:T.value,index:g.length}),i=T.rest}else{if(w.match(vx))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");if("''"===b?b="'":"'"===w&&(b=mx(b)),0!==i.indexOf(b))return new Date(NaN);i=i.slice(b.length)}}if(i.length>0&&px.test(i))return new Date(NaN);var C=g.map((function(e){return e.priority})).sort((function(e,t){return t-e})).filter((function(e,t,n){return n.indexOf(e)===t})).map((function(e){return g.filter((function(t){return t.priority===e})).sort((function(e,t){return t.subPriority-e.subPriority}))})).map((function(e){return e[0]})),I=Rw(n);if(isNaN(I))return new Date(NaN);var P=Uw(I,p_(I)),O={};for(p=0;p<C.length;p++){var A=C[p];if(A.validate&&!A.validate(P,A.value,v))return new Date(NaN);var D=A.set(P,O,A.value,v);D[0]?(P=D[0],T_(O,D[1])):P=D}return P},startOfWeek:function(e,t){Dw(1,arguments);var n=t||{},r=n.locale,i=r&&r.options&&r.options.weekStartsOn,o=null==i?0:Lw(i),a=null==n.weekStartsOn?o:Lw(n.weekStartsOn);if(!(a>=0&&a<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var s=Rw(e),u=s.getDay(),c=(u<a?7:0)+u-a;return s.setDate(s.getDate()-c),s.setHours(0,0,0,0),s},getDay:function(e){Dw(1,arguments);var t=Rw(e),n=t.getDay();return n},locales:{"en-US":n(6704)}});new Date(2022,6,10,10,0),new Date(2022,6,10,14,0),new Date(2022,6,7,10,0),new Date(2022,6,10,14,0),new Date(2022,6,17,8,0),new Date(2022,6,17,9,0),new Date(2022,6,20,0,0),new Date(2022,6,23,0,0);var CN,IN,PN,ON,AN,DN=function(e){var t=e.events;return(0,jb.jsx)("div",{className:"App",children:(0,jb.jsx)(SN,{localizer:TN,events:t,startAccessor:"start",endAccessor:"end",style:{height:500,margin:"50px"}})})},NN=On.div(CN||(CN=nt(["\n  max-width: 100%;\n"]))),RN=On.div(IN||(IN=nt(["\n  max-width: 1128px;\n  margin: auto;\n  margin-top: 60px;\n"]))),jN=On.nav(PN||(PN=nt(["\n  margin-left: auto;\n  margin-bottom: -50px;\n  display: block;\n  @media (max-width: 768px) {\n    position: fixed;\n    left: 0;\n    bottom: 0;\n    background: white;\n    width: 100%;\n  }\n"]))),MN=On.ul(ON||(ON=nt(["\n  display: flex;\n  flex-wrap: nowrap;\n  list-style-type: none;\n  justify-content: space-between;\n"]))),LN=On.li(AN||(AN=nt(["\n  display: flex;\n  align-items: center;\n  a {\n    align-items: center;\n    background: transparent;\n    display: flex;\n    flex-direction: column;\n    font-size: 12px;\n    font-weight: 400;\n    justify-content: center;\n    line-height: 1.5;\n    min-height: 52px;\n    min-width: 100px;\n    position: relative;\n    text-decoration: none;\n    span {\n      color: rgba(0, 0, 0, 0.6);\n      display: flex;\n      align-items: center;\n      text-align: center;\n    }\n    @media (max-width: 768px) {\n      min-width: 50px;\n      font-size: 9px;\n      span > img {\n        width: 60%;\n      }\n    }\n  }\n"])));var FN,UN=F((function(e){return{user:e.userState.user}}))((function(t){var n=jn((0,e.useState)([]),2),r=n[0],i=n[1],o=t.user.uid;return(0,e.useEffect)((function(){ob.collection("CLDDB").get().then((function(e){var t=[];e.docs.forEach((function(e){if(e.data().userUID===o){var n={id:e.id,title:e.data().title,start:Tb(e.data().startDate,e.data().startTime),end:Tb(e.data().endDate,e.data().endTime)};t.push(n)}})),i(t)}))}),[]),(0,jb.jsxs)(NN,{children:[!t.user&&(0,jb.jsx)(Re,{to:"/"}),(0,jb.jsx)(Xb,{}),(0,jb.jsx)(jN,{children:(0,jb.jsxs)(MN,{children:[(0,jb.jsx)(LN,{children:(0,jb.jsx)(Ze,{to:"/calendarevents",children:(0,jb.jsx)("a",{href:"/calendarevents",children:(0,jb.jsx)("img",{src:"/images/Togglebtn1.svg",alt:""})})})}),(0,jb.jsx)(LN,{children:(0,jb.jsx)(Ze,{to:"/createnewcalendar",children:(0,jb.jsx)("a",{href:"/createnewcalendar",children:(0,jb.jsx)("img",{src:"/images/Addbtn1.svg",alt:""})})})})]})}),(0,jb.jsx)(RN,{children:(0,jb.jsx)(DN,{userUID:o,events:r})})]})}));n(6895);(FN=em).prototype.loadBundle=ym,FN.prototype.namedQuery=bm;var BN={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},qN=function(e){function t(n,r,i){var o=e.call(this,r)||this;return Object.setPrototypeOf(o,t.prototype),o.code=n,o.details=i,o}return(0,Fn.__extends)(t,e),t}(Error);var VN=function(){function e(e,t){var n=this;this.auth=null,this.messaging=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then((function(e){return n.auth=e}),(function(){})),this.messaging||t.get().then((function(e){return n.messaging=e}),(function(){}))}return e.prototype.getAuthToken=function(){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var e;return(0,Fn.__generator)(this,(function(t){switch(t.label){case 0:if(!this.auth)return[2,void 0];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(e=t.sent())?[2,e.accessToken]:[2,void 0];case 3:return t.sent(),[2,void 0];case 4:return[2]}}))}))},e.prototype.getInstanceIdToken=function(){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){return(0,Fn.__generator)(this,(function(e){switch(e.label){case 0:if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.messaging.getToken()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,void 0];case 4:return[2]}}))}))},e.prototype.getContext=function(){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var e,t;return(0,Fn.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return e=n.sent(),[4,this.getInstanceIdToken()];case 2:return t=n.sent(),[2,{authToken:e,instanceIdToken:t}]}}))}))},e}();function zN(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}var WN=function(){function e(){}return e.prototype.encode=function(e){var t=this;if(null==e)return null;if(e instanceof Number&&(e=e.valueOf()),"number"===typeof e&&isFinite(e))return e;if(!0===e||!1===e)return e;if("[object String]"===Object.prototype.toString.call(e))return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map((function(e){return t.encode(e)}));if("function"===typeof e||"object"===typeof e)return zN(e,(function(e){return t.encode(e)}));throw new Error("Data cannot be encoded in JSON: "+e)},e.prototype.decode=function(e){var t=this;if(null==e)return e;if(e["@type"])switch(e["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(e.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+e);return n;default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map((function(e){return t.decode(e)})):"function"===typeof e||"object"===typeof e?zN(e,(function(e){return t.decode(e)})):e},e}();var HN=function(){function e(e,t,n,r,i,o){var a=this;void 0===i&&(i="us-central1"),this.app_=e,this.appCheckProvider=r,this.fetchImpl=o,this.serializer=new WN,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(a.deleteService())}},this.contextProvider=new VN(t,n),this.cancelAllRequests=new Promise((function(e){a.deleteService=function(){return e()}}));try{var s=new URL(i);this.customDomain=s.origin,this.region="us-central1"}catch(wm){this.customDomain=null,this.region=i}}return Object.defineProperty(e.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),e.prototype._url=function(e){var t=this.app_.options.projectId;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+t+"/"+this.region+"/"+e:null!==this.customDomain?this.customDomain+"/"+e:"https://"+this.region+"-"+t+".cloudfunctions.net/"+e},e.prototype.useEmulator=function(e,t){this.emulatorOrigin="http://"+e+":"+t},e.prototype.useFunctionsEmulator=function(e){this.emulatorOrigin=e},e.prototype.httpsCallable=function(e,t){var n=this;return function(r){return n.call(e,r,t||{})}},e.prototype.postJSON=function(e,t,n){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var r,i,o;return(0,Fn.__generator)(this,(function(a){switch(a.label){case 0:return n["Content-Type"]="application/json",[4,this.getAppCheckToken()];case 1:null!==(r=a.sent())&&(n["X-Firebase-AppCheck"]=r),a.label=2;case 2:return a.trys.push([2,4,,5]),[4,this.fetchImpl(e,{method:"POST",body:JSON.stringify(t),headers:n})];case 3:return i=a.sent(),[3,5];case 4:return a.sent(),[2,{status:0,json:null}];case 5:o=null,a.label=6;case 6:return a.trys.push([6,8,,9]),[4,i.json()];case 7:return o=a.sent(),[3,9];case 8:return a.sent(),[3,9];case 9:return[2,{status:i.status,json:o}]}}))}))},e.prototype.getAppCheckToken=function(){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var e;return(0,Fn.__generator)(this,(function(t){switch(t.label){case 0:return(e=this.appCheckProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:return[2,t.sent().token];case 2:return[2,null]}}))}))},e.prototype.call=function(e,t,n){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,f,h,d;return(0,Fn.__generator)(this,(function(p){switch(p.label){case 0:return r=this._url(e),t=this.serializer.encode(t),i={data:t},o={},[4,this.contextProvider.getContext()];case 1:return(a=p.sent()).authToken&&(o.Authorization="Bearer "+a.authToken),a.instanceIdToken&&(o["Firebase-Instance-ID-Token"]=a.instanceIdToken),s=n.timeout||7e4,u=function(e){var t,n=new Promise((function(n,r){t=setTimeout((function(){r(new qN("deadline-exceeded","deadline-exceeded"))}),e)}));return{timer:t,promise:n}}(s),c=u.timer,l=u.promise,[4,Promise.race([KN(c,this.postJSON(r,i,o)),l,KN(c,this.cancelAllRequests)])];case 2:if(!(f=p.sent()))throw new qN("cancelled","Firebase Functions instance was deleted.");if(h=function(e,t,n){var r=function(e){if(e>=200&&e<300)return"ok";switch(e){case 0:case 500:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(e),i=r,o=void 0;try{var a=t&&t.error;if(a){var s=a.status;if("string"===typeof s){if(!BN[s])return new qN("internal","internal");r=BN[s],i=s}var u=a.message;"string"===typeof u&&(i=u),void 0!==(o=a.details)&&(o=n.decode(o))}}catch(wm){}return"ok"===r?null:new qN(r,i,o)}(f.status,f.json,this.serializer),h)throw h;if(!f.json)throw new qN("internal","Response is not valid JSON object.");if("undefined"===typeof(d=f.json.data)&&(d=f.json.result),"undefined"===typeof d)throw new qN("internal","Response is missing data field.");return[2,{data:this.serializer.decode(d)}]}}))}))},e}();function KN(e,t){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var n;return(0,Fn.__generator)(this,(function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),clearTimeout(e),[2,n]}}))}))}!function(e,t){var n={Functions:HN};e.INTERNAL.registerComponent(new _m.Component("functions",(function(e,n){var r=n.instanceIdentifier,i=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal"),s=e.getProvider("messaging");return new HN(i,o,s,a,r,t)}),"PUBLIC").setServiceProps(n).setMultipleInstances(!0))}(Mn.default,fetch.bind(self)),Mn.default.registerVersion("@firebase/functions","0.6.16");var GN,YN=n(348),$N="0.4.32",QN=1e4,XN="w:0.4.32",JN="FIS_v2",ZN=36e5,eR=((GN={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',GN["not-registered"]="Firebase Installation is not registered.",GN["installation-not-found"]="Firebase Installation not found.",GN["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',GN["app-offline"]="Could not process request. Application offline.",GN["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",GN),tR=new Un.ErrorFactory("installations","Installations",eR);function nR(e){return e instanceof Un.FirebaseError&&e.code.includes("request-failed")}function rR(e){return"https://firebaseinstallations.googleapis.com/v1/projects/"+e.projectId+"/installations"}function iR(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function oR(e,t){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,Fn.__generator)(this,(function(i){switch(i.label){case 0:return[4,t.json()];case 1:return n=i.sent(),r=n.error,[2,tR.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}}))}))}function aR(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function sR(e,t){var n=t.refreshToken,r=aR(e);return r.append("Authorization",function(e){return"FIS_v2 "+e}(n)),r}function uR(e){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var t;return(0,Fn.__generator)(this,(function(n){switch(n.label){case 0:return[4,e()];case 1:return(t=n.sent()).status>=500&&t.status<600?[2,e()]:[2,t]}}))}))}function cR(e,t){var n=t.fid;return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var t,r,i,o,a,s;return(0,Fn.__generator)(this,(function(u){switch(u.label){case 0:return t=rR(e),r=aR(e),i={fid:n,authVersion:JN,appId:e.appId,sdkVersion:XN},o={method:"POST",headers:r,body:JSON.stringify(i)},[4,uR((function(){return fetch(t,o)}))];case 1:return(a=u.sent()).ok?[4,a.json()]:[3,3];case 2:return s=u.sent(),[2,{fid:s.fid||n,registrationStatus:2,refreshToken:s.refreshToken,authToken:iR(s.authToken)}];case 3:return[4,oR("Create Installation",a)];case 4:throw u.sent()}}))}))}function lR(e){return new Promise((function(t){setTimeout(t,e)}))}var fR=/^[cdef][\w-]{21}$/;function hR(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){return(t=e,btoa(String.fromCharCode.apply(String,(0,Fn.__spreadArray)([],(0,Fn.__read)(t)))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var t}(e);return fR.test(t)?t:""}catch(Jv){return""}}function dR(e){return e.appName+"!"+e.appId}var pR=new Map;function vR(e,t){var n=dR(e);gR(n,t),function(e,t){var n=yR();n&&n.postMessage({key:e,fid:t});bR()}(n,t)}function gR(e,t){var n,r,i=pR.get(e);if(i)try{for(var o=(0,Fn.__values)(i),a=o.next();!a.done;a=o.next()){(0,a.value)(t)}}catch(s){n={error:s}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}var mR=null;function yR(){return!mR&&"BroadcastChannel"in self&&((mR=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){gR(e.data.key,e.data.fid)}),mR}function bR(){0===pR.size&&mR&&(mR.close(),mR=null)}var wR,_R,xR="firebase-installations-store",SR=null;function ER(){return SR||(SR=(0,YN.openDb)("firebase-installations-database",1,(function(e){if(0===e.oldVersion)e.createObjectStore(xR)}))),SR}function kR(e,t){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a;return(0,Fn.__generator)(this,(function(s){switch(s.label){case 0:return n=dR(e),[4,ER()];case 1:return r=s.sent(),i=r.transaction(xR,"readwrite"),[4,(o=i.objectStore(xR)).get(n)];case 2:return a=s.sent(),[4,o.put(t,n)];case 3:return s.sent(),[4,i.complete];case 4:return s.sent(),a&&a.fid===t.fid||vR(e,t.fid),[2,t]}}))}))}function TR(e){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return(0,Fn.__generator)(this,(function(i){switch(i.label){case 0:return t=dR(e),[4,ER()];case 1:return n=i.sent(),[4,(r=n.transaction(xR,"readwrite")).objectStore(xR).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function CR(e,t){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return(0,Fn.__generator)(this,(function(u){switch(u.label){case 0:return n=dR(e),[4,ER()];case 1:return r=u.sent(),i=r.transaction(xR,"readwrite"),[4,(o=i.objectStore(xR)).get(n)];case 2:return a=u.sent(),void 0!==(s=t(a))?[3,4]:[4,o.delete(n)];case 3:return u.sent(),[3,6];case 4:return[4,o.put(s,n)];case 5:u.sent(),u.label=6;case 6:return[4,i.complete];case 7:return u.sent(),!s||a&&a.fid===s.fid||vR(e,s.fid),[2,s]}}))}))}function IR(e){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return(0,Fn.__generator)(this,(function(i){switch(i.label){case 0:return[4,CR(e,(function(n){var r=function(e){return AR(e||{fid:hR(),registrationStatus:0})}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(tR.create("app-offline"))};var n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=function(e,t){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,Fn.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,cR(e,t)];case 1:return n=i.sent(),[2,kR(e,n)];case 2:return nR(r=i.sent())&&409===r.customData.serverCode?[4,TR(e)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,kR(e,{fid:t.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}}))}))}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:PR(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry}))];case 1:return""!==(n=i.sent()).fid?[3,3]:(r={},[4,t]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:t}]}}))}))}function PR(e){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i;return(0,Fn.__generator)(this,(function(o){switch(o.label){case 0:return[4,OR(e)];case 1:t=o.sent(),o.label=2;case 2:return 1!==t.registrationStatus?[3,5]:[4,lR(100)];case 3:return o.sent(),[4,OR(e)];case 4:return t=o.sent(),[3,2];case 5:return 0!==t.registrationStatus?[3,7]:[4,IR(e)];case 6:return n=o.sent(),r=n.installationEntry,(i=n.registrationPromise)?[2,i]:[2,r];case 7:return[2,t]}}))}))}function OR(e){return CR(e,(function(e){if(!e)throw tR.create("installation-not-found");return AR(e)}))}function AR(e){return 1===(t=e).registrationStatus&&t.registrationTime+QN<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function DR(e,t){var n=e.appConfig,r=e.platformLoggerProvider;return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var e,i,o,a,s,u,c;return(0,Fn.__generator)(this,(function(l){switch(l.label){case 0:return e=function(e,t){var n=t.fid;return rR(e)+"/"+n+"/authTokens:generate"}(n,t),i=sR(n,t),(o=r.getImmediate({optional:!0}))&&i.append("x-firebase-client",o.getPlatformInfoString()),a={installation:{sdkVersion:XN}},s={method:"POST",headers:i,body:JSON.stringify(a)},[4,uR((function(){return fetch(e,s)}))];case 1:return(u=l.sent()).ok?[4,u.json()]:[3,3];case 2:return c=l.sent(),[2,iR(c)];case 3:return[4,oR("Generate Auth Token",u)];case 4:throw l.sent()}}))}))}function NR(e,t){return void 0===t&&(t=!1),(0,Fn.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return(0,Fn.__generator)(this,(function(o){switch(o.label){case 0:return[4,CR(e.appConfig,(function(r){if(!jR(r))throw tR.create("not-registered");var i=r.authToken;if(!t&&function(e){return 2===e.requestStatus&&!function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+ZN}(e)}(i))return r;if(1===i.requestStatus)return n=function(e,t){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,Fn.__generator)(this,(function(i){switch(i.label){case 0:return[4,RR(e.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,lR(100)];case 3:return i.sent(),[4,RR(e.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return 0===(r=n.authToken).requestStatus?[2,NR(e,t)]:[2,r]}}))}))}(e,t),r;if(!navigator.onLine)throw tR.create("app-offline");var o=function(e){var t={requestStatus:1,requestTime:Date.now()};return(0,Fn.__assign)((0,Fn.__assign)({},e),{authToken:t})}(r);return n=function(e,t){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return(0,Fn.__generator)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,DR(e,t)];case 1:return n=o.sent(),i=(0,Fn.__assign)((0,Fn.__assign)({},t),{authToken:n}),[4,kR(e.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return!nR(r=o.sent())||401!==r.customData.serverCode&&404!==r.customData.serverCode?[3,5]:[4,TR(e.appConfig)];case 4:return o.sent(),[3,7];case 5:return i=(0,Fn.__assign)((0,Fn.__assign)({},t),{authToken:{requestStatus:0}}),[4,kR(e.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}}))}))}(e,o),o}))];case 1:return r=o.sent(),n?[4,n]:[3,3];case 2:return i=o.sent(),[3,4];case 3:i=r.authToken,o.label=4;case 4:return[2,i]}}))}))}function RR(e){return CR(e,(function(e){if(!jR(e))throw tR.create("not-registered");var t,n=e.authToken;return 1===(t=n).requestStatus&&t.requestTime+QN<Date.now()?(0,Fn.__assign)((0,Fn.__assign)({},e),{authToken:{requestStatus:0}}):e}))}function jR(e){return void 0!==e&&2===e.registrationStatus}function MR(e){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var t;return(0,Fn.__generator)(this,(function(n){switch(n.label){case 0:return[4,IR(e)];case 1:return(t=n.sent().registrationPromise)?[4,t]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}function LR(e,t){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o;return(0,Fn.__generator)(this,(function(a){switch(a.label){case 0:return n=function(e,t){var n=t.fid;return rR(e)+"/"+n}(e,t),r=sR(e,t),i={method:"DELETE",headers:r},[4,uR((function(){return fetch(n,i)}))];case 1:return(o=a.sent()).ok?[3,3]:[4,oR("Delete Installation",o)];case 2:throw a.sent();case 3:return[2]}}))}))}function FR(e,t){var n=e.appConfig;return function(e,t){yR();var n=dR(e),r=pR.get(n);r||(r=new Set,pR.set(n,r)),r.add(t)}(n,t),function(){!function(e,t){var n=dR(e),r=pR.get(n);r&&(r.delete(t),0===r.size&&pR.delete(n),bR())}(n,t)}}function UR(e){return tR.create("missing-app-config-values",{valueName:e})}(wR=Mn.default).INTERNAL.registerComponent(new _m.Component("installations",(function(e){var t=e.getProvider("app").getImmediate(),n=function(e){var t,n;if(!e||!e.options)throw UR("App Configuration");if(!e.name)throw UR("App Name");try{for(var r=(0,Fn.__values)(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var o=i.value;if(!e.options[o])throw UR(o)}}catch(a){t={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t),r={appConfig:n,platformLoggerProvider:e.getProvider("platform-logger")},i={app:t,getId:function(){return function(e){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return(0,Fn.__generator)(this,(function(i){switch(i.label){case 0:return[4,IR(e.appConfig)];case 1:return t=i.sent(),n=t.installationEntry,(r=t.registrationPromise)?r.catch(console.error):NR(e).catch(console.error),[2,n.fid]}}))}))}(r)},getToken:function(e){return function(e,t){return void 0===t&&(t=!1),(0,Fn.__awaiter)(this,void 0,void 0,(function(){return(0,Fn.__generator)(this,(function(n){switch(n.label){case 0:return[4,MR(e.appConfig)];case 1:return n.sent(),[4,NR(e,t)];case 2:return[2,n.sent().token]}}))}))}(r,e)},delete:function(){return function(e){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,Fn.__generator)(this,(function(r){switch(r.label){case 0:return[4,CR(t=e.appConfig,(function(e){if(!e||0!==e.registrationStatus)return e}))];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw tR.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw tR.create("app-offline");case 3:return[4,LR(t,n)];case 4:return r.sent(),[4,TR(t)];case 5:r.sent(),r.label=6;case 6:return[2]}}))}))}(r)},onIdChange:function(e){return FR(r,e)}};return i}),"PUBLIC")),wR.registerVersion("@firebase/installations",$N);var BR,qR=((_R={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',_R["only-available-in-window"]="This method is available in a Window context.",_R["only-available-in-sw"]="This method is available in a service worker context.",_R["permission-default"]="The notification permission was not granted and dismissed instead.",_R["permission-blocked"]="The notification permission was not granted and blocked instead.",_R["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",_R["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",_R["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",_R["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",_R["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",_R["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",_R["token-update-no-token"]="FCM returned no token when updating the user to push.",_R["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",_R["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",_R["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",_R["invalid-vapid-key"]="The public VAPID key must be a string.",_R["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",_R),VR=new Un.ErrorFactory("messaging","Messaging",qR),zR="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",WR="google.c.a.c_id";function HR(e){var t=new Uint8Array(e);return btoa(String.fromCharCode.apply(String,(0,Fn.__spreadArray)([],(0,Fn.__read)(t)))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function KR(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}!function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"}(BR||(BR={}));var GR="fcm_token_details_db",YR="fcm_token_object_Store";function $R(e){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i=this;return(0,Fn.__generator)(this,(function(o){switch(o.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(t=o.sent(),n=t.map((function(e){return e.name})),!n.includes(GR))return[2,null];o.label=2;case 2:return r=null,[4,(0,YN.openDb)(GR,5,(function(t){return(0,Fn.__awaiter)(i,void 0,void 0,(function(){var n,i,o,a;return(0,Fn.__generator)(this,(function(s){switch(s.label){case 0:return t.oldVersion<2?[2]:t.objectStoreNames.contains(YR)?[4,(n=t.transaction.objectStore(YR)).index("fcmSenderId").get(e)]:[2];case 1:return i=s.sent(),[4,n.clear()];case 2:if(s.sent(),!i)return[2];if(2===t.oldVersion){if(!(o=i).auth||!o.p256dh||!o.endpoint)return[2];r={token:o.fcmToken,createTime:null!==(a=o.createTime)&&void 0!==a?a:Date.now(),subscriptionOptions:{auth:o.auth,p256dh:o.p256dh,endpoint:o.endpoint,swScope:o.swScope,vapidKey:"string"===typeof o.vapidKey?o.vapidKey:HR(o.vapidKey)}}}else(3===t.oldVersion||4===t.oldVersion)&&(r={token:(o=i).fcmToken,createTime:o.createTime,subscriptionOptions:{auth:HR(o.auth),p256dh:HR(o.p256dh),endpoint:o.endpoint,swScope:o.swScope,vapidKey:HR(o.vapidKey)}});return[2]}}))}))}))];case 3:return o.sent().close(),[4,(0,YN.deleteDb)(GR)];case 4:return o.sent(),[4,(0,YN.deleteDb)("fcm_vapid_details_db")];case 5:return o.sent(),[4,(0,YN.deleteDb)("undefined")];case 6:return o.sent(),[2,QR(r)?r:null]}}))}))}function QR(e){if(!e||!e.subscriptionOptions)return!1;var t=e.subscriptionOptions;return"number"===typeof e.createTime&&e.createTime>0&&"string"===typeof e.token&&e.token.length>0&&"string"===typeof t.auth&&t.auth.length>0&&"string"===typeof t.p256dh&&t.p256dh.length>0&&"string"===typeof t.endpoint&&t.endpoint.length>0&&"string"===typeof t.swScope&&t.swScope.length>0&&"string"===typeof t.vapidKey&&t.vapidKey.length>0}var XR="firebase-messaging-store",JR=null;function ZR(){return JR||(JR=(0,YN.openDb)("firebase-messaging-database",1,(function(e){if(0===e.oldVersion)e.createObjectStore(XR)}))),JR}function ej(e){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return(0,Fn.__generator)(this,(function(i){switch(i.label){case 0:return t=rj(e),[4,ZR()];case 1:return[4,i.sent().transaction(XR).objectStore(XR).get(t)];case 2:return(n=i.sent())?[2,n]:[3,3];case 3:return[4,$R(e.appConfig.senderId)];case 4:return(r=i.sent())?[4,tj(e,r)]:[3,6];case 5:return i.sent(),[2,r];case 6:return[2]}}))}))}function tj(e,t){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return(0,Fn.__generator)(this,(function(o){switch(o.label){case 0:return n=rj(e),[4,ZR()];case 1:return r=o.sent(),[4,(i=r.transaction(XR,"readwrite")).objectStore(XR).put(t,n)];case 2:return o.sent(),[4,i.complete];case 3:return o.sent(),[2,t]}}))}))}function nj(e){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return(0,Fn.__generator)(this,(function(i){switch(i.label){case 0:return t=rj(e),[4,ZR()];case 1:return n=i.sent(),[4,(r=n.transaction(XR,"readwrite")).objectStore(XR).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function rj(e){return e.appConfig.appId}function ij(e,t){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return(0,Fn.__generator)(this,(function(u){switch(u.label){case 0:return[4,uj(e)];case 1:n=u.sent(),r=cj(t),i={method:"POST",headers:n,body:JSON.stringify(r)},u.label=2;case 2:return u.trys.push([2,5,,6]),[4,fetch(sj(e.appConfig),i)];case 3:return[4,u.sent().json()];case 4:return o=u.sent(),[3,6];case 5:throw a=u.sent(),VR.create("token-subscribe-failed",{errorInfo:a});case 6:if(o.error)throw s=o.error.message,VR.create("token-subscribe-failed",{errorInfo:s});if(!o.token)throw VR.create("token-subscribe-no-token");return[2,o.token]}}))}))}function oj(e,t){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return(0,Fn.__generator)(this,(function(u){switch(u.label){case 0:return[4,uj(e)];case 1:n=u.sent(),r=cj(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},u.label=2;case 2:return u.trys.push([2,5,,6]),[4,fetch(sj(e.appConfig)+"/"+t.token,i)];case 3:return[4,u.sent().json()];case 4:return o=u.sent(),[3,6];case 5:throw a=u.sent(),VR.create("token-update-failed",{errorInfo:a});case 6:if(o.error)throw s=o.error.message,VR.create("token-update-failed",{errorInfo:s});if(!o.token)throw VR.create("token-update-no-token");return[2,o.token]}}))}))}function aj(e,t){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a;return(0,Fn.__generator)(this,(function(s){switch(s.label){case 0:return[4,uj(e)];case 1:n=s.sent(),r={method:"DELETE",headers:n},s.label=2;case 2:return s.trys.push([2,5,,6]),[4,fetch(sj(e.appConfig)+"/"+t,r)];case 3:return[4,s.sent().json()];case 4:if((i=s.sent()).error)throw o=i.error.message,VR.create("token-unsubscribe-failed",{errorInfo:o});return[3,6];case 5:throw a=s.sent(),VR.create("token-unsubscribe-failed",{errorInfo:a});case 6:return[2]}}))}))}function sj(e){return"https://fcmregistrations.googleapis.com/v1/projects/"+e.projectId+"/registrations"}function uj(e){var t=e.appConfig,n=e.installations;return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var e;return(0,Fn.__generator)(this,(function(r){switch(r.label){case 0:return[4,n.getToken()];case 1:return e=r.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":"FIS "+e})]}}))}))}function cj(e){var t=e.p256dh,n=e.auth,r=e.endpoint,i=e.vapidKey,o={web:{endpoint:r,auth:n,p256dh:t}};return i!==zR&&(o.web.applicationPubKey=i),o}function lj(e,t,n){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a;return(0,Fn.__generator)(this,(function(s){switch(s.label){case 0:if("granted"!==Notification.permission)throw VR.create("permission-blocked");return[4,pj(t,n)];case 1:return r=s.sent(),[4,ej(e)];case 2:return i=s.sent(),o={vapidKey:n,swScope:t.scope,endpoint:r.endpoint,auth:HR(r.getKey("auth")),p256dh:HR(r.getKey("p256dh"))},i?[3,3]:[2,dj(e,o)];case 3:if(function(e,t){var n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,i=t.auth===e.auth,o=t.p256dh===e.p256dh;return n&&r&&i&&o}(i.subscriptionOptions,o))return[3,8];s.label=4;case 4:return s.trys.push([4,6,,7]),[4,aj(e,i.token)];case 5:return s.sent(),[3,7];case 6:return a=s.sent(),console.warn(a),[3,7];case 7:return[2,dj(e,o)];case 8:return Date.now()>=i.createTime+6048e5?[2,hj({token:i.token,createTime:Date.now(),subscriptionOptions:o},e,t)]:[2,i.token];case 9:return[2]}}))}))}function fj(e,t){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,Fn.__generator)(this,(function(i){switch(i.label){case 0:return[4,ej(e)];case 1:return(n=i.sent())?[4,aj(e,n.token)]:[3,4];case 2:return i.sent(),[4,nj(e)];case 3:i.sent(),i.label=4;case 4:return[4,t.pushManager.getSubscription()];case 5:return(r=i.sent())?[2,r.unsubscribe()]:[2,!0]}}))}))}function hj(e,t,n){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var r,i,o;return(0,Fn.__generator)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,3,,5]),[4,oj(t,e)];case 1:return r=a.sent(),i=(0,Fn.__assign)((0,Fn.__assign)({},e),{token:r,createTime:Date.now()}),[4,tj(t,i)];case 2:return a.sent(),[2,r];case 3:return o=a.sent(),[4,fj(t,n)];case 4:throw a.sent(),o;case 5:return[2]}}))}))}function dj(e,t){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,Fn.__generator)(this,(function(i){switch(i.label){case 0:return[4,ij(e,t)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:t},[4,tj(e,r)];case 2:return i.sent(),[2,r.token]}}))}))}function pj(e,t){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var n;return(0,Fn.__generator)(this,(function(r){switch(r.label){case 0:return[4,e.pushManager.getSubscription()];case 1:return(n=r.sent())?[2,n]:[2,e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:KR(t)})]}}))}))}function vj(e){return"object"===typeof e&&!!e&&WR in e}function gj(e){return new Promise((function(t){setTimeout(t,e)}))}var mj=function(){function e(e){var t=this;this.firebaseDependencies=e,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",(function(e){e.waitUntil(t.onPush(e))})),self.addEventListener("pushsubscriptionchange",(function(e){e.waitUntil(t.onSubChange(e))})),self.addEventListener("notificationclick",(function(e){e.waitUntil(t.onNotificationClick(e))}))}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.setBackgroundMessageHandler=function(e){if(this.isOnBackgroundMessageUsed=!1,!e||"function"!==typeof e)throw VR.create("invalid-bg-handler");this.bgMessageHandler=e},e.prototype.onBackgroundMessage=function(e){var t=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=e,function(){t.bgMessageHandler=null}},e.prototype.getToken=function(){var e,t;return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var n;return(0,Fn.__generator)(this,(function(r){switch(r.label){case 0:return this.vapidKey?[3,2]:[4,ej(this.firebaseDependencies)];case 1:n=r.sent(),this.vapidKey=null!==(t=null===(e=null===n||void 0===n?void 0:n.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==t?t:zR,r.label=2;case 2:return[2,lj(this.firebaseDependencies,self.registration,this.vapidKey)]}}))}))},e.prototype.deleteToken=function(){return fj(this.firebaseDependencies,self.registration)},e.prototype.requestPermission=function(){throw VR.create("only-available-in-window")},e.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw VR.create("use-vapid-key-after-get-token");if("string"!==typeof e||0===e.length)throw VR.create("invalid-vapid-key");this.vapidKey=e},e.prototype.useServiceWorker=function(){throw VR.create("only-available-in-window")},e.prototype.onMessage=function(){throw VR.create("only-available-in-window")},e.prototype.onTokenRefresh=function(){throw VR.create("only-available-in-window")},e.prototype.onPush=function(e){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i;return(0,Fn.__generator)(this,(function(o){switch(o.label){case 0:return t=function(e){var t=e.data;if(!t)return null;try{return t.json()}catch(n){return null}}(e),t?[4,_j()]:(console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return function(e){return e.some((function(e){return"visible"===e.visibilityState&&!e.url.startsWith("chrome-extension://")}))}(n=o.sent())?[2,wj(n,t)]:(r=!1,t.notification?[4,xj(yj(t))]:[3,3]);case 2:o.sent(),r=!0,o.label=3;case 3:return!0===r&&!1===this.isOnBackgroundMessageUsed?[2]:(this.bgMessageHandler&&(i=function(e){var t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcm_message_id};return function(e,t){if(t.notification){e.notification={};var n=t.notification.title;n&&(e.notification.title=n);var r=t.notification.body;r&&(e.notification.body=r);var i=t.notification.image;i&&(e.notification.image=i)}}(t,e),function(e,t){t.data&&(e.data=t.data)}(t,e),function(e,t){if(t.fcmOptions){e.fcmOptions={};var n=t.fcmOptions.link;n&&(e.fcmOptions.link=n);var r=t.fcmOptions.analytics_label;r&&(e.fcmOptions.analyticsLabel=r)}}(t,e),t}(t),"function"===typeof this.bgMessageHandler?this.bgMessageHandler(i):this.bgMessageHandler.next(i)),[4,gj(1e3)]);case 4:return o.sent(),[2]}}))}))},e.prototype.onSubChange=function(e){var t,n;return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var r;return(0,Fn.__generator)(this,(function(i){switch(i.label){case 0:return e.newSubscription?[3,2]:[4,fj(this.firebaseDependencies,self.registration)];case 1:case 5:return i.sent(),[2];case 2:return[4,ej(this.firebaseDependencies)];case 3:return r=i.sent(),[4,fj(this.firebaseDependencies,self.registration)];case 4:return i.sent(),[4,lj(this.firebaseDependencies,self.registration,null!==(n=null===(t=null===r||void 0===r?void 0:r.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==n?n:zR)]}}))}))},e.prototype.onNotificationClick=function(e){var t,n;return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a,s;return(0,Fn.__generator)(this,(function(u){switch(u.label){case 0:return(r=null===(n=null===(t=e.notification)||void 0===t?void 0:t.data)||void 0===n?void 0:n.FCM_MSG)?e.action?[2]:(e.stopImmediatePropagation(),e.notification.close(),i=function(e){var t,n,r,i=null!==(n=null===(t=e.fcmOptions)||void 0===t?void 0:t.link)&&void 0!==n?n:null===(r=e.notification)||void 0===r?void 0:r.click_action;if(i)return i;return vj(e.data)?self.location.origin:null}(r),i?(o=new URL(i,self.location.href),a=new URL(self.location.origin),o.host!==a.host?[2]:[4,bj(o)]):[2]):[2];case 1:return(s=u.sent())?[3,4]:[4,self.clients.openWindow(i)];case 2:return s=u.sent(),[4,gj(3e3)];case 3:return u.sent(),[3,6];case 4:return[4,s.focus()];case 5:s=u.sent(),u.label=6;case 6:return s?(r.messageType=BR.NOTIFICATION_CLICKED,r.isFirebaseMessaging=!0,[2,s.postMessage(r)]):[2]}}))}))},e}();function yj(e){var t,n=(0,Fn.__assign)({},e.notification);return n.data=((t={}).FCM_MSG=e,t),n}function bj(e){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i,o,a,s;return(0,Fn.__generator)(this,(function(u){switch(u.label){case 0:return[4,_j()];case 1:t=u.sent();try{for(n=(0,Fn.__values)(t),r=n.next();!r.done;r=n.next())if(i=r.value,o=new URL(i.url,self.location.href),e.host===o.host)return[2,i]}catch(c){a={error:c}}finally{try{r&&!r.done&&(s=n.return)&&s.call(n)}finally{if(a)throw a.error}}return[2,null]}}))}))}function wj(e,t){var n,r;t.isFirebaseMessaging=!0,t.messageType=BR.PUSH_RECEIVED;try{for(var i=(0,Fn.__values)(e),o=i.next();!o.done;o=i.next()){o.value.postMessage(t)}}catch(a){n={error:a}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function _j(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function xj(e){var t,n=e.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!==(t=e.title)&&void 0!==t?t:"",e)}var Sj=function(){function e(e){var t=this;this.firebaseDependencies=e,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",(function(e){return t.messageEventListener(e)}))}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.messageEventListener=function(e){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,Fn.__generator)(this,(function(r){switch(r.label){case 0:return(t=e.data).isFirebaseMessaging?(this.onMessageCallback&&t.messageType===BR.PUSH_RECEIVED&&("function"===typeof this.onMessageCallback?this.onMessageCallback(function(e){return delete e.messageType,delete e.isFirebaseMessaging,e}(Object.assign({},t))):this.onMessageCallback.next(Object.assign({},t))),vj(n=t.data)&&"1"===n["google.c.a.e"]?[4,this.logEvent(t.messageType,n)]:[3,2]):[2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.getVapidKey=function(){return this.vapidKey},e.prototype.getSwReg=function(){return this.swRegistration},e.prototype.getToken=function(e){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){return(0,Fn.__generator)(this,(function(t){switch(t.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:t.sent(),t.label=2;case 2:if("granted"!==Notification.permission)throw VR.create("permission-blocked");return[4,this.updateVapidKey(null===e||void 0===e?void 0:e.vapidKey)];case 3:return t.sent(),[4,this.updateSwReg(null===e||void 0===e?void 0:e.serviceWorkerRegistration)];case 4:return t.sent(),[2,lj(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}}))}))},e.prototype.updateVapidKey=function(e){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){return(0,Fn.__generator)(this,(function(t){return e?this.vapidKey=e:this.vapidKey||(this.vapidKey=zR),[2]}))}))},e.prototype.updateSwReg=function(e){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){return(0,Fn.__generator)(this,(function(t){switch(t.label){case 0:return e||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:if(!e&&this.swRegistration)return[2];if(!(e instanceof ServiceWorkerRegistration))throw VR.create("invalid-sw-registration");return this.swRegistration=e,[2]}}))}))},e.prototype.registerDefaultSw=function(){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var e,t;return(0,Fn.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),e=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return e.swRegistration=n.sent(),this.swRegistration.update().catch((function(){})),[3,3];case 2:throw t=n.sent(),VR.create("failed-service-worker-registration",{browserErrorMessage:t.message});case 3:return[2]}}))}))},e.prototype.deleteToken=function(){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){return(0,Fn.__generator)(this,(function(e){switch(e.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:return[2,fj(this.firebaseDependencies,this.swRegistration)]}}))}))},e.prototype.requestPermission=function(){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var e;return(0,Fn.__generator)(this,(function(t){switch(t.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(e=t.sent()))return[2];throw"denied"===e?VR.create("permission-blocked"):VR.create("permission-default")}}))}))},e.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw VR.create("use-vapid-key-after-get-token");if("string"!==typeof e||0===e.length)throw VR.create("invalid-vapid-key");this.vapidKey=e},e.prototype.useServiceWorker=function(e){if(!(e instanceof ServiceWorkerRegistration))throw VR.create("invalid-sw-registration");if(this.swRegistration)throw VR.create("use-sw-after-get-token");this.swRegistration=e},e.prototype.onMessage=function(e){var t=this;return this.onMessageCallback=e,function(){t.onMessageCallback=null}},e.prototype.setBackgroundMessageHandler=function(){throw VR.create("only-available-in-sw")},e.prototype.onBackgroundMessage=function(){throw VR.create("only-available-in-sw")},e.prototype.onTokenRefresh=function(){return function(){}},e.prototype.logEvent=function(e,t){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var n;return(0,Fn.__generator)(this,(function(r){switch(r.label){case 0:return n=function(e){switch(e){case BR.NOTIFICATION_CLICKED:return"notification_open";case BR.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return r.sent().logEvent(n,{message_id:t["google.c.a.c_id"],message_name:t["google.c.a.c_l"],message_time:t["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}}))}))},e}();function Ej(e){return VR.create("missing-app-config-values",{valueName:e})}var kj={isSupported:Tj};function Tj(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}Mn.default.INTERNAL.registerComponent(new _m.Component("messaging",(function(e){var t=e.getProvider("app").getImmediate(),n=function(e){var t,n;if(!e||!e.options)throw Ej("App Configuration Object");if(!e.name)throw Ej("App Name");var r=e.options;try{for(var i=(0,Fn.__values)(["projectId","apiKey","appId","messagingSenderId"]),o=i.next();!o.done;o=i.next()){var a=o.value;if(!r[a])throw Ej(a)}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return{appName:e.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}(t),r={app:t,appConfig:n,installations:e.getProvider("installations").getImmediate(),analyticsProvider:e.getProvider("analytics-internal")};if(!Tj())throw VR.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new mj(r):new Sj(r)}),"PUBLIC").setServiceProps(kj));var Cj,Ij,Pj,Oj="0.4.18",Aj=Oj,Dj="FB-PERF-TRACE-MEASURE",Nj="_wt_",Rj="_fcp",jj="_fid",Mj="@firebase/performance/config",Lj="@firebase/performance/configexpire",Fj="Performance",Uj=((Cj={})["trace started"]="Trace {$traceName} was started before.",Cj["trace stopped"]="Trace {$traceName} is not running.",Cj["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",Cj["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",Cj["no window"]="Window is not available.",Cj["no app id"]="App id is not available.",Cj["no project id"]="Project id is not available.",Cj["no api key"]="Api key is not available.",Cj["invalid cc log"]="Attempted to queue invalid cc event",Cj["FB not default"]="Performance can only start when Firebase app instance is the default one.",Cj["RC response not ok"]="RC response is not ok",Cj["invalid attribute name"]="Attribute name {$attributeName} is invalid.",Cj["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",Cj["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",Cj["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",Cj),Bj=new Un.ErrorFactory("performance",Fj,Uj),qj=new Bn.Logger(Fj);qj.logLevel=Bn.LogLevel.INFO;var Vj,zj=function(){function e(e){if(this.window=e,!e)throw Bj.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay)}return e.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},e.prototype.mark=function(e){this.performance&&this.performance.mark&&this.performance.mark(e)},e.prototype.measure=function(e,t,n){this.performance&&this.performance.measure&&this.performance.measure(e,t,n)},e.prototype.getEntriesByType=function(e){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(e):[]},e.prototype.getEntriesByName=function(e){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(e):[]},e.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},e.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!(0,Un.isIndexedDBAvailable)()||(qj.info("IndexedDB is not supported by current browswer"),!1):(qj.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},e.prototype.setupObserver=function(e,t){if(this.PerformanceObserver){var n=new this.PerformanceObserver((function(e){for(var n=0,r=e.getEntries();n<r.length;n++){var i=r[n];t(i)}}));n.observe({entryTypes:[e]})}},e.getInstance=function(){return void 0===Ij&&(Ij=new e(Pj)),Ij},e}();function Wj(e,t){var n=e.length-t.length;if(n<0||n>1)throw Bj.create("invalid String merger input");for(var r=[],i=0;i<e.length;i++)r.push(e.charAt(i)),t.length>i&&r.push(t.charAt(i));return r.join("")}var Hj,Kj,Gj=function(){function e(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=Wj("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=Wj("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return e.prototype.getAppId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!e)throw Bj.create("no app id");return e},e.prototype.getProjectId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!e)throw Bj.create("no project id");return e},e.prototype.getApiKey=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!e)throw Bj.create("no api key");return e},e.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},e.getInstance=function(){return void 0===Vj&&(Vj=new e),Vj},e}();function Yj(){return Hj}!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.VISIBLE=1]="VISIBLE",e[e.HIDDEN=2]="HIDDEN"}(Kj||(Kj={}));var $j=["firebase_","google_","ga_"],Qj=new RegExp("^[a-zA-Z]\\w*$");function Xj(){var e=zj.getInstance().navigator;return"serviceWorker"in e?e.serviceWorker.controller?2:3:1}function Jj(){switch(zj.getInstance().document.visibilityState){case"visible":return Kj.VISIBLE;case"hidden":return Kj.HIDDEN;default:return Kj.UNKNOWN}}function Zj(){var e=zj.getInstance().navigator.connection;switch(e&&e.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}var eM="0.0.1",tM=!0,nM="FIREBASE_INSTALLATIONS_AUTH";function rM(e){var t=function(){var e=zj.getInstance().localStorage;if(!e)return;var t=e.getItem(Lj);if(!t||(n=t,!(Number(n)>Date.now())))return;var n;var r=e.getItem(Mj);if(!r)return;try{return JSON.parse(r)}catch(Jv){return}}();return t?(oM(t),Promise.resolve()):function(e){return function(){var e=Gj.getInstance().installationsService.getToken();return e.then((function(e){})),e}().then((function(t){var n="https://firebaseremoteconfig.googleapis.com/v1/projects/"+Gj.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+Gj.getInstance().getApiKey(),r=new Request(n,{method:"POST",headers:{Authorization:nM+" "+t},body:JSON.stringify({app_instance_id:e,app_instance_id_token:t,app_id:Gj.getInstance().getAppId(),app_version:Aj,sdk_version:eM})});return fetch(r).then((function(e){if(e.ok)return e.json();throw Bj.create("RC response not ok")}))})).catch((function(){qj.info(iM)}))}(e).then(oM).then((function(e){return function(e){var t=zj.getInstance().localStorage;if(!e||!t)return;t.setItem(Mj,JSON.stringify(e)),t.setItem(Lj,String(Date.now()+60*Gj.getInstance().configTimeToLive*60*1e3))}(e)}),(function(){}))}var iM="Could not fetch config, will use default configs";function oM(e){if(!e)return e;var t=Gj.getInstance(),n=e.entries||{};return void 0!==n.fpr_enabled?t.loggingEnabled="true"===String(n.fpr_enabled):t.loggingEnabled=tM,n.fpr_log_source&&(t.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(t.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(t.transportKey=n.fpr_log_transport_key),void 0!==n.fpr_vc_network_request_sampling_rate&&(t.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(t.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),t.logTraceAfterSampling=aM(t.tracesSamplingRate),t.logNetworkAfterSampling=aM(t.networkRequestsSamplingRate),e}function aM(e){return Math.random()<=e}var sM,uM=1;function cM(){return uM=2,sM=sM||function(){var e=zj.getInstance().document;return new Promise((function(t){if(e&&"complete"!==e.readyState){var n=function n(){"complete"===e.readyState&&(e.removeEventListener("readystatechange",n),t())};e.addEventListener("readystatechange",n)}else t()}))}().then((function(){return function(){var e=Gj.getInstance().installationsService.getId();return e.then((function(e){Hj=e})),e}()})).then((function(e){return rM(e)})).then((function(){return lM()}),(function(){return lM()}))}function lM(){uM=3}var fM,hM=1e4,dM=3,pM=[],vM=!1;function gM(e){setTimeout((function(){if(0!==dM)return pM.length?void function(){var e=pM.splice(0,1e3),t=e.map((function(e){return{source_extension_json_proto3:e.message,event_time_ms:String(e.eventTime)}}));(function(e,t){return function(e){var t=Gj.getInstance().getFlTransportFullUrl();return fetch(t,{method:"POST",body:JSON.stringify(e)})}(e).then((function(e){return e.ok||qj.info("Call to Firebase backend failed."),e.json()})).then((function(e){var n=Number(e.nextRequestWaitMillis),r=hM;isNaN(n)||(r=Math.max(n,r));var i=e.logResponseDetails;Array.isArray(i)&&i.length>0&&"RETRY_REQUEST_LATER"===i[0].responseAction&&(pM=(0,Fn.__spreadArray)((0,Fn.__spreadArray)([],t),pM),qj.info("Retry transport request later.")),dM=3,gM(r)}))})({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:Gj.getInstance().logSource,log_event:t},e).catch((function(){pM=(0,Fn.__spreadArray)((0,Fn.__spreadArray)([],e),pM),dM--,qj.info("Tries left: "+dM+"."),gM(hM)}))}():gM(hM)}),e)}function mM(e){if(!e.eventTime||!e.message)throw Bj.create("invalid cc log");pM=(0,Fn.__spreadArray)((0,Fn.__spreadArray)([],pM),[e])}function yM(e,t){fM||(fM=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];mM({message:e.apply(void 0,t),eventTime:Date.now()})}}(_M)),fM(e,t)}function bM(e){var t=Gj.getInstance();!t.instrumentationEnabled&&e.isAuto||(t.dataCollectionEnabled||e.isAuto)&&zj.getInstance().requiredApisAvailable()&&(e.isAuto&&Jj()!==Kj.VISIBLE||(3===uM?wM(e):cM().then((function(){return wM(e)}),(function(){return wM(e)}))))}function wM(e){if(Yj()){var t=Gj.getInstance();t.loggingEnabled&&t.logTraceAfterSampling&&setTimeout((function(){return yM(e,1)}),0)}}function _M(e,t){return 0===t?function(e){var t={url:e.url,http_method:e.httpMethod||0,http_response_code:200,response_payload_bytes:e.responsePayloadBytes,client_start_time_us:e.startTimeUs,time_to_response_initiated_us:e.timeToResponseInitiatedUs,time_to_response_completed_us:e.timeToResponseCompletedUs},n={application_info:xM(),network_request_metric:t};return JSON.stringify(n)}(e):function(e){var t={name:e.name,is_auto:e.isAuto,client_start_time_us:e.startTimeUs,duration_us:e.durationUs};0!==Object.keys(e.counters).length&&(t.counters=e.counters);var n=e.getAttributes();0!==Object.keys(n).length&&(t.custom_attributes=n);var r={application_info:xM(),trace_metric:t};return JSON.stringify(r)}(e)}function xM(){return{google_app_id:Gj.getInstance().getAppId(),app_instance_id:Yj(),web_app_info:{sdk_version:Aj,page_url:zj.getInstance().getUrl(),service_worker_status:Xj(),visibility_state:Jj(),effective_connection_type:Zj()},application_process_state:0}}var SM=["_fp",Rj,jj];var EM=function(){function e(e,t,n){void 0===t&&(t=!1),this.name=e,this.isAuto=t,this.state=1,this.customAttributes={},this.counters={},this.api=zj.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=n||"FB-PERF-TRACE-MEASURE-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}return e.prototype.start=function(){if(1!==this.state)throw Bj.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},e.prototype.stop=function(){if(2!==this.state)throw Bj.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),bM(this)},e.prototype.record=function(e,t,n){if(e<=0)throw Bj.create("nonpositive trace startTime",{traceName:this.name});if(t<=0)throw Bj.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*t),this.startTimeUs=Math.floor(1e3*e),n&&n.attributes&&(this.customAttributes=(0,Fn.__assign)({},n.attributes)),n&&n.metrics)for(var r=0,i=Object.keys(n.metrics);r<i.length;r++){var o=i[r];isNaN(Number(n.metrics[o]))||(this.counters[o]=Number(Math.floor(n.metrics[o])))}bM(this)},e.prototype.incrementMetric=function(e,t){void 0===t&&(t=1),void 0===this.counters[e]?this.putMetric(e,t):this.putMetric(e,this.counters[e]+t)},e.prototype.putMetric=function(e,t){if(n=e,r=this.name,0===n.length||n.length>100||!(r&&r.startsWith(Nj)&&SM.indexOf(n)>-1)&&n.startsWith("_"))throw Bj.create("invalid custom metric name",{customMetricName:e});var n,r;this.counters[e]=function(e){var t=Math.floor(e);return t<e&&qj.info("Metric value should be an Integer, setting the value as : "+t+"."),t}(t)},e.prototype.getMetric=function(e){return this.counters[e]||0},e.prototype.putAttribute=function(e,t){var n=function(e){if(0===e.length||e.length>40)return!1;var t=$j.some((function(t){return e.startsWith(t)}));return!t&&!!e.match(Qj)}(e),r=function(e){return 0!==e.length&&e.length<=100}(t);if(n&&r)this.customAttributes[e]=t;else{if(!n)throw Bj.create("invalid attribute name",{attributeName:e});if(!r)throw Bj.create("invalid attribute value",{attributeValue:t})}},e.prototype.getAttribute=function(e){return this.customAttributes[e]},e.prototype.removeAttribute=function(e){void 0!==this.customAttributes[e]&&delete this.customAttributes[e]},e.prototype.getAttributes=function(){return(0,Fn.__assign)({},this.customAttributes)},e.prototype.setStartTime=function(e){this.startTimeUs=e},e.prototype.setDuration=function(e){this.durationUs=e},e.prototype.calculateTraceMetrics=function(){var e=this.api.getEntriesByName(this.traceMeasure),t=e&&e[0];t&&(this.durationUs=Math.floor(1e3*t.duration),this.startTimeUs=Math.floor(1e3*(t.startTime+this.api.getTimeOrigin())))},e.createOobTrace=function(t,n,r){var i=zj.getInstance().getUrl();if(i){var o=new e(Nj+i,!0),a=Math.floor(1e3*zj.getInstance().getTimeOrigin());o.setStartTime(a),t&&t[0]&&(o.setDuration(Math.floor(1e3*t[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*t[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*t[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*t[0].loadEventEnd)));if(n){var s=n.find((function(e){return"first-paint"===e.name}));s&&s.startTime&&o.putMetric("_fp",Math.floor(1e3*s.startTime));var u=n.find((function(e){return"first-contentful-paint"===e.name}));u&&u.startTime&&o.putMetric(Rj,Math.floor(1e3*u.startTime)),r&&o.putMetric(jj,Math.floor(1e3*r))}bM(o)}},e.createUserTimingTrace=function(t){bM(new e(t,!1,t))},e}();function kM(e){var t=e;if(t&&void 0!==t.responseStart){var n=zj.getInstance().getTimeOrigin(),r=Math.floor(1e3*(t.startTime+n)),i=t.responseStart?Math.floor(1e3*(t.responseStart-t.startTime)):void 0,o=Math.floor(1e3*(t.responseEnd-t.startTime));!function(e){var t=Gj.getInstance();if(t.instrumentationEnabled){var n=e.url,r=t.logEndPointUrl.split("?")[0],i=t.flTransportEndpointUrl.split("?")[0];n!==r&&n!==i&&t.loggingEnabled&&t.logNetworkAfterSampling&&setTimeout((function(){return yM(e,0)}),0)}}({url:t.name&&t.name.split("?")[0],responsePayloadBytes:t.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:o})}}function TM(){Yj()&&(setTimeout((function(){return function(){var e=zj.getInstance(),t=e.getEntriesByType("navigation"),n=e.getEntriesByType("paint");if(e.onFirstInputDelay){var r=setTimeout((function(){EM.createOobTrace(t,n),r=void 0}),5e3);e.onFirstInputDelay((function(e){r&&(clearTimeout(r),EM.createOobTrace(t,n,e))}))}else EM.createOobTrace(t,n)}()}),0),setTimeout((function(){return function(){for(var e=zj.getInstance(),t=e.getEntriesByType("resource"),n=0,r=t;n<r.length;n++){kM(r[n])}e.setupObserver("resource",kM)}()}),0),setTimeout((function(){return function(){for(var e=zj.getInstance(),t=e.getEntriesByType("measure"),n=0,r=t;n<r.length;n++){CM(r[n])}e.setupObserver("measure",CM)}()}),0))}function CM(e){var t=e.name;t.substring(0,Dj.length)!==Dj&&EM.createUserTimingTrace(t)}var IM=function(){function e(e){this.app=e,zj.getInstance().requiredApisAvailable()&&(0,Un.validateIndexedDBOpenable)().then((function(e){e&&(vM||(gM(5500),vM=!0),cM().then(TM,TM))})).catch((function(e){qj.info("Environment doesn't support IndexedDB: "+e)}))}return e.prototype.trace=function(e){return new EM(e)},Object.defineProperty(e.prototype,"instrumentationEnabled",{get:function(){return Gj.getInstance().instrumentationEnabled},set:function(e){Gj.getInstance().instrumentationEnabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dataCollectionEnabled",{get:function(){return Gj.getInstance().dataCollectionEnabled},set:function(e){Gj.getInstance().dataCollectionEnabled=e},enumerable:!1,configurable:!0}),e}();!function(e){var t=function(e,t){if("[DEFAULT]"!==e.name)throw Bj.create("FB not default");if("undefined"===typeof window)throw Bj.create("no window");return function(e){Pj=e}(window),Gj.getInstance().firebaseAppInstance=e,Gj.getInstance().installationsService=t,new IM(e)};e.INTERNAL.registerComponent(new _m.Component("performance",(function(e){var n=e.getProvider("app").getImmediate(),r=e.getProvider("installations").getImmediate();return t(n,r)}),"PUBLIC")),e.registerVersion("@firebase/performance",Oj)}(Mn.default);var PM,OM,AM="https://www.googletagmanager.com/gtag/js";!function(e){e.EVENT="event",e.SET="set",e.CONFIG="config"}(PM||(PM={})),function(e){e.ADD_SHIPPING_INFO="add_shipping_info",e.ADD_PAYMENT_INFO="add_payment_info",e.ADD_TO_CART="add_to_cart",e.ADD_TO_WISHLIST="add_to_wishlist",e.BEGIN_CHECKOUT="begin_checkout",e.CHECKOUT_PROGRESS="checkout_progress",e.EXCEPTION="exception",e.GENERATE_LEAD="generate_lead",e.LOGIN="login",e.PAGE_VIEW="page_view",e.PURCHASE="purchase",e.REFUND="refund",e.REMOVE_FROM_CART="remove_from_cart",e.SCREEN_VIEW="screen_view",e.SEARCH="search",e.SELECT_CONTENT="select_content",e.SELECT_ITEM="select_item",e.SELECT_PROMOTION="select_promotion",e.SET_CHECKOUT_OPTION="set_checkout_option",e.SHARE="share",e.SIGN_UP="sign_up",e.TIMING_COMPLETE="timing_complete",e.VIEW_CART="view_cart",e.VIEW_ITEM="view_item",e.VIEW_ITEM_LIST="view_item_list",e.VIEW_PROMOTION="view_promotion",e.VIEW_SEARCH_RESULTS="view_search_results"}(OM||(OM={}));var DM,NM=new Bn.Logger("@firebase/analytics");function RM(e,t,n,r,i,o){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var a,s,u,c;return(0,Fn.__generator)(this,(function(l){switch(l.label){case 0:a=r[i],l.label=1;case 1:return l.trys.push([1,7,,8]),a?[4,t[a]]:[3,3];case 2:return l.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return s=l.sent(),u=s.find((function(e){return e.measurementId===i})),u?[4,t[u.appId]]:[3,6];case 5:l.sent(),l.label=6;case 6:return[3,8];case 7:return c=l.sent(),NM.error(c),[3,8];case 8:return e(PM.CONFIG,i,o),[2]}}))}))}function jM(e,t,n,r,i){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var o,a,s,u,c,l,f,h;return(0,Fn.__generator)(this,(function(d){switch(d.label){case 0:return d.trys.push([0,4,,5]),o=[],i&&i.send_to?(a=i.send_to,Array.isArray(a)||(a=[a]),[4,Promise.all(n)]):[3,2];case 1:for(s=d.sent(),u=function(e){var n=s.find((function(t){return t.measurementId===e})),r=n&&t[n.appId];if(!r)return o=[],"break";o.push(r)},c=0,l=a;c<l.length&&(f=l[c],"break"!==u(f));c++);d.label=2;case 2:return 0===o.length&&(o=Object.values(t)),[4,Promise.all(o)];case 3:return d.sent(),e(PM.EVENT,r,i||{}),[3,5];case 4:return h=d.sent(),NM.error(h),[3,5];case 5:return[2]}}))}))}function MM(e,t,n,r,i){var o=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(o=window[i]),window[i]=function(e,t,n,r){return function(i,o,a){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var s;return(0,Fn.__generator)(this,(function(u){switch(u.label){case 0:return u.trys.push([0,6,,7]),i!==PM.EVENT?[3,2]:[4,jM(e,t,n,o,a)];case 1:return u.sent(),[3,5];case 2:return i!==PM.CONFIG?[3,4]:[4,RM(e,t,n,r,o,a)];case 3:return u.sent(),[3,5];case 4:e(PM.SET,o),u.label=5;case 5:return[3,7];case 6:return s=u.sent(),NM.error(s),[3,7];case 7:return[2]}}))}))}}(o,e,t,n),{gtagCore:o,wrappedGtag:window[i]}}var LM=((DM={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",DM["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",DM["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",DM["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",DM["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",DM["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",DM["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",DM["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',DM["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',DM),FM=new Un.ErrorFactory("analytics","Analytics",LM),UM=new(function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t=1e3),this.throttleMetadata=e,this.intervalMillis=t}return e.prototype.getThrottleMetadata=function(e){return this.throttleMetadata[e]},e.prototype.setThrottleMetadata=function(e,t){this.throttleMetadata[e]=t},e.prototype.deleteThrottleMetadata=function(e){delete this.throttleMetadata[e]},e}());function BM(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function qM(e){var t;return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return(0,Fn.__generator)(this,(function(c){switch(c.label){case 0:return n=e.appId,r=e.apiKey,i={method:"GET",headers:BM(r)},o="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),[4,fetch(o,i)];case 1:if(200===(a=c.sent()).status||304===a.status)return[3,6];s="",c.label=2;case 2:return c.trys.push([2,4,,5]),[4,a.json()];case 3:return u=c.sent(),(null===(t=u.error)||void 0===t?void 0:t.message)&&(s=u.error.message),[3,5];case 4:return c.sent(),[3,5];case 5:throw FM.create("config-fetch-failed",{httpStatus:a.status,responseMessage:s});case 6:return[2,a.json()]}}))}))}function VM(e,t,n,r){var i=t.throttleEndTimeMillis,o=t.backoffCount;return void 0===r&&(r=UM),(0,Fn.__awaiter)(this,void 0,void 0,(function(){var t,a,s,u,c,l,f;return(0,Fn.__generator)(this,(function(h){switch(h.label){case 0:t=e.appId,a=e.measurementId,h.label=1;case 1:return h.trys.push([1,3,,4]),[4,zM(n,i)];case 2:return h.sent(),[3,4];case 3:if(s=h.sent(),a)return NM.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+a+' provided in the "measurementId" field in the local Firebase config. ['+s.message+"]"),[2,{appId:t,measurementId:a}];throw s;case 4:return h.trys.push([4,6,,7]),[4,qM(e)];case 5:return u=h.sent(),r.deleteThrottleMetadata(t),[2,u];case 6:if(!function(e){if(!(e instanceof Un.FirebaseError)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(c=h.sent())){if(r.deleteThrottleMetadata(t),a)return NM.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+a+' provided in the "measurementId" field in the local Firebase config. ['+c.message+"]"),[2,{appId:t,measurementId:a}];throw c}return l=503===Number(c.customData.httpStatus)?(0,Un.calculateBackoffMillis)(o,r.intervalMillis,30):(0,Un.calculateBackoffMillis)(o,r.intervalMillis),f={throttleEndTimeMillis:Date.now()+l,backoffCount:o+1},r.setThrottleMetadata(t,f),NM.debug("Calling attemptFetch again in "+l+" millis"),[2,VM(e,f,n,r)];case 7:return[2]}}))}))}function zM(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener((function(){clearTimeout(o),r(FM.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}var WM=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(e){this.listeners.push(e)},e.prototype.abort=function(){this.listeners.forEach((function(e){return e()}))},e}();function HM(e,t,n,r,i,o){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var a,s,u,c,l,f,h;return(0,Fn.__generator)(this,(function(d){switch(d.label){case 0:return a=function(e,t,n){return void 0===t&&(t=UM),(0,Fn.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a,s,u,c=this;return(0,Fn.__generator)(this,(function(l){if(r=e.options,i=r.appId,o=r.apiKey,a=r.measurementId,!i)throw FM.create("no-app-id");if(!o){if(a)return[2,{measurementId:a,appId:i}];throw FM.create("no-api-key")}return s=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new WM,setTimeout((function(){return(0,Fn.__awaiter)(c,void 0,void 0,(function(){return(0,Fn.__generator)(this,(function(e){return u.abort(),[2]}))}))}),void 0!==n?n:6e4),[2,VM({appId:i,apiKey:o,measurementId:a},s,u,t)]}))}))}(e),a.then((function(t){n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&NM.warn("The measurement ID in the local Firebase config ("+e.options.measurementId+") does not match the measurement ID fetched from the server ("+t.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(e){return NM.error(e)})),t.push(a),s=function(){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var e;return(0,Fn.__generator)(this,(function(t){switch(t.label){case 0:return(0,Un.isIndexedDBAvailable)()?[3,1]:(NM.warn(FM.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return t.trys.push([1,3,,4]),[4,(0,Un.validateIndexedDBOpenable)()];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),NM.warn(FM.create("indexeddb-unavailable",{errorInfo:e}).message),[2,!1];case 4:return[2,!0]}}))}))}().then((function(e){return e?r.getId():void 0})),[4,Promise.all([a,s])];case 1:return u=d.sent(),c=u[0],l=u[1],function(){for(var e=window.document.getElementsByTagName("script"),t=0,n=Object.values(e);t<n.length;t++){var r=n[t];if(r.src&&r.src.includes(AM))return r}return null}()||function(e,t){var n=document.createElement("script");n.src=AM+"?l="+e+"&id="+t,n.async=!0,document.head.appendChild(n)}(o,c.measurementId),i("js",new Date),(h={}).origin="firebase",h.update=!0,f=h,null!=l&&(f.firebase_id=l),i(PM.CONFIG,c.measurementId,f),[2,c.measurementId]}}))}))}var KM,GM,YM={},$M=[],QM={},XM="dataLayer",JM="gtag",ZM=!1;function eL(e){if(ZM)throw FM.create("already-initialized");e.dataLayerName&&(XM=e.dataLayerName),e.gtagName&&(JM=e.gtagName)}function tL(e,t){!function(){var e=[];if((0,Un.isBrowserExtension)()&&e.push("This is a browser extension environment."),(0,Un.areCookiesEnabled)()||e.push("Cookies are not available."),e.length>0){var t=e.map((function(e,t){return"("+(t+1)+") "+e})).join(" "),n=FM.create("invalid-analytics-context",{errorInfo:t});NM.warn(n.message)}}();var n=e.options.appId;if(!n)throw FM.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw FM.create("no-api-key");NM.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+e.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=YM[n])throw FM.create("already-exists",{id:n});if(!ZM){!function(e){var t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(XM);var r=MM(YM,$M,QM,XM,JM),i=r.wrappedGtag,o=r.gtagCore;GM=i,KM=o,ZM=!0}YM[n]=HM(e,$M,QM,t,KM,XM);var a={app:e,logEvent:function(e,t,r){(function(e,t,n,r,i){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var o,a;return(0,Fn.__generator)(this,(function(s){switch(s.label){case 0:return i&&i.global?(e(PM.EVENT,n,r),[2]):[3,1];case 1:return[4,t];case 2:o=s.sent(),a=(0,Fn.__assign)((0,Fn.__assign)({},r),{send_to:o}),e(PM.EVENT,n,a),s.label=3;case 3:return[2]}}))}))})(GM,YM[n],e,t,r).catch((function(e){return NM.error(e)}))},setCurrentScreen:function(e,t){(function(e,t,n,r){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var i;return(0,Fn.__generator)(this,(function(o){switch(o.label){case 0:return r&&r.global?(e(PM.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=o.sent(),e(PM.CONFIG,i,{update:!0,screen_name:n}),o.label=3;case 3:return[2]}}))}))})(GM,YM[n],e,t).catch((function(e){return NM.error(e)}))},setUserId:function(e,t){(function(e,t,n,r){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var i;return(0,Fn.__generator)(this,(function(o){switch(o.label){case 0:return r&&r.global?(e(PM.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=o.sent(),e(PM.CONFIG,i,{update:!0,user_id:n}),o.label=3;case 3:return[2]}}))}))})(GM,YM[n],e,t).catch((function(e){return NM.error(e)}))},setUserProperties:function(e,t){(function(e,t,n,r){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var i,o,a,s,u;return(0,Fn.__generator)(this,(function(c){switch(c.label){case 0:if(!r||!r.global)return[3,1];for(i={},o=0,a=Object.keys(n);o<a.length;o++)s=a[o],i["user_properties."+s]=n[s];return e(PM.SET,i),[2,Promise.resolve()];case 1:return[4,t];case 2:u=c.sent(),e(PM.CONFIG,u,{update:!0,user_properties:n}),c.label=3;case 3:return[2]}}))}))})(GM,YM[n],e,t).catch((function(e){return NM.error(e)}))},setAnalyticsCollectionEnabled:function(e){(function(e,t){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var n;return(0,Fn.__generator)(this,(function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),window["ga-disable-"+n]=!t,[2]}}))}))})(YM[n],e).catch((function(e){return NM.error(e)}))},INTERNAL:{delete:function(){return delete YM[n],Promise.resolve()}}};return a}var nL="analytics";function rL(){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){return(0,Fn.__generator)(this,(function(e){switch(e.label){case 0:if((0,Un.isBrowserExtension)())return[2,!1];if(!(0,Un.areCookiesEnabled)())return[2,!1];if(!(0,Un.isIndexedDBAvailable)())return[2,!1];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,(0,Un.validateIndexedDBOpenable)()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,!1];case 4:return[2]}}))}))}!function(e){e.INTERNAL.registerComponent(new _m.Component(nL,(function(e){return tL(e.getProvider("app").getImmediate(),e.getProvider("installations").getImmediate())}),"PUBLIC").setServiceProps({settings:eL,EventName:OM,isSupported:rL})),e.INTERNAL.registerComponent(new _m.Component("analytics-internal",(function(e){try{return{logEvent:e.getProvider(nL).getImmediate().logEvent}}catch(wm){throw FM.create("interop-component-reg-failed",{reason:wm})}}),"PRIVATE")),e.registerVersion("@firebase/analytics","0.6.18")}(Mn.default);var iL,oL=function(){function e(e,t,n,r){this.client=e,this.storage=t,this.storageCache=n,this.logger=r}return e.prototype.isCachedDataFresh=function(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-t,r=n<=e;return this.logger.debug("Config fetch cache check. Cache age millis: "+n+". Cache max age millis (minimumFetchIntervalMillis setting): "+e+". Is cache hit: "+r+"."),r},e.prototype.fetch=function(e){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i,o;return(0,Fn.__generator)(this,(function(a){switch(a.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return t=a.sent(),n=t[0],(r=t[1])&&this.isCachedDataFresh(e.cacheMaxAgeMillis,n)?[2,r]:(e.eTag=r&&r.eTag,[4,this.client.fetch(e)]);case 2:return i=a.sent(),o=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===i.status&&o.push(this.storage.setLastSuccessfulFetchResponse(i)),[4,Promise.all(o)];case 3:return a.sent(),[2,i]}}))}))},e}(),aL=((iL={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",iL["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",iL["registration-api-key"]="Undefined API key. Check Firebase app initialization.",iL["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",iL["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",iL["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",iL["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",iL["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",iL["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",iL["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',iL["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',iL["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",iL["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",iL),sL=new Un.ErrorFactory("remoteconfig","Remote Config",aL);var uL=function(){function e(e,t,n,r,i,o){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=o}return e.prototype.fetch=function(e){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i,o,a,s,u,c,l,f,h,d,p,v,g,m,y,b;return(0,Fn.__generator)(this,(function(w){switch(w.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:t=w.sent(),n=t[0],r=t[1],i=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",o=i+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},s={sdk_version:this.sdkVersion,app_instance_id:n,app_instance_id_token:r,app_id:this.appId,language_code:(void 0===_&&(_=navigator),_.languages&&_.languages[0]||_.language)},u={method:"POST",headers:a,body:JSON.stringify(s)},c=fetch(o,u),l=new Promise((function(t,n){e.signal.addEventListener((function(){var e=new Error("The operation was aborted.");e.name="AbortError",n(e)}))})),w.label=2;case 2:return w.trys.push([2,5,,6]),[4,Promise.race([c,l])];case 3:return w.sent(),[4,c];case 4:return f=w.sent(),[3,6];case 5:throw h=w.sent(),d="fetch-client-network","AbortError"===h.name&&(d="fetch-timeout"),sL.create(d,{originalErrorMessage:h.message});case 6:if(p=f.status,v=f.headers.get("ETag")||void 0,200!==f.status)return[3,11];y=void 0,w.label=7;case 7:return w.trys.push([7,9,,10]),[4,f.json()];case 8:return y=w.sent(),[3,10];case 9:throw b=w.sent(),sL.create("fetch-client-parse",{originalErrorMessage:b.message});case 10:g=y.entries,m=y.state,w.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===m?p=500:"NO_CHANGE"===m?p=304:"NO_TEMPLATE"!==m&&"EMPTY_CONFIG"!==m||(g={}),304!==p&&200!==p)throw sL.create("fetch-status",{httpStatus:p});return[2,{status:p,eTag:v,config:g}]}var _}))}))},e}(),cL=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(e){this.listeners.push(e)},e.prototype.abort=function(){this.listeners.forEach((function(e){return e()}))},e}(),lL=["1","true","t","yes","y","on"],fL=function(){function e(e,t){void 0===t&&(t=""),this._source=e,this._value=t}return e.prototype.asString=function(){return this._value},e.prototype.asBoolean=function(){return"static"!==this._source&&lL.indexOf(this._value.toLowerCase())>=0},e.prototype.asNumber=function(){if("static"===this._source)return 0;var e=Number(this._value);return isNaN(e)&&(e=0),e},e.prototype.getSource=function(){return this._source},e}(),hL=function(){function e(e,t,n,r,i){this.app=e,this._client=t,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}return e.prototype.setLogLevel=function(e){switch(e){case"debug":this._logger.logLevel=Bn.LogLevel.DEBUG;break;case"silent":this._logger.logLevel=Bn.LogLevel.SILENT;break;default:this._logger.logLevel=Bn.LogLevel.ERROR}},Object.defineProperty(e.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),e.prototype.activate=function(){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var e,t,n;return(0,Fn.__generator)(this,(function(r){switch(r.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return e=r.sent(),t=e[0],n=e[1],t&&t.config&&t.eTag&&t.eTag!==n?[4,Promise.all([this._storageCache.setActiveConfig(t.config),this._storage.setActiveConfigEtag(t.eTag)])]:[2,!1];case 2:return r.sent(),[2,!0]}}))}))},e.prototype.ensureInitialized=function(){var e=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then((function(){e._isInitializationComplete=!0}))),this._initializePromise},e.prototype.fetch=function(){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var e,t,n,r=this;return(0,Fn.__generator)(this,(function(i){switch(i.label){case 0:e=new cL,setTimeout((function(){return(0,Fn.__awaiter)(r,void 0,void 0,(function(){return(0,Fn.__generator)(this,(function(t){return e.abort(),[2]}))}))}),this.settings.fetchTimeoutMillis),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:e})];case 2:return i.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return i.sent(),[3,6];case 4:return t=i.sent(),n=function(e,t){return e instanceof Un.FirebaseError&&-1!==e.code.indexOf(t)}(t,"fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(n)];case 5:throw i.sent(),t;case 6:return[2]}}))}))},e.prototype.fetchAndActivate=function(){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){return(0,Fn.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.fetch()];case 1:return e.sent(),[2,this.activate()]}}))}))},e.prototype.getAll=function(){var e=this;return function(e,t){void 0===e&&(e={});void 0===t&&(t={});return Object.keys((0,Fn.__assign)((0,Fn.__assign)({},e),t))}(this._storageCache.getActiveConfig(),this.defaultConfig).reduce((function(t,n){return t[n]=e.getValue(n),t}),{})},e.prototype.getBoolean=function(e){return this.getValue(e).asBoolean()},e.prototype.getNumber=function(e){return this.getValue(e).asNumber()},e.prototype.getString=function(e){return this.getValue(e).asString()},e.prototype.getValue=function(e){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+e+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var t=this._storageCache.getActiveConfig();return t&&void 0!==t[e]?new fL("remote",t[e]):this.defaultConfig&&void 0!==this.defaultConfig[e]?new fL("default",String(this.defaultConfig[e])):(this._logger.debug('Returning static value for key "'+e+'". Define a default or remote value if this is unintentional.'),new fL("static"))},e}();function dL(e,t){var n=e.target.error||void 0;return sL.create(t,{originalErrorMessage:n&&n.message})}var pL="app_namespace_store";var vL=function(){function e(e,t,n,r){void 0===r&&(r=new Promise((function(e,t){var n=indexedDB.open("firebase_remote_config",1);n.onerror=function(e){t(dL(e,"storage-open"))},n.onsuccess=function(t){e(t.target.result)},n.onupgradeneeded=function(e){var t=e.target.result;0===e.oldVersion&&t.createObjectStore(pL,{keyPath:"compositeKey"})}}))),this.appId=e,this.appName=t,this.namespace=n,this.openDbPromise=r}return e.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},e.prototype.setLastFetchStatus=function(e){return this.set("last_fetch_status",e)},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},e.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.set("last_successful_fetch_timestamp_millis",e)},e.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},e.prototype.setLastSuccessfulFetchResponse=function(e){return this.set("last_successful_fetch_response",e)},e.prototype.getActiveConfig=function(){return this.get("active_config")},e.prototype.setActiveConfig=function(e){return this.set("active_config",e)},e.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},e.prototype.setActiveConfigEtag=function(e){return this.set("active_config_etag",e)},e.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},e.prototype.setThrottleMetadata=function(e){return this.set("throttle_metadata",e)},e.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},e.prototype.get=function(e){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var t,n=this;return(0,Fn.__generator)(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return t=r.sent(),[2,new Promise((function(r,i){var o=t.transaction([pL],"readonly").objectStore(pL),a=n.createCompositeKey(e);try{var s=o.get(a);s.onerror=function(e){i(dL(e,"storage-get"))},s.onsuccess=function(e){var t=e.target.result;r(t?t.value:void 0)}}catch(wm){i(sL.create("storage-get",{originalErrorMessage:wm&&wm.message}))}}))]}}))}))},e.prototype.set=function(e,t){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var n,r=this;return(0,Fn.__generator)(this,(function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise((function(i,o){var a=n.transaction([pL],"readwrite").objectStore(pL),s=r.createCompositeKey(e);try{var u=a.put({compositeKey:s,value:t});u.onerror=function(e){o(dL(e,"storage-set"))},u.onsuccess=function(){i()}}catch(wm){o(sL.create("storage-set",{originalErrorMessage:wm&&wm.message}))}}))]}}))}))},e.prototype.delete=function(e){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var t,n=this;return(0,Fn.__generator)(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return t=r.sent(),[2,new Promise((function(r,i){var o=t.transaction([pL],"readwrite").objectStore(pL),a=n.createCompositeKey(e);try{var s=o.delete(a);s.onerror=function(e){i(dL(e,"storage-delete"))},s.onsuccess=function(){r()}}catch(wm){i(sL.create("storage-delete",{originalErrorMessage:wm&&wm.message}))}}))]}}))}))},e.prototype.createCompositeKey=function(e){return[this.appId,this.appName,this.namespace,e].join()},e}(),gL=function(){function e(e){this.storage=e}return e.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},e.prototype.getActiveConfig=function(){return this.activeConfig},e.prototype.loadFromStorage=function(){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var e,t,n,r,i,o;return(0,Fn.__generator)(this,(function(a){switch(a.label){case 0:return e=this.storage.getLastFetchStatus(),t=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),[4,e];case 1:return(r=a.sent())&&(this.lastFetchStatus=r),[4,t];case 2:return(i=a.sent())&&(this.lastSuccessfulFetchTimestampMillis=i),[4,n];case 3:return(o=a.sent())&&(this.activeConfig=o),[2]}}))}))},e.prototype.setLastFetchStatus=function(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)},e.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)},e.prototype.setActiveConfig=function(e){return this.activeConfig=e,this.storage.setActiveConfig(e)},e}();function mL(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener((function(){clearTimeout(o),r(sL.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}var yL,bL=function(){function e(e,t){this.client=e,this.storage=t}return e.prototype.fetch=function(e){return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var t;return(0,Fn.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return t=n.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(e,t)]}}))}))},e.prototype.attemptFetch=function(e,t){var n=t.throttleEndTimeMillis,r=t.backoffCount;return(0,Fn.__awaiter)(this,void 0,void 0,(function(){var t,i,o;return(0,Fn.__generator)(this,(function(a){switch(a.label){case 0:return[4,mL(e.signal,n)];case 1:a.sent(),a.label=2;case 2:return a.trys.push([2,5,,7]),[4,this.client.fetch(e)];case 3:return t=a.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return a.sent(),[2,t];case 5:if(!function(e){if(!(e instanceof Un.FirebaseError)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(i=a.sent()))throw i;return o={throttleEndTimeMillis:Date.now()+(0,Un.calculateBackoffMillis)(r),backoffCount:r+1},[4,this.storage.setThrottleMetadata(o)];case 6:return a.sent(),[2,this.attemptFetch(e,o)];case 7:return[2]}}))}))},e}(),wL="@firebase/remote-config";(yL=Mn.default).INTERNAL.registerComponent(new _m.Component("remoteConfig",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("installations").getImmediate();if("undefined"===typeof window)throw sL.create("registration-window");var o=r.options,a=o.projectId,s=o.apiKey,u=o.appId;if(!a)throw sL.create("registration-project-id");if(!s)throw sL.create("registration-api-key");if(!u)throw sL.create("registration-app-id");n=n||"firebase";var c=new vL(u,r.name,n),l=new gL(c),f=new Bn.Logger(wL);f.logLevel=Bn.LogLevel.ERROR;var h=new uL(i,yL.SDK_VERSION,n,a,s,u),d=new bL(h,c),p=new oL(d,c,l,f),v=new hL(r,p,l,c,f);return v.ensureInitialized(),v}),"PUBLIC").setMultipleInstances(!0)),yL.registerVersion(wL,"0.1.43");n(8446);var _L="8.10.1";Mn.default.registerVersion("firebase",_L,"app"),Mn.default.SDK_VERSION=_L;var xL,SL,EL,kL,TL,CL,IL,PL,OL,AL,DL,NL;console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),Mn.default.registerVersion("firebase","8.10.1");var RL=On.div(xL||(xL=nt(["\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  z-index: 11;\n  background-color: rgba(0, 0, 0, 0.8);\n  animation: fadeIn 0.3s ease;\n"]))),jL=On.div(SL||(SL=nt(["\n  width: 100%;\n  max-width: 552px;\n  max-height: 90%;\n  background-color: #fff;\n  overflow: initial;\n  border-radius: 5px;\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  top: 32px;\n  margin: 0 auto;\n"]))),ML=On.div(EL||(EL=nt(["\n  display: block;\n  padding: 10px 20px;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.15);\n  font-size: 20px;\n  line-height: 1.5;\n  color: rgba(0, 0, 0, 0.9);\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  h2 {\n    font-weight: 400;\n  }\n  button {\n    width: 40px;\n    height: 40px;\n    min-width: auto;\n    border: none;\n    outline: none;\n    background: transparent;\n    img,\n    svg {\n      pointer-events: none;\n    }\n  }\n"]))),LL=On.div(kL||(kL=nt(["\n  display: flex;\n  flex-direction: column;\n  flex-grow: 1;\n  overflow-y: auto;\n  vertical-align: baseline;\n  background: transparent;\n  padding: 5px 12px;\n"]))),FL=On.div(TL||(TL=nt(["\n  display: flex;\n  align-items: center;\n  padding: 10px 24px;\n  img {\n    width: 48px;\n    height: 48px;\n    background-clip: content-box;\n    border-radius: 50%;\n    border: 2px solid transparent;\n  }\n  span {\n    font-weight: 600;\n    font-size: 16px;\n    line-height: 1.5;\n    margin-left: 5px;\n  }\n"]))),UL=On.div(CL||(CL=nt(["\n  display: flex;\n  justify-content: space-between;\n  padding: 10px 24px 10px 16px;\n"]))),BL=(On.div(IL||(IL=nt(["\n  display: flex;\n  align-items: center;\n"]))),On.button(PL||(PL=nt(["\n  display: flex;\n  align-items: center;\n  height: 40px;\n  min-width: auto;\n  margin-right: 8px;\n  border-radius: 50%;\n  border: none;\n  outline: none;\n  justify-content: center;\n  background: transparent;\n  &:hover {\n    background: rgba(0, 0, 0, 0.08);\n  }\n"])))),qL=(On.div(OL||(OL=nt(["\n  padding-left: 8px;\n  margin-right: auto;\n  border-left: 1px solid rgba(0, 0, 0, 0.08);\n  "," {\n    border-radius: 50px;\n    padding: 5px 10px;\n    span {\n      font-size: 16px;\n      font-weight: 600;\n      color: rgba(0, 0, 0, 0.6);\n      padding: 0 5px;\n    }\n  }\n"])),BL),On.button(AL||(AL=nt(["\n  min-width: 60px;\n  padding: 0 16px;\n  border-radius: 20px;\n  background: ",";\n  color: ",";\n  font-size: 16px;\n  letter-spacing: 1.1px;\n  border: none;\n  outline: none;\n  &:hover {\n    background: ",";\n  }\n"])),(function(e){return e.disabled?"#b8b8b8":"#0a66c2"}),(function(e){return e.disabled?"#5a5a5a":"#fff"}),(function(e){return e.disabled?"#b8b8b8":"#004182"}))),VL=On.div(DL||(DL=nt(["\n  padding: 12px 24px;\n  label {\n    text-align: left;\n  }\n  textarea {\n    width: 100%;\n    min-height: 35px;\n    resize: none;\n  }\n  input {\n    width: 100%;\n    height: 35px;\n    font-size: 16px;\n    margin-bottom: 20px;\n  }\n"])));On.div(NL||(NL=nt(["\n  text-align: center;\n  img {\n    width: 100%;\n  }\n"])));var zL,WL,HL,KL,GL,YL,$L,QL,XL,JL,ZL=F((function(e){return{user:e.userState.user}}),(function(e){return{postTDL:function(t){return e(function(e){return function(t){t(gb(!0)),ob.collection("TDLDB").add({userUID:e.userUID,title:e.title,deadline:e.deadline,completed:!1,description:e.description,timestamp:e.timestamp}),t(gb(!1))}}(t))}}}))((function(t){var n=jn((0,e.useState)(""),2),r=n[0],i=n[1],o=jn((0,e.useState)(""),2),a=o[0],s=o[1],u=jn((0,e.useState)(""),2),c=u[0],l=u[1],f=function(e){i(""),s(""),l(""),t.clickHandler(e)};return(0,jb.jsx)(jb.Fragment,{children:"open"===t.showModal&&(0,jb.jsx)(RL,{children:(0,jb.jsxs)(jL,{children:[(0,jb.jsxs)(ML,{children:[(0,jb.jsx)("h2",{children:"Add New To-Do "}),(0,jb.jsx)("button",{onClick:function(e){return f(e)},children:(0,jb.jsx)("img",{src:"/images/close-icon.svg",alt:""})})]}),(0,jb.jsxs)(LL,{children:[(0,jb.jsxs)(FL,{children:[t.user.photoURL?(0,jb.jsx)("img",{src:t.user.photoURL,alt:""}):(0,jb.jsx)("img",{src:"/images/user.svg",alt:""}),(0,jb.jsx)("span",{children:t.user.displayName?t.user.displayName:"Name"})]}),(0,jb.jsxs)(VL,{children:[(0,jb.jsx)("label",{children:"Title"}),(0,jb.jsx)("textarea",{value:r,onChange:function(e){return i(e.target.value)},placeholder:"Finish up orbital milestone 3..."}),(0,jb.jsxs)("label",{children:[(0,jb.jsx)("br",{}),"Deadline"]}),(0,jb.jsx)("div",{children:(0,jb.jsx)("input",{type:"date",required:!0,id:"deadline",onChange:function(e){return s(e.target.value)}})}),(0,jb.jsx)("label",{children:"Description"}),(0,jb.jsx)("textarea",{value:c,onChange:function(e){return l(e.target.value)},placeholder:"Complete deployment of app, update tailwind.css ..."})]})]}),(0,jb.jsx)(UL,{children:(0,jb.jsx)(qL,{disabled:!r,onClick:function(e){return function(e){if(e.preventDefault(),e.target===e.currentTarget){var n={deadline:a,description:c,title:r,userUID:t.user.uid,timestamp:Mn.default.firestore.Timestamp.now()};t.postTDL(n),f(e)}}(e)},children:"Add"})})]})})})})),eF=On.div(zL||(zL=nt(["\n  grid-area: main;\n"]))),tF=On.div(WL||(WL=nt(["\n  text-align: center;\n  overflow: hidden;\n  margin-bottom: 8px;\n  background-color: #fff;\n  border-radius: 5px;\n  position: relative;\n  border: none;\n  box-shadow: 0 0 0 1px rgb(0 0 0 / 15%), 0 0 0 rgb(0 0 0 / 20%);\n"]))),nF=On(tF)(HL||(HL=nt(["\n  display: flex;\n  flex-direction: column;\n  margin: 0 0 8px;\n  color: #958b7b;\n  div {\n    button {\n      outline: none;\n      color: rgba(0, 0, 0, 0.6);\n      font-size: 14px;\n      line-height: 1.5;\n      min-height: 48px;\n      display: flex;\n      align-items: center;\n      border: none;\n      background-color: transparent;\n      font-weight: 600;\n    }\n    &:first-child {\n      display: flex;\n      align-items: center;\n      padding: 8px 16px;\n      img {\n        width: 48px;\n        border-radius: 50%;\n        margin-right: 8px;\n      }\n      button {\n        margin: 4px 0;\n        flex-grow: 1;\n        padding-left: 16px;\n        border: 1px solid rgba(0, 0, 0, 0.15);\n        border-radius: 35px;\n        text-align: left;\n      }\n    }\n    &:nth-child(2) {\n      display: flex;\n      flex-wrap: wrap;\n      justify-content: space-around;\n      padding-bottom: 4px;\n      button {\n        img {\n          margin: 0 4px 0 -2px;\n        }\n      }\n    }\n  }\n"]))),rF=On(tF)(KL||(KL=nt(["\n  padding: 0;\n  margin: 0 0 8px;\n  overflow: visible;\n"]))),iF=(On.div(GL||(GL=nt(["\n  padding-right: 40px;\n  flex-wrap: nowrap;\n  padding: 12px 16px 0;\n  margin-bottom: 8px;\n  display: flex;\n  align-items: center;\n  a {\n    margin-right: 12px;\n    flex-grow: 1;\n    overflow: hidden;\n    display: flex;\n    img {\n      width: 48px;\n      height: 48px;\n      border-radius: 50%;\n    }\n    & > div {\n      display: flex;\n      flex-direction: column;\n      flex-grow: 1;\n      flex-basis: 0;\n      margin-left: 8px;\n      overflow: hidden;\n      span {\n        text-align: left;\n        &:first-child {\n          font-size: 14px;\n          font-weight: 700;\n          color: #000;\n        }\n        &:nth-child(n + 2) {\n          font-size: 12px;\n          color: rgba(0, 0, 0, 0.6);\n        }\n      }\n    }\n  }\n  button {\n    position: absolute;\n    top: 0;\n    right: 12px;\n    border: none;\n    outline: none;\n    background: transparent;\n  }\n"]))),On.div(YL||(YL=nt(["\n  padding: 0 16px;\n  overflow: hidden;\n  font-size: 14px;\n  text-align: left;\n"])))),oF=(On.div($L||($L=nt(["\n  margin: 8px 16px 0;\n  background-color: #f9fafb;\n  img {\n    width: 100%;\n    height: 100%;\n  }\n"]))),On.ul(QL||(QL=nt(["\n  line-height: 1.3;\n  display: flex;\n  align-items: flex-start;\n  overflow: auto;\n  margin: 0 16px;\n  padding: 8px 0;\n  border-bottom: 1px solid #e9efdf;\n  color: rgba(0, 0, 0, 0.6);\n  list-style: none;\n  li {\n    margin-right: 5px;\n    font-size: 12px;\n    button {\n      display: flex;\n      border: none;\n      color: rgba(0, 0, 0, 0.6);\n      background: transparent;\n      span {\n        padding-left: 5px;\n      }\n    }\n  }\n"]))),On.div(XL||(XL=nt(["\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  margin: 4px 12px;\n  min-height: 40px;\n  padding-bottom: 5px;\n  button {\n    display: inline-flex;\n    align-items: center;\n    padding: 8px;\n    border: none;\n    background: transparent;\n    span {\n      margin-left: 4px;\n      color: rgba(0, 0, 0, 0.6);\n      font-size: 14px;\n    }\n  }\n  button.active {\n    span {\n      color: #0a66c2;\n      font-weight: 600;\n    }\n    svg {\n      fill: #0a66c2;\n    }\n  }\n"])))),aF=On.div(JL||(JL=nt(["\n  text-align: center;\n  & > img {\n    width: 30px;\n  }\n"])));var sF,uF,cF,lF,fF,hF=F((function(e){return{user:e.userState.user,loading:e.TDLundoneState.loading,TDLundone:e.TDLundoneState.TDLundone,ids:e.TDLundoneState.ids}}),(function(e){return{getTDLundone:function(t){return e(yb(t))},TDLdone:function(t,n){return e(function(e,t){return function(n){ob.collection("TDLDB").doc(t).set(e)}}(t,n))},TDLdelete:function(t){return e(Eb(t))}}}))((function(t){var n=jn((0,e.useState)("close"),2),r=n[0],i=n[1],o=t.user.uid;(0,e.useEffect)((function(){t.getTDLundone(o,!1)}),[]);var a=function(e){if(e.preventDefault(),e.target===e.currentTarget)switch(r){case"open":default:i("close");break;case"close":i("open")}};return(0,jb.jsxs)(eF,{children:[(0,jb.jsx)(nF,{children:(0,jb.jsxs)("div",{children:[t.user.photoURL?(0,jb.jsx)("img",{src:t.user.photoURL,alt:""}):(0,jb.jsx)("img",{src:"/images/user.svg",alt:""}),(0,jb.jsx)("button",{onClick:a,disabled:!!t.loading,children:"Add new To-Do"})]})}),(0,jb.jsxs)(aF,{children:[console.log(t.TDLundone),t.loading&&(0,jb.jsx)("img",{src:"/images/spin-loader.gif",alt:""}),t.TDLundone.length>0&&t.TDLundone.map((function(e,n){return(0,jb.jsxs)(rF,{children:[(0,jb.jsx)("br",{}),(0,jb.jsxs)("h2",{children:["Title: ",e.title]}),(0,jb.jsxs)("h3",{children:["Deadline: ",e.deadline]}),(0,jb.jsx)(iF,{children:e.description}),(0,jb.jsxs)(oF,{children:[(0,jb.jsx)("img",{src:"/images/Donebtn1.svg",alt:"",onClick:function(r){return function(e,n,r){e.preventDefault(),n.completed=!0,t.TDLdelete(r),t.TDLdone(n,r)}(r,e,t.ids[n])}}),(0,jb.jsx)("img",{src:"/images/Deletebtn1.svg",alt:"",onClick:function(e){return function(e,n){e.preventDefault(),t.TDLdelete(n)}(e,t.ids[n])}})]})]},n)}))]}),(0,jb.jsx)(ZL,{showModal:r,clickHandler:a})]})})),dF=On.div(sF||(sF=nt(["\n  max-width: 100%;\n"]))),pF=On.div(uF||(uF=nt(["\n  max-width: 1128px;\n  margin: auto;\n"]))),vF=On.nav(cF||(cF=nt(["\n  margin-left: auto;\n  margin-bottom: -20px;\n  display: block;\n  @media (max-width: 768px) {\n    position: fixed;\n    left: 0;\n    bottom: 0;\n    background: white;\n    width: 100%;\n  }\n"]))),gF=On.ul(lF||(lF=nt(["\n  display: flex;\n  flex-wrap: nowrap;\n  list-style-type: none;\n  justify-content: space-between;\n"]))),mF=On.li(fF||(fF=nt(["\n  display: flex;\n  align-items: center;\n  a {\n    align-items: center;\n    background: transparent;\n    display: flex;\n    flex-direction: column;\n    font-size: 12px;\n    font-weight: 400;\n    justify-content: center;\n    line-height: 1.5;\n    min-height: 52px;\n    min-width: 100px;\n    position: relative;\n    text-decoration: none;\n    span {\n      color: rgba(0, 0, 0, 0.6);\n      display: flex;\n      align-items: center;\n      text-align: center;\n    }\n    @media (max-width: 768px) {\n      min-width: 50px;\n      font-size: 9px;\n      span > img {\n        width: 60%;\n      }\n    }\n  }\n"])));var yF,bF,wF=F((function(e){return{user:e.userState.user}}))((function(t){var n=jn((0,e.useState)([]),2),r=n[0],i=(n[1],jn((0,e.useState)(""),2)),o=i[0];return i[1],r.sort((function(e,t){var n=Tb(e.deadline,"00:00"),r=Tb(t.deadline,"00:00");return n.getTime()-r.getTime()})),(0,jb.jsxs)(dF,{children:[!t.user&&(0,jb.jsx)(Re,{to:"/"}),(0,jb.jsx)(Xb,{}),(0,jb.jsx)(vF,{children:(0,jb.jsx)(gF,{children:(0,jb.jsx)(mF,{children:(0,jb.jsx)(Ze,{to:"/todolistdone",children:(0,jb.jsx)("a",{href:"/todolistdone",children:(0,jb.jsx)("img",{src:"/images/Togglebtn1.svg",alt:""})})})})})}),(0,jb.jsx)("br",{}),(0,jb.jsx)("h2",{children:o}),(0,jb.jsx)(pF,{children:(0,jb.jsx)(hF,{})})]})})),_F=On.div(yF||(yF=nt(["\n  max-width: 100%;\n  background-color: white;\n  margin: auto;\n"]))),xF=On.div(bF||(bF=nt(["\n  display: flex;\n  flex-flow: column nowrap;\n  align-items: center;\n  justify-content: space-evenly;\n  background-color: white;\n  width: 100%;\n  margin-left: auto;\n  margin-right: auto;\n\n  button {\n    border: 0.0625rem solid rgb(17, 109, 255);\n    background-color: rgb(17, 109, 255);\n    border-radius: 1.875rem;\n    font-family: var(--main-text-font);\n    width: 20rem;\n    height: 3.5rem;\n    cursor: pointer;\n    color: #ffffff;\n    font-size: 1.5rem;\n    font-weight: 300;\n    margin-top: 2rem;\n    align-items: center;\n    a:link {\n      text-decoration: none;\n    }\n\n    a:visited {\n      text-decoration: none;\n    }\n\n    a:hover {\n      text-decoration: none;\n    }\n\n    a:active {\n      text-decoration: none;\n    }\n\n    span {\n      color: white;\n      text-decoration: none;\n      background-color: none;\n    }\n  }\n"])));var SF,EF=F((function(e){return{user:e.userState.user}}))((function(e){return(0,jb.jsxs)(_F,{children:[(0,jb.jsx)(Xb,{}),!e.user&&(0,jb.jsx)(Re,{to:"/"}),(0,jb.jsxs)(xF,{children:[(0,jb.jsx)("button",{children:(0,jb.jsx)(Ze,{to:"/findstudybuddy",children:(0,jb.jsx)("a",{href:"/findstudybuddy",children:(0,jb.jsx)("span",{children:"Find Study Buddies"})})})}),(0,jb.jsx)("button",{children:(0,jb.jsx)(Ze,{to:"/mystudybuddies",children:(0,jb.jsx)("a",{href:"/mystudybuddies",children:(0,jb.jsx)("span",{children:"My Study Buddies"})})})}),(0,jb.jsx)("button",{children:(0,jb.jsx)(Ze,{to:"/studybuddyrequests",children:(0,jb.jsx)("a",{href:"/studybuddyrequests",children:(0,jb.jsx)("span",{children:"Requests"})})})}),(0,jb.jsx)("button",{children:(0,jb.jsx)(Ze,{to:"/studybuddynotifications",children:(0,jb.jsx)("a",{href:"/studybuddynotifications",children:(0,jb.jsx)("span",{children:"Notifications"})})})})]})]})})),kF="SBItem_item__Do9nU",TF="SBItem_content__ejuqk",CF=On.div(SF||(SF=nt(["\n  img {\n    cursor: pointer;\n  }\n"])));var IF=function(t){var n=t.userUID,r=t.posterUID,i=r+n,o=jn((0,e.useState)(""),2),a=o[0],s=o[1],u=jn((0,e.useState)(""),2),c=u[0],l=u[1],f=jn((0,e.useState)(""),2),h=f[0],d=f[1],p=jn((0,e.useState)(""),2),v=p[0],g=p[1],m=jn((0,e.useState)(""),2),y=m[0],b=m[1],w=jn((0,e.useState)(""),2),_=w[0],x=w[1],S=jn((0,e.useState)(""),2),E=S[0],k=S[1],T=jn((0,e.useState)(""),2),C=T[0],I=T[1],P="";return ob.collection("DPDB").where(Mn.default.firestore.FieldPath.documentId(),"==",n).get().then((function(e){return e.docs.forEach((function(e){!function(e){s(e.data().Actor.contact_info),l(e.data().Actor.display_info),d(e.data().Actor.display_name),g(e.data().Actor.display_picture)}(e)}))})),ob.collection("DPDB").where(Mn.default.firestore.FieldPath.documentId(),"==",r).get().then((function(e){return e.docs.forEach((function(e){!function(e){b(e.data().Actor.contact_info),x(e.data().Actor.display_info),k(e.data().Actor.display_name),I(e.data().Actor.display_picture)}(e)}))})),(0,e.useEffect)((function(){ob.collection("SBDB").where(Mn.default.firestore.FieldPath.documentId(),"==",i).get().then((function(e){return e.docs.forEach((function(e){P=e.data().Accepted,console.log(e.data())}))}))})),(0,jb.jsx)("li",{className:kF,children:(0,jb.jsxs)(Cw,{children:[(0,jb.jsxs)("div",{className:TF,children:[(0,jb.jsx)("h3",{children:E}),(0,jb.jsx)("h3",{children:t.info}),(0,jb.jsx)("br",{}),t.description,(0,jb.jsx)("br",{}),(0,jb.jsx)("br",{}),"Preferred number of study buddies: ",t.number,(0,jb.jsx)("br",{}),"Preferred studying locations: ",t.location,(0,jb.jsx)("br",{}),"Preferred study timings: ",t.timing,(0,jb.jsx)("br",{}),"Preferred gender: ",t.gender,(0,jb.jsx)("br",{}),"Preferred faculty: ",t.subjects]}),(0,jb.jsx)(CF,{children:(0,jb.jsx)("img",{src:"/images/Sendbtn1.svg",alt:"",onClick:function(){"accepted"!=P&&"accepted"!=P&&ob.collection("SBDB").doc(i).set({Actor:{userUID:n,display_name:h,contact_info:a,display_picture:v,display_info:c},Accepted:"new",Poster:{userUID:r,display_name:E,contact_info:y,display_picture:C,display_info:_},sent_timestamp:Mn.default.firestore.Timestamp.now(),accepted_timestamp:Mn.default.firestore.Timestamp.now(),accepter:!1})}})})]})})},PF="SBList_list__KMBh7";var OF=function(e){return(0,jb.jsx)("ul",{className:PF,children:e.events.map((function(t){return(0,jb.jsx)(IF,{userUID:e.userUID,id:t.id,posterUID:t.posterUID,gender:t.gender,info:t.info,location:t.location,number:t.number,timing:t.timing,subjects:t.faculty,description:t.description},t.id)}))})},AF={image:"SBItem_image__yRVaZ",content:"SBItem_content__MagAD",actions:"SBItem_actions__hD0G5"};var DF=function(t){var n=t.userUID,r=(t.posterUID,jn((0,e.useState)(""),2)),i=r[0],o=r[1];return ob.collection("DPDB").where(Mn.default.firestore.FieldPath.documentId(),"==",n).get().then((function(e){return e.docs.forEach((function(e){o(e.data().Actor.display_name)}))})),(0,jb.jsx)("li",{className:AF.item,children:(0,jb.jsx)(Cw,{children:(0,jb.jsxs)("div",{className:AF.content,children:[(0,jb.jsx)("h3",{children:i}),(0,jb.jsx)("h3",{children:t.info}),(0,jb.jsx)("br",{}),t.description,(0,jb.jsx)("br",{}),(0,jb.jsx)("br",{}),"Preferred number of study buddies: ",t.number,(0,jb.jsx)("br",{}),"Preferred studying locations: ",t.location,(0,jb.jsx)("br",{}),"Preferred study timings: ",t.timing,(0,jb.jsx)("br",{}),"Preferred gender: ",t.gender,(0,jb.jsx)("br",{}),"Preferred faculty: ",t.subjects]})})})},NF="SBList_list__qBhsY";var RF,jF,MF,LF,FF,UF=function(e){return 0===e.events.length?(console.log(e.events.length),(0,jb.jsx)("h2",{children:"Make a post to find new Study Buddies now!!!"})):(0,jb.jsx)("ul",{className:NF,children:e.events.map((function(t){return(0,jb.jsx)(DF,{userUID:e.userUID,id:t.id,posterUID:t.posterUID,gender:t.gender,info:t.info,location:t.location,number:t.number,timing:t.timing,subjects:t.faculty,description:t.description},t.id)}))})},BF=On.div(RF||(RF=nt(["\n  max-width: 100%;\n"]))),qF=On.div(jF||(jF=nt(["\n  max-width: 1128px;\n  margin: auto;\n"]))),VF=(On.section(MF||(MF=nt(["\n  min-height: 50px;\n  margin: 16px 0 -30px;\n  box-sizing: content-box;\n  text-align: center;\n  text-decoration: underline;\n  display: flex;\n  justify-content: center;\n  h5 {\n    color: #0a66c2;\n    font-size: 14px;\n    margin-block-start: 0;\n    margin-block-end: 0;\n    a {\n      font-weight: 700;\n    }\n  }\n  p {\n    font-size: 14px;\n    color: #434649;\n    margin-block-start: 0;\n    margin-block-end: 0;\n    font-weight: 600;\n  }\n\n  @media (max-width: 768px) {\n    flex-direction: column;\n    padding: 0 5px;\n    margin: 16px 0;\n  }\n"]))),On.div(LF||(LF=nt(['\n  display: grid;\n  grid-template-areas: "left main ";\n  grid-template-columns: minmax(0, 5fr) minmax(0, 17fr);\n  column-gap: 25px;\n  row-gap: 25px;\n  margin: 25px 0;\n  @media (max-width: 768px) {\n    display: flex;\n    flex-direction: column;\n    padding: 0 5px;\n  }\n'])))),zF=On.div(FF||(FF=nt(["\n  display: block;\n  flex-flow: column nowrap;\n  align-items: center;\n  justify-content: space-evenly;\n  background-color: white;\n  width: 100%;\n  margin-left: auto;\n  margin-right: auto;\n  button {\n    border: 0.0625rem solid rgb(17, 109, 255);\n    background-color: rgb(17, 109, 255);\n    border-radius: 1.875rem;\n    font-family: var(--main-text-font);\n    width: 20rem;\n    height: 3.5rem;\n    cursor: pointer;\n    color: #ffffff;\n    font-size: 1.5rem;\n    font-weight: 300;\n    margin-top: 2rem;\n    align-items: center;\n    a:link {\n      text-decoration: none;\n    }\n\n    a:visited {\n      text-decoration: none;\n    }\n\n    a:hover {\n      text-decoration: none;\n    }\n\n    a:active {\n      text-decoration: none;\n    }\n\n    span {\n      color: white;\n      text-decoration: none;\n      background-color: none;\n    }\n  }\n"])));var WF,HF,KF,GF,YF,$F,QF,XF,JF,ZF,eU=F((function(e){return{user:e.userState.user}}))((function(t){var n=t.user.uid,r=jn((0,e.useState)([]),2),i=r[0],o=r[1],a=jn((0,e.useState)([]),2),s=a[0],u=a[1],c=jn((0,e.useState)(!1),2),l=(c[0],c[1]);return i.sort((function(e,t){return console.log(e.timestamp.seconds),t.timestamp.seconds-e.timestamp.seconds})),(0,e.useEffect)((function(){l(!0),ob.collection("SB Posts").get().then((function(e){var t=[],r=[];e.docs.forEach((function(e){var i=wx({id:e.id},e.data());e.data().posterUID===n?r.push(i):t.push(i)})),l(!1),o(t),u(r)}))}),[]),(0,jb.jsxs)(BF,{children:[(0,jb.jsx)(Xb,{}),!t.user&&(0,jb.jsx)(Re,{to:"/"}),(0,jb.jsxs)(qF,{children:[(0,jb.jsxs)(zF,{children:[(0,jb.jsx)(Ze,{to:"/findnewsb",children:(0,jb.jsx)("a",{href:"/findnewsb",children:(0,jb.jsx)("img",{src:"/images/Postbtn1.svg",alt:""})})}),(0,jb.jsx)(Ze,{to:"/searchsb",children:(0,jb.jsx)("a",{href:"/searchsb",children:(0,jb.jsx)("img",{src:"/images/Searchbtn1.svg",alt:""})})})]}),(0,jb.jsxs)(VF,{children:[(0,jb.jsx)(bw,{}),(0,jb.jsx)(UF,{events:s,userUID:n}),"Find my Study Buddies!!!",(0,jb.jsx)(OF,{events:i,userUID:n})]})]})]})})),tU=On.div(WF||(WF=nt(["\n  grid-area: main;\n"]))),nU=On.div(HF||(HF=nt(["\n  text-align: center;\n  overflow: hidden;\n  margin-bottom: 8px;\n  background-color: #fff;\n  border-radius: 5px;\n  position: relative;\n  border: none;\n  box-shadow: 0 0 0 1px rgb(0 0 0 / 15%), 0 0 0 rgb(0 0 0 / 20%);\n"]))),rU=(On(nU)(KF||(KF=nt(["\n  display: flex;\n  flex-direction: column;\n  margin: 0 0 8px;\n  color: #958b7b;\n  div {\n    button {\n      outline: none;\n      color: rgba(0, 0, 0, 0.6);\n      font-size: 14px;\n      line-height: 1.5;\n      min-height: 48px;\n      display: flex;\n      align-items: center;\n      border: none;\n      background-color: transparent;\n      font-weight: 600;\n    }\n    &:first-child {\n      display: flex;\n      align-items: center;\n      padding: 8px 16px;\n      img {\n        width: 48px;\n        border-radius: 50%;\n        margin-right: 8px;\n      }\n      button {\n        margin: 4px 0;\n        flex-grow: 1;\n        padding-left: 16px;\n        border: 1px solid rgba(0, 0, 0, 0.15);\n        border-radius: 35px;\n        text-align: left;\n      }\n    }\n    &:nth-child(2) {\n      display: flex;\n      flex-wrap: wrap;\n      justify-content: space-around;\n      padding-bottom: 4px;\n      button {\n        img {\n          margin: 0 4px 0 -2px;\n        }\n      }\n    }\n  }\n"]))),On(nU)(GF||(GF=nt(["\n  padding: 0;\n  margin: 0 0 8px;\n  overflow: visible;\n"])))),iU=(On.div(YF||(YF=nt(["\n  padding-right: 40px;\n  flex-wrap: nowrap;\n  padding: 12px 16px 0;\n  margin-bottom: 8px;\n  display: flex;\n  align-items: center;\n  a {\n    margin-right: 12px;\n    flex-grow: 1;\n    overflow: hidden;\n    display: flex;\n    img {\n      width: 48px;\n      height: 48px;\n      border-radius: 50%;\n    }\n    & > div {\n      display: flex;\n      flex-direction: column;\n      flex-grow: 1;\n      flex-basis: 0;\n      margin-left: 8px;\n      overflow: hidden;\n      span {\n        text-align: left;\n        &:first-child {\n          font-size: 14px;\n          font-weight: 700;\n          color: #000;\n        }\n        &:nth-child(n + 2) {\n          font-size: 12px;\n          color: rgba(0, 0, 0, 0.6);\n        }\n      }\n    }\n  }\n  button {\n    position: absolute;\n    top: 0;\n    right: 12px;\n    border: none;\n    outline: none;\n    background: transparent;\n  }\n"]))),On.div($F||($F=nt(["\n  padding: 0 16px;\n  overflow: hidden;\n  font-size: 14px;\n  text-align: left;\n"]))),On.div(QF||(QF=nt(["\n  margin: 8px 16px 0;\n  background-color: #f9fafb;\n  img {\n    width: 100%;\n    height: 100%;\n  }\n"]))),On.ul(XF||(XF=nt(["\n  line-height: 1.3;\n  display: flex;\n  align-items: flex-start;\n  overflow: auto;\n  margin: 0 16px;\n  padding: 8px 0;\n  border-bottom: 1px solid #e9efdf;\n  color: rgba(0, 0, 0, 0.6);\n  list-style: none;\n  li {\n    margin-right: 5px;\n    font-size: 12px;\n    button {\n      display: flex;\n      border: none;\n      color: rgba(0, 0, 0, 0.6);\n      background: transparent;\n      span {\n        padding-left: 5px;\n      }\n    }\n  }\n"]))),On.div(JF||(JF=nt(["\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  margin: 4px 12px;\n  min-height: 40px;\n  padding-bottom: 5px;\n  button {\n    display: inline-flex;\n    align-items: center;\n    padding: 8px;\n    border: none;\n    background: transparent;\n    span {\n      margin-left: 4px;\n      color: rgba(0, 0, 0, 0.6);\n      font-size: 14px;\n    }\n  }\n  button.active {\n    span {\n      color: #0a66c2;\n      font-weight: 600;\n    }\n    svg {\n      fill: #0a66c2;\n    }\n  }\n"])))),oU=On.div(ZF||(ZF=nt(["\n  text-align: center;\n  & > img {\n    width: 30px;\n  }\n"])));var aU,sU=F((function(e){return{user:e.userState.user,loading:e.mySBState.loading,mySBs:e.mySBState.mySBs,ids:e.mySBState.ids}}),(function(e){return{getMySBs:function(t){return e(xb(t))},SBDelete:function(t){return e(kb(t))}}}))((function(t){var n=t.user.uid;return(0,e.useEffect)((function(){t.getMySBs(n)}),[]),(0,jb.jsx)(tU,{children:(0,jb.jsxs)(oU,{children:[t.loading&&(0,jb.jsx)("img",{src:"/images/spin-loader.gif",alt:""}),t.mySBs.length>0&&t.mySBs.map((function(e,n){return(0,jb.jsxs)(rU,{children:[(0,jb.jsx)("br",{}),(0,jb.jsxs)("h2",{children:["Name: ",e.Actor.display_name]}),(0,jb.jsxs)("h2",{children:["Info: ",e.Actor.display_info]}),(0,jb.jsx)("h3",{}),(0,jb.jsx)("h3",{}),(0,jb.jsx)(iU,{children:(0,jb.jsx)("img",{src:"/images/Deletebtn1.svg",alt:"",onClick:function(n){return function(e,n,r){e.preventDefault();var i=n+r,o=r+n;t.SBDelete(i),t.SBDelete(o)}(n,e.Actor.userUID,e.Poster.userUID)}})})]},n)}))]})})})),uU=On.div(aU||(aU=nt(["\n  max-width: 100%;\n"])));var cU,lU,fU,hU,dU,pU,vU,gU,mU,yU,bU=F((function(e){return{user:e.userState.user}}))((function(t){var n=t.user.uid,r=jn((0,e.useState)([]),2),i=(r[0],r[1]),o=jn((0,e.useState)(!1),2),a=(o[0],o[1]);return(0,e.useEffect)((function(){a(!0),ob.collection("SBDB").get().then((function(e){var t=[];e.docs.forEach((function(e){var r=wx({id:e.id},e.data());e.data().posterUID==n&&"accepted"==e.data().Accepted&&t.push(r)})),a(!1),i(t),t.sort((function(e,t){return t.timestamp.seconds-e.timestamp.seconds}))}))}),[]),(0,jb.jsxs)(uU,{children:[(0,jb.jsx)(Xb,{}),!t.user&&(0,jb.jsx)(Re,{to:"/"}),(0,jb.jsx)(sU,{})]})})),wU=On.div(cU||(cU=nt(["\n  grid-area: main;\n"]))),_U=On.div(lU||(lU=nt(["\n  text-align: center;\n  overflow: hidden;\n  margin-bottom: 8px;\n  background-color: #fff;\n  border-radius: 5px;\n  position: relative;\n  border: none;\n  box-shadow: 0 0 0 1px rgb(0 0 0 / 15%), 0 0 0 rgb(0 0 0 / 20%);\n"]))),xU=(On(_U)(fU||(fU=nt(["\n  display: flex;\n  flex-direction: column;\n  margin: 0 0 8px;\n  color: #958b7b;\n  div {\n    button {\n      outline: none;\n      color: rgba(0, 0, 0, 0.6);\n      font-size: 14px;\n      line-height: 1.5;\n      min-height: 48px;\n      display: flex;\n      align-items: center;\n      border: none;\n      background-color: transparent;\n      font-weight: 600;\n    }\n    &:first-child {\n      display: flex;\n      align-items: center;\n      padding: 8px 16px;\n      img {\n        width: 48px;\n        border-radius: 50%;\n        margin-right: 8px;\n      }\n      button {\n        margin: 4px 0;\n        flex-grow: 1;\n        padding-left: 16px;\n        border: 1px solid rgba(0, 0, 0, 0.15);\n        border-radius: 35px;\n        text-align: left;\n      }\n    }\n    &:nth-child(2) {\n      display: flex;\n      flex-wrap: wrap;\n      justify-content: space-around;\n      padding-bottom: 4px;\n      button {\n        img {\n          margin: 0 4px 0 -2px;\n        }\n      }\n    }\n  }\n"]))),On(_U)(hU||(hU=nt(["\n  padding: 0;\n  margin: 0 0 8px;\n  overflow: visible;\n"])))),SU=(On.div(dU||(dU=nt(["\n  padding-right: 40px;\n  flex-wrap: nowrap;\n  padding: 12px 16px 0;\n  margin-bottom: 8px;\n  display: flex;\n  align-items: center;\n  a {\n    margin-right: 12px;\n    flex-grow: 1;\n    overflow: hidden;\n    display: flex;\n    img {\n      width: 48px;\n      height: 48px;\n      border-radius: 50%;\n    }\n    & > div {\n      display: flex;\n      flex-direction: column;\n      flex-grow: 1;\n      flex-basis: 0;\n      margin-left: 8px;\n      overflow: hidden;\n      span {\n        text-align: left;\n        &:first-child {\n          font-size: 14px;\n          font-weight: 700;\n          color: #000;\n        }\n        &:nth-child(n + 2) {\n          font-size: 12px;\n          color: rgba(0, 0, 0, 0.6);\n        }\n      }\n    }\n  }\n  button {\n    position: absolute;\n    top: 0;\n    right: 12px;\n    border: none;\n    outline: none;\n    background: transparent;\n  }\n"]))),On.div(pU||(pU=nt(["\n  padding: 0 16px;\n  overflow: hidden;\n  font-size: 14px;\n  text-align: left;\n"]))),On.div(vU||(vU=nt(["\n  margin: 8px 16px 0;\n  background-color: #f9fafb;\n  img {\n    width: 100%;\n    height: 100%;\n  }\n"]))),On.ul(gU||(gU=nt(["\n  line-height: 1.3;\n  display: flex;\n  align-items: flex-start;\n  overflow: auto;\n  margin: 0 16px;\n  padding: 8px 0;\n  border-bottom: 1px solid #e9efdf;\n  color: rgba(0, 0, 0, 0.6);\n  list-style: none;\n  li {\n    margin-right: 5px;\n    font-size: 12px;\n    button {\n      display: flex;\n      border: none;\n      color: rgba(0, 0, 0, 0.6);\n      background: transparent;\n      span {\n        padding-left: 5px;\n      }\n    }\n  }\n"]))),On.div(mU||(mU=nt(["\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  margin: 4px 12px;\n  min-height: 40px;\n  padding-bottom: 5px;\n  button {\n    display: inline-flex;\n    align-items: center;\n    padding: 8px;\n    border: none;\n    background: transparent;\n    span {\n      margin-left: 4px;\n      color: rgba(0, 0, 0, 0.6);\n      font-size: 14px;\n    }\n  }\n  button.active {\n    span {\n      color: #0a66c2;\n      font-weight: 600;\n    }\n    svg {\n      fill: #0a66c2;\n    }\n  }\n"]))),On.div(yU||(yU=nt(["\n  text-align: center;\n  & > img {\n    width: 30px;\n  }\n"]))));F((function(e){return{user:e.userState.user,loading:e.SBnotifsState.loading,SBnotifs:e.SBnotifsState.SBnotifs,ids:e.SBnotifsState.ids}}),(function(e){return{getSBnotifs:function(t){return e(bb(t))}}}))((function(t){var n=t.user.uid;return(0,e.useEffect)((function(){t.getSBnotifs(n)}),[]),(0,jb.jsx)(wU,{children:(0,jb.jsxs)(SU,{children:[t.loading&&(0,jb.jsx)("img",{src:"/images/spin-loader.gif",alt:""}),t.SBnotifs.length>0&&t.SBnotifs.map((function(e,t){return(0,jb.jsxs)(xU,{children:[(0,jb.jsx)("br",{}),(0,jb.jsxs)("h2",{children:["Name: ",e.Actor.display_name]}),(0,jb.jsxs)("h2",{children:["Info: ",e.Actor.display_info]}),(0,jb.jsx)("h3",{}),(0,jb.jsx)("h3",{})]},t)}))]})})}));var EU="SBItem_item__dAmIp",kU="SBItem_content__E+oq3";var TU=function(e){var t=Mn.default.firestore.Timestamp.now().seconds-e.accepted_timestamp.seconds;function n(e){var t=Math.floor(e/86400),n=Math.floor(e/3600),r=Math.floor(e/60),i=Math.floor(e);if(0!==t)return 1===t?"~ 1 day ago":"~ ".concat(t," days ago");if(0!==n){var o=Math.floor((e-3600*n)/60);return 1===n&&0!==o?"~ ".concat(n," hour, ").concat(o," mins ago"):1===n&&0===o?"~ ".concat(n," hour ago"):0===o?"~ ".concat(n," hours ago"):"~ ".concat(n," hours, ").concat(o," mins ago")}if(0!==r){var a=e-60*r;return 1===r&&0!==a?"~ ".concat(r," min, ").concat(a," seconds ago"):1===r&&0===a?"~ ".concat(r," min ago"):0===a?"~ ".concat(r," mins ago"):"~ ".concat(r," mins, ").concat(a," seconds ago")}return"~".concat(i," seconds ago")}return!0===e.accepter?(0,jb.jsx)("li",{className:EU,children:(0,jb.jsx)(Cw,{children:(0,jb.jsxs)("div",{className:kU,children:[(0,jb.jsxs)("h3",{children:[e.actor_display_name," accepted your request to be a study buddy!"]}),(0,jb.jsxs)("h3",{children:["Info: ",e.actor_display_info]}),(0,jb.jsx)("br",{}),(0,jb.jsx)("br",{}),n(t)]})})}):(0,jb.jsx)("li",{className:EU,children:(0,jb.jsx)(Cw,{children:(0,jb.jsxs)("div",{className:kU,children:[(0,jb.jsxs)("h3",{children:[e.actor_display_name," is now your study buddy!"]}),(0,jb.jsxs)("h3",{children:["Info: ",e.actor_display_info]}),(0,jb.jsx)("br",{}),(0,jb.jsx)("br",{}),n(t)]})})})},CU="SBList_list__oBXci";var IU,PU,OU,AU=function(e){return 0===e.events.length?(0,jb.jsxs)("h1",{children:["Oh Wow much empty.",(0,jb.jsx)("br",{}),(0,jb.jsx)("br",{}),"I mean you do not have any notifications for now!",(0,jb.jsx)("br",{}),(0,jb.jsx)("br",{})]}):(0,jb.jsx)("ul",{className:CU,children:e.events.map((function(t){return(0,jb.jsx)(TU,{userUID:e.userUID,id:t.id,posterUID:t.posterUID,accepted:t.Accepted,actor_contact_info:t.Actor.contact_info,actor_display_info:t.Actor.display_info,actor_display_name:t.Actor.display_name,actor_display_picture:t.Actor.display_picture,actor_userUID:t.Actor.userUID,sent_timestamp:t.sent_timestamp,accepted_timestamp:t.accepted_timestamp,accepter:t.accepter},t.id)}))})},DU=On.div(IU||(IU=nt(["\n  max-width: 100%;\n"])));On.div(PU||(PU=nt(["\n  max-width: 1128px;\n  margin: auto;\n"]))),On.section(OU||(OU=nt(["\n  min-height: 50px;\n  margin: 16px 0 -30px;\n  box-sizing: content-box;\n  text-align: center;\n  text-decoration: underline;\n  display: flex;\n  justify-content: center;\n  h5 {\n    color: #0a66c2;\n    font-size: 14px;\n    margin-block-start: 0;\n    margin-block-end: 0;\n    a {\n      font-weight: 700;\n    }\n  }\n  p {\n    font-size: 14px;\n    color: #434649;\n    margin-block-start: 0;\n    margin-block-end: 0;\n    font-weight: 600;\n  }\n\n  @media (max-width: 768px) {\n    flex-direction: column;\n    padding: 0 5px;\n    margin: 16px 0;\n  }\n"])));var NU=F((function(e){return{user:e.userState.user}}))((function(t){var n=t.user.uid,r=jn((0,e.useState)([]),2),i=r[0],o=r[1],a=jn((0,e.useState)(!1),2),s=(a[0],a[1]);return(0,e.useEffect)((function(){s(!0),ob.collection("SBDB").get().then((function(e){var t=[];e.docs.forEach((function(e){var r=wx({id:e.id},e.data());e.data().Poster.userUID===n&&"accepted"===e.data().Accepted&&t.push(r)})),s(!1),o(t),t.sort((function(e,t){return t.timestamp.seconds-e.timestamp.seconds}))}))}),[]),(0,jb.jsxs)(DU,{children:[(0,jb.jsx)(Xb,{}),!t.user&&(0,jb.jsx)(Re,{to:"/"}),(0,jb.jsx)(AU,{events:i,userUID:n})]})})),RU="NewContactUsForm_form__KSdHU",jU="NewContactUsForm_control__jvC+o",MU="NewContactUsForm_actions__IyKNv";var LU=function(t){var n=(0,e.useRef)(),r=(0,e.useRef)(),i=(0,e.useRef)(),o=(0,e.useRef)(),a=t.userUID;return(0,jb.jsx)(Cw,{children:(0,jb.jsxs)("form",{className:RU,onSubmit:function(e){e.preventDefault();var s=n.current.value,u=r.current.value,c=i.current.value,l=o.current.value,f={userUID:a,name:s,email:u,subject:c,description:l};t.onAddContactUs(f)},children:[(0,jb.jsxs)("div",{className:jU,children:[(0,jb.jsx)("label",{htmlFor:"name",children:"Name"}),(0,jb.jsx)("input",{type:"text",required:!0,id:"name",ref:n})]}),(0,jb.jsxs)("div",{className:jU,children:[(0,jb.jsx)("label",{htmlFor:"email",children:"Email / Phone Number"}),(0,jb.jsx)("input",{type:"text",required:!0,id:"email",ref:r})]}),(0,jb.jsxs)("div",{className:jU,children:[(0,jb.jsx)("label",{htmlFor:"subject",children:"Subject"}),(0,jb.jsx)("input",{type:"text",required:!0,id:"subject",ref:i})]}),(0,jb.jsxs)("div",{className:jU,children:[(0,jb.jsx)("label",{htmlFor:"description",children:"Description"}),(0,jb.jsx)("textarea",{id:"description",required:!0,rows:"3",ref:o})]}),(0,jb.jsx)("div",{className:MU,children:(0,jb.jsx)("button",{children:"Submit"})})]})})};var FU,UU,BU,qU,VU=function(e){var t=Ke(),n=e.userUID;return(0,jb.jsx)("section",{children:(0,jb.jsx)(LU,{onAddContactUs:function(e){ob.collection("ContactUsDB").add(e).then((function(){t.replace("/aboutus")}))},userUID:n})})},zU=On.div(FU||(FU=nt(["\n  max-width: 100%;\n"]))),WU=On.div(UU||(UU=nt(["\n  max-width: 1128px;\n  margin: auto;\n"]))),HU=(On.section(BU||(BU=nt(["\n  min-height: 50px;\n  margin: 16px 0 -30px;\n  box-sizing: content-box;\n  text-align: center;\n  text-decoration: underline;\n  display: flex;\n  justify-content: center;\n  h5 {\n    color: #0a66c2;\n    font-size: 14px;\n    margin-block-start: 0;\n    margin-block-end: 0;\n    a {\n      font-weight: 700;\n    }\n  }\n  p {\n    font-size: 14px;\n    color: #434649;\n    margin-block-start: 0;\n    margin-block-end: 0;\n    font-weight: 600;\n  }\n\n  @media (max-width: 768px) {\n    flex-direction: column;\n    padding: 0 5px;\n    margin: 16px 0;\n  }\n"]))),On.div(qU||(qU=nt(['\n  display: flex;\n  flex-flow: column nowrap;\n  align-items: center;\n  justify-content: space-evenly;\n  background-color: white;\n  width: 100%;\n  margin-left: auto;\n  margin-right: auto;\n\n  h1 {\n    font-size: 5rem;\n    text-align: center;\n    font-family: "Montserrat";\n    line-height: 1em;\n    font-weight: 600;\n    margin-left: auto;\n    margin-right: auto;\n    margin-top: 30px;\n    max-width: 53.125rem;\n    margin-bottom: 30px;\n  }\n\n  h2 {\n    font-size: 5rem;\n    text-align: center;\n    font-family: "Montserrat";\n    line-height: 1em;\n    font-weight: 600;\n    margin-left: auto;\n    margin-right: auto;\n    margin-top: 30px;\n    max-width: 53.125rem;\n    margin-bottom: 30px;\n  }\n\n  p {\n    font-size: 1.25rem;\n    margin: 0;\n    font-weight: lighter;\n    line-height: 1.6em;\n    letter-spacing: 0.01em;\n    text-align: center;\n    margin-bottom: 20px;\n  }\n\n  img {\n    margin-top: 30px;\n    width: 1100px;\n    height: 549px;\n    object-fit: cover;\n  }\n\n  button {\n    border: 0.0625rem solid rgb(17, 109, 255);\n    background-color: rgb(17, 109, 255);\n    border-radius: 1.875rem;\n    font-family: var(--main-text-font);\n    width: 12.125rem;\n    height: 3.5rem;\n    cursor: pointer;\n    color: #ffffff;\n    font-size: 1.5rem;\n    font-weight: 300;\n    margin-top: 0.625rem;\n    align-items: center;\n  }\n']))));var KU,GU,YU,$U,QU,XU,JU,ZU,eB,tB,nB=F((function(e){return{user:e.userState.user}}))((function(e){var t=e.user.uid;return(0,jb.jsxs)(zU,{children:[(0,jb.jsx)(Xb,{}),!e.user&&(0,jb.jsx)(Re,{to:"/"}),(0,jb.jsxs)(WU,{children:[(0,jb.jsxs)(HU,{children:[(0,jb.jsx)("h1",{children:(0,jb.jsx)("a",{children:"About Us"})}),(0,jb.jsx)("p",{children:'"The Last Coffee" is an Orbital Project founded by 2 Business Analytics Undergraduate from NUS, Zen and Kevin. As students that have just completed our first year at NUS, we hoped to create a better and more enjoyable transition for incoming freshies and current undergraduates by having an all-in-one student planner application that can function as both a tracker and a scheduler.'}),(0,jb.jsx)("p",{children:'Our Motivation: COVID-19 has reduced the chances for networking. Simultaneously, there are no online platforms that completely integrate both the aspects of individual and communal learning, for example, a student planner that doubles as a networking channel. Thus, we hope "The Last Coffee" can serve this purpose.'}),(0,jb.jsx)("p",{children:"Objectives: To allow students to have an all-in-one study application that encompasses the following - to track and monitor their academic progress and connect them with like-minded students who wish to network"}),(0,jb.jsx)("h2",{children:"Contact Us"})]}),(0,jb.jsx)(VU,{userUID:t})]})]})})),rB=On.div(KU||(KU=nt(["\n  grid-area: main;\n"]))),iB=On.div(GU||(GU=nt(["\n  text-align: center;\n  overflow: hidden;\n  margin-bottom: 8px;\n  background-color: #fff;\n  border-radius: 5px;\n  position: relative;\n  border: none;\n  box-shadow: 0 0 0 1px rgb(0 0 0 / 15%), 0 0 0 rgb(0 0 0 / 20%);\n"]))),oB=(On(iB)(YU||(YU=nt(["\n  display: flex;\n  flex-direction: column;\n  margin: 0 0 8px;\n  color: #958b7b;\n  div {\n    button {\n      outline: none;\n      color: rgba(0, 0, 0, 0.6);\n      font-size: 14px;\n      line-height: 1.5;\n      min-height: 48px;\n      display: flex;\n      align-items: center;\n      border: none;\n      background-color: transparent;\n      font-weight: 600;\n    }\n    &:first-child {\n      display: flex;\n      align-items: center;\n      padding: 8px 16px;\n      img {\n        width: 48px;\n        border-radius: 50%;\n        margin-right: 8px;\n      }\n      button {\n        margin: 4px 0;\n        flex-grow: 1;\n        padding-left: 16px;\n        border: 1px solid rgba(0, 0, 0, 0.15);\n        border-radius: 35px;\n        text-align: left;\n      }\n    }\n    &:nth-child(2) {\n      display: flex;\n      flex-wrap: wrap;\n      justify-content: space-around;\n      padding-bottom: 4px;\n      button {\n        img {\n          margin: 0 4px 0 -2px;\n        }\n      }\n    }\n  }\n"]))),On(iB)($U||($U=nt(["\n  padding: 0;\n  margin: 0 0 8px;\n  overflow: visible;\n"])))),aB=(On.div(QU||(QU=nt(["\n  padding-right: 40px;\n  flex-wrap: nowrap;\n  padding: 12px 16px 0;\n  margin-bottom: 8px;\n  display: flex;\n  align-items: center;\n  a {\n    margin-right: 12px;\n    flex-grow: 1;\n    overflow: hidden;\n    display: flex;\n    img {\n      width: 48px;\n      height: 48px;\n      border-radius: 50%;\n    }\n    & > div {\n      display: flex;\n      flex-direction: column;\n      flex-grow: 1;\n      flex-basis: 0;\n      margin-left: 8px;\n      overflow: hidden;\n      span {\n        text-align: left;\n        &:first-child {\n          font-size: 14px;\n          font-weight: 700;\n          color: #000;\n        }\n        &:nth-child(n + 2) {\n          font-size: 12px;\n          color: rgba(0, 0, 0, 0.6);\n        }\n      }\n    }\n  }\n  button {\n    position: absolute;\n    top: 0;\n    right: 12px;\n    border: none;\n    outline: none;\n    background: transparent;\n  }\n"]))),On.div(XU||(XU=nt(["\n  padding: 0 16px;\n  overflow: hidden;\n  font-size: 14px;\n  text-align: left;\n"]))),On.div(JU||(JU=nt(["\n  margin: 8px 16px 0;\n  background-color: #f9fafb;\n  img {\n    width: 100%;\n    height: 100%;\n  }\n"]))),On.ul(ZU||(ZU=nt(["\n  line-height: 1.3;\n  display: flex;\n  align-items: flex-start;\n  overflow: auto;\n  margin: 0 16px;\n  padding: 8px 0;\n  border-bottom: 1px solid #e9efdf;\n  color: rgba(0, 0, 0, 0.6);\n  list-style: none;\n  li {\n    margin-right: 5px;\n    font-size: 12px;\n    button {\n      display: flex;\n      border: none;\n      color: rgba(0, 0, 0, 0.6);\n      background: transparent;\n      span {\n        padding-left: 5px;\n      }\n    }\n  }\n"]))),On.div(eB||(eB=nt(["\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  margin: 4px 12px;\n  min-height: 40px;\n  padding-bottom: 5px;\n  button {\n    display: inline-flex;\n    align-items: center;\n    padding: 8px;\n    border: none;\n    background: transparent;\n    span {\n      margin-left: 4px;\n      color: rgba(0, 0, 0, 0.6);\n      font-size: 14px;\n    }\n  }\n  button.active {\n    span {\n      color: #0a66c2;\n      font-weight: 600;\n    }\n    svg {\n      fill: #0a66c2;\n    }\n  }\n"])))),sB=On.div(tB||(tB=nt(["\n  text-align: center;\n  & > img {\n    width: 30px;\n  }\n"])));var uB,cB,lB,fB=F((function(e){return{user:e.userState.user,loading:e.SBrequestsState.loading,SBrequests:e.SBrequestsState.SBrequests,ids:e.SBrequestsState.ids}}),(function(e){return{getSBrequests:function(t){return e(Sb(t))},SBrepost:function(t,n){return e(function(e,t){return function(n){ob.collection("SBDB").doc(t).set(e)}}(t,n))},SBdelete:function(t){return e(kb(t))}}}))((function(t){var n=t.user.uid;return(0,e.useEffect)((function(){t.getSBrequests(n)}),[]),(0,jb.jsx)(rB,{children:(0,jb.jsxs)(sB,{children:[t.loading&&(0,jb.jsx)("img",{src:"/images/spin-loader.gif",alt:""}),t.SBrequests.length>0&&t.SBrequests.map((function(e,n){return(0,jb.jsxs)(oB,{children:[(0,jb.jsx)("br",{}),(0,jb.jsxs)("h2",{children:[e.Actor.display_name," sent you a request to be a study buddy!"]}),(0,jb.jsx)("h3",{children:e.Actor.display_info}),(0,jb.jsxs)(aB,{children:[(0,jb.jsx)("img",{src:"/images/Acceptbtn1.svg",alt:"",onClick:function(r){return function(e,n,r){n.preventDefault(),e.Accepted="accepted",e.accepted_timestamp=Mn.default.firestore.Timestamp.now();var i=e.Poster.userUID,o=e.Actor.userUID,a=e.Poster.contact_info,s=e.Poster.display_info,u=e.Poster.display_name,c=e.Poster.display_picture,l=e.Actor.contact_info,f=e.Actor.display_info,h=o+i,d={Actor:{userUID:i,display_name:u,contact_info:a,display_picture:c,display_info:s},Poster:{userUID:o,display_name:e.Actor.display_name,contact_info:l,display_picture:e.Actor.display_picture,display_info:f},Accepted:"accepted",sent_timestamp:e.sent_timestamp,accepted_timestamp:Mn.default.firestore.Timestamp.now(),accepter:!0};t.SBdelete(r),t.SBrepost(e,r),t.SBrepost(d,h)}(e,r,t.ids[n])}}),(0,jb.jsx)("img",{src:"/images/Rejectbtn1.svg",alt:"",onClick:function(e){return function(e,n){e.preventDefault(),t.SBdelete(n)}(e,t.ids[n])}})]})]},n)}))]})})})),hB=On.div(uB||(uB=nt(["\n  max-width: 100%;\n"])));On.div(cB||(cB=nt(["\n  max-width: 1128px;\n  margin: auto;\n"]))),On.section(lB||(lB=nt(["\n  min-height: 50px;\n  margin: 16px 0 -30px;\n  box-sizing: content-box;\n  text-align: center;\n  text-decoration: underline;\n  display: flex;\n  justify-content: center;\n  h5 {\n    color: #0a66c2;\n    font-size: 14px;\n    margin-block-start: 0;\n    margin-block-end: 0;\n    a {\n      font-weight: 700;\n    }\n  }\n  p {\n    font-size: 14px;\n    color: #434649;\n    margin-block-start: 0;\n    margin-block-end: 0;\n    font-weight: 600;\n  }\n\n  @media (max-width: 768px) {\n    flex-direction: column;\n    padding: 0 5px;\n    margin: 16px 0;\n  }\n"])));var dB,pB,vB,gB,mB,yB=F((function(e){return{user:e.userState.user}}))((function(t){var n=t.user.uid,r=jn((0,e.useState)([]),2),i=(r[0],r[1]),o=jn((0,e.useState)(!1),2),a=(o[0],o[1]);return(0,e.useEffect)((function(){ob.collection("SBDB").get().then((function(e){var t=[];e.docs.forEach((function(e){var r=wx({id:e.id},e.data());e.data().posterUID===n&&"new"===e.data().Accepted&&t.push(r)})),a(!1),i(t),t.sort((function(e,t){return t.timestamp.seconds-e.timestamp.seconds}))}))}),[]),(0,jb.jsxs)(hB,{children:[(0,jb.jsx)(Xb,{}),!t.user&&(0,jb.jsx)(Re,{to:"/"}),(0,jb.jsx)(fB,{})]})})),bB=On.div(dB||(dB=nt(["\n  max-width: 100%;\n"]))),wB=On.div(pB||(pB=nt(["\n  max-width: 1128px;\n  margin: auto;\n"]))),_B=(On.section(vB||(vB=nt(["\n  min-height: 50px;\n  margin: 16px 0 -30px;\n  box-sizing: content-box;\n  text-align: center;\n  text-decoration: underline;\n  display: flex;\n  justify-content: center;\n  h5 {\n    color: #0a66c2;\n    font-size: 14px;\n    margin-block-start: 0;\n    margin-block-end: 0;\n    a {\n      font-weight: 700;\n    }\n  }\n  p {\n    font-size: 14px;\n    color: #434649;\n    margin-block-start: 0;\n    margin-block-end: 0;\n    font-weight: 600;\n  }\n\n  @media (max-width: 768px) {\n    flex-direction: column;\n    padding: 0 5px;\n    margin: 16px 0;\n  }\n"]))),On.div(gB||(gB=nt(['\n  display: grid;\n  grid-template-areas: "left main right";\n  grid-template-columns: minmax(0, 5fr) minmax(0, 12fr) minmax(300px, 7fr);\n  column-gap: 25px;\n  row-gap: 25px;\n  margin: 25px 0;\n  @media (max-width: 768px) {\n    display: flex;\n    flex-direction: column;\n    padding: 0 5px;\n  }\n']))),On.div(mB||(mB=nt(["\n  display: flex;\n  flex-flow: column nowrap;\n  align-items: center;\n  justify-content: space-evenly;\n  background-color: white;\n  width: 100%;\n  margin-left: auto;\n  margin-right: auto;\n\n  button {\n    border: 0.0625rem solid rgb(17, 109, 255);\n    background-color: rgb(17, 109, 255);\n    border-radius: 1.875rem;\n    font-family: var(--main-text-font);\n    width: 20rem;\n    height: 3.5rem;\n    cursor: pointer;\n    color: #ffffff;\n    font-size: 1.5rem;\n    font-weight: 300;\n    margin-top: 2rem;\n    align-items: center;\n    a:link {\n      text-decoration: none;\n    }\n\n    a:visited {\n      text-decoration: none;\n    }\n\n    a:hover {\n      text-decoration: none;\n    }\n\n    a:active {\n      text-decoration: none;\n    }\n\n    span {\n      color: white;\n      text-decoration: none;\n      background-color: none;\n    }\n  }\n"]))));var xB,SB,EB,kB,TB,CB,IB,PB,OB,AB,DB=F((function(e){return{user:e.userState.user}}))((function(t){var n=jn((0,e.useState)(""),2);return n[0],n[1],t.user.uid,(0,jb.jsxs)(bB,{children:[(0,jb.jsx)(Xb,{}),!t.user&&(0,jb.jsx)(Re,{to:"/"}),(0,jb.jsx)(wB,{children:(0,jb.jsx)(_B,{children:(0,jb.jsx)(Ze,{to:"/todolist",children:(0,jb.jsx)("a",{href:"/todolist",children:(0,jb.jsx)("img",{src:"/images/Backbtn1.svg",alt:""})})})})})]})})),NB=(n(6710),On.div(xB||(xB=nt(["\n  grid-area: main;\n"])))),RB=On.div(SB||(SB=nt(["\n  text-align: center;\n  overflow: hidden;\n  margin-bottom: 8px;\n  background-color: #fff;\n  border-radius: 5px;\n  position: relative;\n  border: none;\n  box-shadow: 0 0 0 1px rgb(0 0 0 / 15%), 0 0 0 rgb(0 0 0 / 20%);\n"]))),jB=(On(RB)(EB||(EB=nt(["\n  display: flex;\n  flex-direction: column;\n  margin: 0 0 8px;\n  color: #958b7b;\n  div {\n    button {\n      outline: none;\n      color: rgba(0, 0, 0, 0.6);\n      font-size: 14px;\n      line-height: 1.5;\n      min-height: 48px;\n      display: flex;\n      align-items: center;\n      border: none;\n      background-color: transparent;\n      font-weight: 600;\n    }\n    &:first-child {\n      display: flex;\n      align-items: center;\n      padding: 8px 16px;\n      img {\n        width: 48px;\n        border-radius: 50%;\n        margin-right: 8px;\n      }\n      button {\n        margin: 4px 0;\n        flex-grow: 1;\n        padding-left: 16px;\n        border: 1px solid rgba(0, 0, 0, 0.15);\n        border-radius: 35px;\n        text-align: left;\n      }\n    }\n    &:nth-child(2) {\n      display: flex;\n      flex-wrap: wrap;\n      justify-content: space-around;\n      padding-bottom: 4px;\n      button {\n        img {\n          margin: 0 4px 0 -2px;\n        }\n      }\n    }\n  }\n"]))),On(RB)(kB||(kB=nt(["\n  padding: 0;\n  margin: 0 0 8px;\n  overflow: visible;\n"])))),MB=(On.div(TB||(TB=nt(["\n  padding-right: 40px;\n  flex-wrap: nowrap;\n  padding: 12px 16px 0;\n  margin-bottom: 8px;\n  display: flex;\n  align-items: center;\n  a {\n    margin-right: 12px;\n    flex-grow: 1;\n    overflow: hidden;\n    display: flex;\n    img {\n      width: 48px;\n      height: 48px;\n      border-radius: 50%;\n    }\n    & > div {\n      display: flex;\n      flex-direction: column;\n      flex-grow: 1;\n      flex-basis: 0;\n      margin-left: 8px;\n      overflow: hidden;\n      span {\n        text-align: left;\n        &:first-child {\n          font-size: 14px;\n          font-weight: 700;\n          color: #000;\n        }\n        &:nth-child(n + 2) {\n          font-size: 12px;\n          color: rgba(0, 0, 0, 0.6);\n        }\n      }\n    }\n  }\n  button {\n    position: absolute;\n    top: 0;\n    right: 12px;\n    border: none;\n    outline: none;\n    background: transparent;\n  }\n"]))),On.div(CB||(CB=nt(["\n  padding: 0 16px;\n  overflow: hidden;\n  font-size: 14px;\n  text-align: left;\n"])))),LB=(On.div(IB||(IB=nt(["\n  margin: 8px 16px 0;\n  background-color: #f9fafb;\n  img {\n    width: 100%;\n    height: 100%;\n  }\n"]))),On.ul(PB||(PB=nt(["\n  line-height: 1.3;\n  display: flex;\n  align-items: flex-start;\n  overflow: auto;\n  margin: 0 16px;\n  padding: 8px 0;\n  border-bottom: 1px solid #e9efdf;\n  color: rgba(0, 0, 0, 0.6);\n  list-style: none;\n  li {\n    margin-right: 5px;\n    font-size: 12px;\n    button {\n      display: flex;\n      border: none;\n      color: rgba(0, 0, 0, 0.6);\n      background: transparent;\n      span {\n        padding-left: 5px;\n      }\n    }\n  }\n"]))),On.div(OB||(OB=nt(["\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  margin: 4px 12px;\n  min-height: 40px;\n  padding-bottom: 5px;\n  button {\n    display: inline-flex;\n    align-items: center;\n    padding: 8px;\n    border: none;\n    background: transparent;\n    span {\n      margin-left: 4px;\n      color: rgba(0, 0, 0, 0.6);\n      font-size: 14px;\n    }\n  }\n  button.active {\n    span {\n      color: #0a66c2;\n      font-weight: 600;\n    }\n    svg {\n      fill: #0a66c2;\n    }\n  }\n"])))),FB=On.div(AB||(AB=nt(["\n  text-align: center;\n  & > img {\n    width: 30px;\n  }\n"])));var UB,BB,qB,VB,zB,WB=F((function(e){return{user:e.userState.user,loading:e.TDLdoneState.loading,TDLdone:e.TDLdoneState.TDLdone,ids:e.TDLdoneState.ids}}),(function(e){return{getTDLdone:function(t){return e(wb(t))},TDLdelete:function(t){return e(Eb(t))}}}))((function(t){var n=jn((0,e.useState)("close"),2),r=(n[0],n[1],t.user.uid);return(0,e.useEffect)((function(){t.getTDLdone(r)}),[]),(0,jb.jsx)(NB,{children:(0,jb.jsxs)(FB,{children:[t.loading&&(0,jb.jsx)("img",{src:"/images/spin-loader.gif",alt:""}),t.TDLdone.length>0&&t.TDLdone.map((function(e,n){return(0,jb.jsxs)(jB,{children:[(0,jb.jsx)("br",{}),(0,jb.jsxs)("h2",{children:["Title: ",e.title]}),(0,jb.jsxs)("h3",{children:["Deadline: ",e.deadline]}),(0,jb.jsx)(MB,{children:e.description}),(0,jb.jsx)(LB,{children:(0,jb.jsx)("img",{src:"/images/Deletebtn1.svg",alt:"",onClick:function(e){return function(e,n){e.preventDefault(),t.TDLdelete(n)}(e,t.ids[n])}})})]},n)}))]})})})),HB=On.div(UB||(UB=nt(["\n  max-width: 100%;\n"]))),KB=On.div(BB||(BB=nt(["\n  max-width: 1128px;\n  margin: auto;\n"]))),GB=On.nav(qB||(qB=nt(["\n  margin-left: auto;\n  margin-bottom: -35px;\n  display: block;\n  @media (max-width: 768px) {\n    position: fixed;\n    left: 0;\n    bottom: 0;\n    background: white;\n    width: 100%;\n  }\n"]))),YB=On.ul(VB||(VB=nt(["\n  display: flex;\n  flex-wrap: nowrap;\n  list-style-type: none;\n  justify-content: space-between;\n"]))),$B=On.li(zB||(zB=nt(["\n  display: flex;\n  align-items: center;\n  a {\n    align-items: center;\n    background: transparent;\n    display: flex;\n    flex-direction: column;\n    font-size: 12px;\n    font-weight: 400;\n    justify-content: center;\n    line-height: 1.5;\n    min-height: 52px;\n    min-width: 100px;\n    position: relative;\n    text-decoration: none;\n    span {\n      color: rgba(0, 0, 0, 0.6);\n      display: flex;\n      align-items: center;\n      text-align: center;\n    }\n    @media (max-width: 768px) {\n      min-width: 50px;\n      font-size: 9px;\n      span > img {\n        width: 60%;\n      }\n    }\n  }\n"])));var QB=F((function(e){return{user:e.userState.user}}))((function(t){var n=jn((0,e.useState)([]),2),r=n[0],i=n[1],o=t.user.uid;return r.sort((function(e,t){var n=Tb(e.deadline,"00:00"),r=Tb(t.deadline,"00:00");return n.getTime()-r.getTime()})),(0,e.useEffect)((function(){ob.collection("TDLDB").get().then((function(e){var t=[];e.docs.forEach((function(e){if(console.log(e.data()),!0===e.data().completed&&e.data().userUID==o){var n=wx({id:e.id},e.data());t.push(n)}})),i(t)}))}),[]),(0,jb.jsxs)(HB,{children:[!t.user&&(0,jb.jsx)(Re,{to:"/"}),(0,jb.jsx)(Xb,{}),(0,jb.jsx)(GB,{children:(0,jb.jsx)(YB,{children:(0,jb.jsx)($B,{children:(0,jb.jsx)(Ze,{to:"/todolist",children:(0,jb.jsx)("a",{href:"/todolist",children:(0,jb.jsx)("img",{src:"/images/Togglebtn1.svg",alt:""})})})})})}),(0,jb.jsx)("h2",{children:"Well Done! You have completed the following tasks!"}),(0,jb.jsx)("br",{}),(0,jb.jsx)(KB,{children:(0,jb.jsx)(WB,{})})]})})),XB="NewCalendarForm_form__d5uur",JB="NewCalendarForm_control__X98VE",ZB="NewCalendarForm_actions__waUDm";var eq=function(t){var n=(0,e.useRef)(),r=(0,e.useRef)(),i=(0,e.useRef)(),o=(0,e.useRef)(),a=(0,e.useRef)(),s=t.userUID;return(0,jb.jsx)(Cw,{children:(0,jb.jsxs)("form",{className:XB,onSubmit:function(e){e.preventDefault();var u=n.current.value,c=r.current.value,l=i.current.value,f=o.current.value,h=a.current.value,d={userUID:s,title:u,startDate:c,startTime:l,endDate:f,endTime:h,startTimestamp:Tb(c,l)};console.log(d),t.onAddCalendar(d)},children:[(0,jb.jsxs)("div",{className:JB,children:[(0,jb.jsx)("label",{htmlFor:"title",children:"Event Title"}),(0,jb.jsx)("input",{type:"text",required:!0,id:"title",ref:n})]}),(0,jb.jsxs)("div",{className:JB,children:[(0,jb.jsx)("label",{htmlFor:"start date",children:"Event Start Date"}),(0,jb.jsx)("input",{type:"date",required:!0,id:"startDate",ref:r})]}),(0,jb.jsxs)("div",{className:JB,children:[(0,jb.jsx)("label",{htmlFor:"start time",children:"Event Start Time"}),(0,jb.jsx)("input",{type:"time",required:!0,id:"startTime",ref:i})]}),(0,jb.jsxs)("div",{className:JB,children:[(0,jb.jsx)("label",{htmlFor:"end date",children:"Event End Date"}),(0,jb.jsx)("input",{type:"date",required:!0,id:"endDate",ref:o})]}),(0,jb.jsxs)("div",{className:JB,children:[(0,jb.jsx)("label",{htmlFor:"end time",children:"Event End Time"}),(0,jb.jsx)("input",{type:"time",required:!0,id:"endTime",ref:a})]}),(0,jb.jsx)("div",{className:ZB,children:(0,jb.jsx)("button",{children:"Submit"})})]})})};var tq,nq,rq,iq,oq,aq=function(e){var t=Ke(),n=e.userUID;return(0,jb.jsxs)("section",{children:[(0,jb.jsx)("h1",{children:"Add New Calendar Event"}),(0,jb.jsx)(eq,{onAddCalendar:function(e){ob.collection("CLDDB").add(e).then((function(){t.replace("/mycalendar")}))},userUID:n})]})},sq=On.div(tq||(tq=nt(["\n  max-width: 100%;\n"]))),uq=(On.div(nq||(nq=nt(["\n  max-width: 1128px;\n  margin: auto;\n"]))),On.section(rq||(rq=nt(["\n  min-height: 50px;\n  margin: 16px 0 -30px;\n  box-sizing: content-box;\n  text-align: center;\n  text-decoration: underline;\n  display: flex;\n  justify-content: center;\n  h5 {\n    color: #0a66c2;\n    font-size: 14px;\n    margin-block-start: 0;\n    margin-block-end: 0;\n    a {\n      font-weight: 700;\n    }\n  }\n  p {\n    font-size: 14px;\n    color: #434649;\n    margin-block-start: 0;\n    margin-block-end: 0;\n    font-weight: 600;\n  }\n\n  @media (max-width: 768px) {\n    flex-direction: column;\n    padding: 0 5px;\n    margin: 16px 0;\n  }\n"]))),On.div(iq||(iq=nt(['\n  display: grid;\n  grid-template-areas: "left main right";\n  grid-template-columns: minmax(0, 5fr) minmax(0, 12fr) minmax(300px, 7fr);\n  column-gap: 25px;\n  row-gap: 25px;\n  margin: 25px 0;\n  @media (max-width: 768px) {\n    display: flex;\n    flex-direction: column;\n    padding: 0 5px;\n  }\n']))),On.div(oq||(oq=nt(["\n  display: flex;\n  flex-flow: column nowrap;\n  align-items: center;\n  justify-content: space-evenly;\n  background-color: white;\n  width: 100%;\n  margin-left: auto;\n  margin-right: auto;\n\n  button {\n    border: 0.0625rem solid rgb(17, 109, 255);\n    background-color: rgb(17, 109, 255);\n    border-radius: 1.875rem;\n    font-family: var(--main-text-font);\n    width: 20rem;\n    height: 3.5rem;\n    cursor: pointer;\n    color: #ffffff;\n    font-size: 1.5rem;\n    font-weight: 300;\n    margin-top: 2rem;\n    align-items: center;\n    a:link {\n      text-decoration: none;\n    }\n\n    a:visited {\n      text-decoration: none;\n    }\n\n    a:hover {\n      text-decoration: none;\n    }\n\n    a:active {\n      text-decoration: none;\n    }\n\n    span {\n      color: white;\n      text-decoration: none;\n      background-color: none;\n    }\n  }\n"]))));var cq=F((function(e){return{user:e.userState.user}}))((function(t){var n=jn((0,e.useState)(""),2),r=(n[0],n[1],t.user.uid);return(0,jb.jsxs)(sq,{children:[!t.user&&(0,jb.jsx)(Re,{to:"/"}),(0,jb.jsx)(Xb,{}),(0,jb.jsx)(uq,{children:(0,jb.jsx)(Ze,{to:"/mycalendar",children:(0,jb.jsx)("a",{href:"/mycalendar",children:(0,jb.jsx)("img",{src:"/images/Backbtn1.svg",alt:""})})})}),(0,jb.jsx)(aq,{userUID:r})]})})),lq="NewSBForm_form__Wb3I5",fq="NewSBForm_control__K4xQV",hq="NewSBForm_actions__rrt8D",dq=function(){return dq=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},dq.apply(this,arguments)};function pq(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}var vq="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},gq={exports:{}};!function(e){!function(){var t={}.hasOwnProperty;function n(){for(var e=[],r=0;r<arguments.length;r++){var i=arguments[r];if(i){var o=typeof i;if("string"===o||"number"===o)e.push(i);else if(Array.isArray(i)){if(i.length){var a=n.apply(null,i);a&&e.push(a)}}else if("object"===o)if(i.toString===Object.prototype.toString)for(var s in i)t.call(i,s)&&i[s]&&e.push(s);else e.push(i.toString())}}return e.join(" ")}e.exports?(n.default=n,e.exports=n):window.classNames=n}()}(gq);var mq=gq.exports,yq=Array.isArray,bq="object"==typeof vq&&vq&&vq.Object===Object&&vq,wq="object"==typeof self&&self&&self.Object===Object&&self,_q=bq||wq||Function("return this")(),xq=_q.Symbol,Sq=xq,Eq=Object.prototype,kq=Eq.hasOwnProperty,Tq=Eq.toString,Cq=Sq?Sq.toStringTag:void 0;var Iq=function(e){var t=kq.call(e,Cq),n=e[Cq];try{e[Cq]=void 0;var r=!0}catch(wm){}var i=Tq.call(e);return r&&(t?e[Cq]=n:delete e[Cq]),i},Pq=Object.prototype.toString;var Oq=Iq,Aq=function(e){return Pq.call(e)},Dq=xq?xq.toStringTag:void 0;var Nq=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Dq&&Dq in Object(e)?Oq(e):Aq(e)};var Rq=function(e){return null!=e&&"object"==typeof e},jq=Nq,Mq=Rq;var Lq=function(e){return"symbol"==typeof e||Mq(e)&&"[object Symbol]"==jq(e)},Fq=yq,Uq=Lq,Bq=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,qq=/^\w*$/;var Vq=function(e,t){if(Fq(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Uq(e))||(qq.test(e)||!Bq.test(e)||null!=t&&e in Object(t))};var zq=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},Wq=Nq,Hq=zq;var Kq=function(e){if(!Hq(e))return!1;var t=Wq(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},Gq=_q["__core-js_shared__"],Yq=function(){var e=/[^.]+$/.exec(Gq&&Gq.keys&&Gq.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();var $q=function(e){return!!Yq&&Yq in e},Qq=Function.prototype.toString;var Xq=Kq,Jq=$q,Zq=zq,eV=function(e){if(null!=e){try{return Qq.call(e)}catch(wm){}try{return e+""}catch(wm){}}return""},tV=/^\[object .+?Constructor\]$/,nV=Function.prototype,rV=Object.prototype,iV=nV.toString,oV=rV.hasOwnProperty,aV=RegExp("^"+iV.call(oV).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var sV=function(e,t){return null==e?void 0:e[t]},uV=function(e){return!(!Zq(e)||Jq(e))&&(Xq(e)?aV:tV).test(eV(e))},cV=sV;var lV=function(e,t){var n=cV(e,t);return uV(n)?n:void 0},fV=lV(Object,"create"),hV=fV;var dV=function(){this.__data__=hV?hV(null):{},this.size=0};var pV=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},vV=fV,gV=Object.prototype.hasOwnProperty;var mV=function(e){var t=this.__data__;if(vV){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return gV.call(t,e)?t[e]:void 0},yV=fV,bV=Object.prototype.hasOwnProperty;var wV=function(e){var t=this.__data__;return yV?void 0!==t[e]:bV.call(t,e)},_V=fV;var xV=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=_V&&void 0===t?"__lodash_hash_undefined__":t,this},SV=dV,EV=pV,kV=mV,TV=wV,CV=xV;function IV(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}IV.prototype.clear=SV,IV.prototype.delete=EV,IV.prototype.get=kV,IV.prototype.has=TV,IV.prototype.set=CV;var PV=IV;var OV=function(){this.__data__=[],this.size=0};var AV=function(e,t){return e===t||e!==e&&t!==t},DV=AV;var NV=function(e,t){for(var n=e.length;n--;)if(DV(e[n][0],t))return n;return-1},RV=NV,jV=Array.prototype.splice;var MV=function(e){var t=this.__data__,n=RV(t,e);return!(n<0)&&(n==t.length-1?t.pop():jV.call(t,n,1),--this.size,!0)},LV=NV;var FV=function(e){var t=this.__data__,n=LV(t,e);return n<0?void 0:t[n][1]},UV=NV;var BV=function(e){return UV(this.__data__,e)>-1},qV=NV;var VV=function(e,t){var n=this.__data__,r=qV(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},zV=OV,WV=MV,HV=FV,KV=BV,GV=VV;function YV(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}YV.prototype.clear=zV,YV.prototype.delete=WV,YV.prototype.get=HV,YV.prototype.has=KV,YV.prototype.set=GV;var $V=YV,QV=lV(_q,"Map"),XV=PV,JV=$V,ZV=QV;var ez=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var tz=function(e,t){var n=e.__data__;return ez(t)?n["string"==typeof t?"string":"hash"]:n.map},nz=tz;var rz=function(e){var t=nz(this,e).delete(e);return this.size-=t?1:0,t},iz=tz;var oz=function(e){return iz(this,e).get(e)},az=tz;var sz=function(e){return az(this,e).has(e)},uz=tz;var cz=function(e,t){var n=uz(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},lz=function(){this.size=0,this.__data__={hash:new XV,map:new(ZV||JV),string:new XV}},fz=rz,hz=oz,dz=sz,pz=cz;function vz(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}vz.prototype.clear=lz,vz.prototype.delete=fz,vz.prototype.get=hz,vz.prototype.has=dz,vz.prototype.set=pz;var gz=vz;function mz(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(mz.Cache||gz),n}mz.Cache=gz;var yz=mz;var bz=function(e){var t=yz(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t},wz=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,_z=/\\(\\)?/g,xz=bz((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(wz,(function(e,n,r,i){t.push(r?i.replace(_z,"$1"):n||e)})),t})),Sz=xz;var Ez=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i},kz=Ez,Tz=yq,Cz=Lq,Iz=xq?xq.prototype:void 0,Pz=Iz?Iz.toString:void 0;var Oz=function e(t){if("string"==typeof t)return t;if(Tz(t))return kz(t,e)+"";if(Cz(t))return Pz?Pz.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n},Az=Oz;var Dz=yq,Nz=Vq,Rz=Sz,jz=function(e){return null==e?"":Az(e)};var Mz=function(e,t){return Dz(e)?e:Nz(e,t)?[e]:Rz(jz(e))},Lz=Lq;var Fz=function(e){if("string"==typeof e||Lz(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t},Uz=Mz,Bz=Fz;var qz=function(e,t){for(var n=0,r=(t=Uz(t,e)).length;null!=e&&n<r;)e=e[Bz(t[n++])];return n&&n==r?e:void 0},Vz=qz;var zz=function(e,t,n){var r=null==e?void 0:Vz(e,t);return void 0===r?n:r};var Wz=function(e,t){return function(n){return e(t(n))}},Hz=Wz(Object.getPrototypeOf,Object),Kz=Nq,Gz=Hz,Yz=Rq,$z=Function.prototype,Qz=Object.prototype,Xz=$z.toString,Jz=Qz.hasOwnProperty,Zz=Xz.call(Object);var eW=function(e){if(!Yz(e)||"[object Object]"!=Kz(e))return!1;var t=Gz(e);if(null===t)return!0;var n=Jz.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Xz.call(n)==Zz},tW=lV,nW=function(){try{var e=tW(Object,"defineProperty");return e({},"",{}),e}catch(wm){}}(),rW=nW;var iW=function(e,t,n){"__proto__"==t&&rW?rW(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},oW=iW,aW=AV,sW=Object.prototype.hasOwnProperty;var uW=function(e,t,n){var r=e[t];sW.call(e,t)&&aW(r,n)&&(void 0!==n||t in e)||oW(e,t,n)},cW=/^(?:0|[1-9]\d*)$/;var lW=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&cW.test(e))&&e>-1&&e%1==0&&e<t},fW=uW,hW=Mz,dW=lW,pW=zq,vW=Fz;var gW=function(e,t,n,r){if(!pW(e))return e;for(var i=-1,o=(t=hW(t,e)).length,a=o-1,s=e;null!=s&&++i<o;){var u=vW(t[i]),c=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return e;if(i!=a){var l=s[u];void 0===(c=r?r(l,u,s):void 0)&&(c=pW(l)?l:dW(t[i+1])?[]:{})}fW(s,u,c),s=s[u]}return e},mW=qz,yW=gW,bW=Mz;var wW=function(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var a=t[r],s=mW(e,a);n(s,a)&&yW(o,bW(a,e),s)}return o};var _W=function(e,t){return null!=e&&t in Object(e)},xW=Nq,SW=Rq;var EW=function(e){return SW(e)&&"[object Arguments]"==xW(e)},kW=Rq,TW=Object.prototype,CW=TW.hasOwnProperty,IW=TW.propertyIsEnumerable,PW=EW(function(){return arguments}())?EW:function(e){return kW(e)&&CW.call(e,"callee")&&!IW.call(e,"callee")};var OW=Mz,AW=PW,DW=yq,NW=lW,RW=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},jW=Fz;var MW=function(e,t,n){for(var r=-1,i=(t=OW(t,e)).length,o=!1;++r<i;){var a=jW(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&RW(i)&&NW(a,i)&&(DW(e)||AW(e))},LW=_W,FW=MW;var UW=wW,BW=function(e,t){return null!=e&&FW(e,t,LW)};var qW=function(e,t){return UW(e,t,(function(t,n){return BW(e,n)}))};var VW=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e},zW=PW,WW=yq,HW=xq?xq.isConcatSpreadable:void 0;var KW=VW,GW=function(e){return WW(e)||zW(e)||!!(HW&&e&&e[HW])};var YW=function e(t,n,r,i,o){var a=-1,s=t.length;for(r||(r=GW),o||(o=[]);++a<s;){var u=t[a];n>0&&r(u)?n>1?e(u,n-1,r,i,o):KW(o,u):i||(o[o.length]=u)}return o},$W=YW;var QW=function(e){return(null==e?0:e.length)?$W(e,1):[]};var XW=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},JW=Math.max;var ZW=function(e,t,n){return t=JW(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=JW(r.length-t,0),a=Array(o);++i<o;)a[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=n(a),XW(e,this,s)}};var eH=function(e){return function(){return e}},tH=nW,nH=tH?function(e,t){return tH(e,"toString",{configurable:!0,enumerable:!1,value:eH(t),writable:!0})}:function(e){return e},rH=Date.now;var iH=function(e){var t=0,n=0;return function(){var r=rH(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}},oH=iH(nH),aH=QW,sH=ZW,uH=oH;var cH,lH=qW,fH=function(e){return uH(sH(e,void 0,aH),e+"")}((function(e,t){return null==e?{}:lH(e,t)})),hH={baseClassName:"rdn"};!function(e){e.LABEL="LABEL",e.OPTION="OPTION"}(cH||(cH={}));var dH=["view","label","value","className","id","disabled"],pH=function(e){return/string|number/.test(typeof e)},vH=function(t){return/null|undefined/.test(typeof t)?t:[t.view,t.label,t.value].find((function(t){return function(t){return(0,e.isValidElement)(t)||pH(t)}(t)}))},gH=function(e,t){void 0===t&&(t=null);var n=fH(e,dH);return{index:t,id:n.id||n.value,type:cH.OPTION,option:dq(dq({},n),{label:n.label||n.value})}},mH=function(e,t){void 0===t&&(t=0);var n=e.items.map((function(e,n){return gH(e,t+n)}));return pq([{label:e.name,type:cH.LABEL}],n)},yH=function(e){if(!Array.isArray(e))return[];var t=0;return e.reduce((function(e,n){if(function(e){return Array.isArray(zz(e,"items"))}(n)){var r=n,i=pq(pq([],e),[mH(r,t)]);return t+=r.items.length,i}if(eW(n)){i=pq(pq([],e),[gH(n,t)]);return t+=1,i}if(pH(n)){i=pq(pq([],e),[gH({value:n,label:n},t)]);return t+=1,i}return e}),[])},bH=function(e,t,n){return QW(e).filter((function(e){return e.type===cH.OPTION})).find((function(e){return n(e,t)}))},wH=function(e,t){var n=e.option.value;return n===t||n===zz(t,"value")},_H=function(t){var n=t.option,r=t.selected,i=t.onSelect,o=t.className,a=t.baseClassName,s=t.tabIndex,u=vH(n.option),c=n.option.disabled,l=mq(o,a+"-option",{"is-selected":r,"is-disabled-option":!!c}),f=function(e){return c?(e.stopPropagation(),e.preventDefault()):i(e,n)};return e.createElement("div",{"data-testid":"dropdown-option",className:l.trim(),onKeyDown:f,onMouseDown:f,onClick:f,role:"option","aria-selected":r,tabIndex:s},u)};_H.defaultProps=dq(dq({},hH),{tabIndex:-1});var xH=function(t){var n=t.option,r=t.selected,i=t.onSelect,o=t.className,a=t.baseClassName;return e.createElement("div",{className:mq(a+"-group",o),role:"listbox",tabIndex:-1},n.map((function(t){var n;if(t.type===cH.LABEL&&t.label)return e.createElement("div",{key:t.label,className:a+"-group-title"},t.label);if(t.type===cH.OPTION){var o=zz(r,"id")===t.id;return e.createElement(_H,{key:t.id,option:t,selected:o,onSelect:i,tabIndex:t.index,baseClassName:a+"-group",className:mq((n={},n[t.option.className]=!!t.option.className,n))})}return null})))};xH.defaultProps=dq({},hH);var SH=function(t){var n,r=t.selected,i=t.baseClassName,o=t.stateClassNames,a=t.options,s=t.onSelect,u=t.noOptionsDisplay,c=void 0===u?"No options found":u;return 0===a.length?e.createElement("div",{className:mq(dq((n={},n[i+"-menu-noresults"]=!0,n),o))},c):e.createElement(e.Fragment,null,a.map((function(t,n){var o;if(Array.isArray(t))return e.createElement(xH,{key:zz(t,"[0].label",n),option:t,baseClassName:i+"-menu",selected:r,onSelect:s});if(t.type===cH.OPTION){var a=zz(r,"id")===t.id;return e.createElement(_H,{key:t.id,option:t,selected:a,onSelect:s,tabIndex:t.index,baseClassName:i+"-menu",className:mq((o={},o[t.option.className]=!!t.option.className,o))})}return null})))};SH.defaultProps=dq({},hH);var EH=function(t){var n=t.isOpen,r=t.arrowClosed,i=t.arrowOpen,o=t.stateClassNames,a=mq("rdn-control-arrow",o),s=mq("rdn-control-arrow-icon",o),u=n?i:r;return e.createElement("div",{"data-testid":"dropdown-arrow",className:a},i&&r?u:e.createElement("span",{className:s}))},kH=function(t){var n=t.clearIcon,r=t.stateClassNames,i=t.onClick,o=t.onMouseDown,a=t.onTouchEnd,s=mq("rdn-control-clear",r),u=mq("rdn-control-clear-button",r),c=mq("rdn-control-clear-button-icon",r);return e.createElement("div",{"data-testid":"dropdown-clear",className:s},e.createElement("button",{"data-testid":"dropdown-clear-button",type:"button","aria-label":"clear",className:u,onClick:i,onMouseDown:o,onTouchEnd:a},n||e.createElement("span",{className:c})))};var TH=function(t){var n,r,i,o,a,s=t.placeholder,u=t.options,c=t.matcher,l=t.value,f=t.disabled,h=t.onOpen,d=t.onClose,p=t.onFocus,v=t.onChange,g=t.onSelect,m=t.baseClassName,y=t.arrowClosed,b=t.arrowOpen,w=t.className,_=t.noOptionsDisplay,x=t.innerRef,S=t.menu,E=t.clearIcon,k=t.isClearable,T=yH(u),C=(0,e.useState)((function(){return bH(T,l,c)})),I=C[0],P=C[1],O=(0,e.useState)(!1),A=O[0],D=O[1],N=(0,e.useRef)(null),R=function(e,t){void 0===t&&(t=!1),e&&"function"===typeof h&&h(),e||"function"!==typeof d||d(!!t)};!function(t){var n=t.ref,r=t.handler;(0,e.useEffect)((function(){var e=function(e){n.current&&!n.current.contains(e.target)&&r(e)};return document.addEventListener("mousedown",e,!1),document.addEventListener("touchstart",e,!1),function(){document.removeEventListener("mousedown",e,!1),document.removeEventListener("touchstart",e,!1)}}),[n,r])}({ref:N,handler:function(){A&&(D(!1),R(!1))}});var j=function(e){e.stopPropagation(),e.preventDefault()},M=function(e){if("function"===typeof p&&p(A),("mousedown"!==e.type||0===e.button)&&(j(e),!f)){var t=!A;D(t),R(t)}},L=function(e,t){(function(e){var t=N.current;return Boolean(e&&t&&t.contains(e.target))})(t)&&(g&&g(e.option,t),e.id!==zz(I,"id")&&v&&v(e.option,t))},F=(0,e.useCallback)((function(e,t){void 0===t&&(t=k);var n=bH(T,e,c);void 0===e&&t&&(L(gH(void 0)),P(e)),n&&(L(n),P(n))}),[T,c]);(0,e.useEffect)((function(){return F(l)}),[l]);var U=zz(I,"option.label",s||"Select..."),B=((n={})[w]=!!w,n["is-disabled"]=f,n["is-empty"]=!T.length,n["is-open"]=A,n),q=A?e.createElement(S,{"data-testid":"dropdown-menu",className:mq(dq((r={},r[m+"-drop"]=!0,r),B)),"aria-expanded":"true"},e.createElement(SH,{selected:I,options:T,stateClassNames:(i={},i[w]=!!w,i),baseClassName:m+"-drop",noOptionsDisplay:_,onSelect:function(e,t){return function(e,t){L(e,t),P(e),D(!1),R(!1,!0)}(t,e)}})):null;return e.createElement("div",{"data-testid":"dropdown-root",className:mq(dq((o={},o[m]=!0,o),B)),ref:N},e.createElement("div",{"data-testid":"dropdown-control",role:"presentation",ref:x,className:mq(m+"-control",B),onMouseDown:M,onTouchEnd:M},e.createElement("div",{"data-testid":"dropdown-placeholder",className:mq(dq((a={},a[m+"-control-placeholder"]=!0,a["is-selected"]=!!I,a),B))},U),I&&k?e.createElement(kH,{stateClassNames:B,clearIcon:E,onClick:function(e){j(e),F(void 0,k)},onMouseDown:j,onTouchEnd:j}):null,e.createElement(EH,{isOpen:A,stateClassNames:B,arrowClosed:y,arrowOpen:b})),q)};TH.defaultProps=dq(dq({},hH),{matcher:wH,onOpen:function(){},onClose:function(){},menu:"div"});(function(t){var n,r,i=t.options,o=t.onSelect,a=t.matcher,s=t.value,u=t.disabled,c=t.onChange,l=t.baseClassName,f=t.className,h=t.noOptionsDisplay,d=t.menu,p=yH(i),v=(0,e.useState)((function(){return bH(p,s,a)})),g=v[0],m=v[1],y=function(e,t){return void 0===t&&(t=null),u?null:(m(e),function(e,t){void 0===t&&(t=null),o&&o(e.option,t),e.id!==zz(g,"id")&&c&&c(e.option,t)}(e,t))},b=mq(l+"-selection",((n={})[f]=!!f,n["is-disabled"]=u,n["is-empty"]=!p.length,n));return e.createElement(d,{className:b},e.createElement(SH,{selected:g,options:p,stateClassNames:(r={},r[f]=!!f,r),baseClassName:l+"-selection",noOptionsDisplay:h,onSelect:function(e,t){return y(t,e)}}))}).defaultProps=dq(dq({},hH),{onChange:function(){},matcher:wH,menu:"div"});var CH=function(t){var n=(0,e.useRef)(),r=(0,e.useRef)(),i=t.userUID,o=jn((0,e.useState)(""),2),a=o[0],s=o[1],u=jn((0,e.useState)(""),2),c=u[0],l=u[1],f=jn((0,e.useState)(""),2),h=f[0],d=f[1],p=jn((0,e.useState)(""),2),v=p[0],g=p[1],m=jn((0,e.useState)(""),2),y=m[0],b=m[1];return(0,jb.jsx)(Cw,{children:(0,jb.jsxs)("form",{className:lq,onSubmit:function(e){e.preventDefault();var o=""!=v?v:"No Preference",s=n.current.value,u=""!=c?c:"No Preference",l=""!=a?a:"No Preference",f=""!=h?h:"No Preference",d=r.current.value,p={posterUID:i,gender:o,info:s,location:u,number:l,timing:f,description:d,faculty:""!=y?y:"No Preference",timestamp:Mn.default.firestore.Timestamp.now()};t.onAddSB(p)},children:[(0,jb.jsxs)("div",{className:fq,children:[(0,jb.jsx)("label",{htmlFor:"info",children:"My Info"}),(0,jb.jsx)("input",{type:"text",required:!0,id:"info",ref:n})]}),(0,jb.jsx)("br",{}),(0,jb.jsxs)("div",{className:fq,children:[(0,jb.jsx)("label",{htmlFor:"description",children:"Description"}),(0,jb.jsx)("textarea",{id:"description",required:!0,rows:"3",ref:r})]}),(0,jb.jsx)("br",{}),(0,jb.jsxs)("div",{className:fq,children:[(0,jb.jsx)("label",{htmlFor:"timing",children:"Preferred Number of Study Buddies:"}),(0,jb.jsx)(TH,{placeholder:"No Preference",options:["No preference","1","2","3","4","5","Big Group Studying!"],onChange:function(e){return s(e.value)},onSelect:function(e){return s(e.value)},onClose:function(e){return console.log("closedBySelection?:",e)},onOpen:function(){return console.log("open!")}})]}),(0,jb.jsx)("br",{}),(0,jb.jsxs)("div",{className:fq,children:[(0,jb.jsx)("label",{htmlFor:"location",children:"Preferred Study Locations:"}),(0,jb.jsx)(TH,{placeholder:"No Preference",options:["No preference","Business","Central Library","Computing","Faculty of Arts and Social Science","Halls, Residential Colleges and Residences","Law","Medicine","NUH","Science","School of Design and Engineering","UTown","Others"],onChange:function(e){return l(e.value)},onSelect:function(e){return l(e.value)},onClose:function(e){return console.log("closedBySelection?:",e)},onOpen:function(){return console.log("open!")}})]}),(0,jb.jsx)("br",{}),(0,jb.jsxs)("div",{className:fq,children:[(0,jb.jsx)("label",{htmlFor:"timing",children:"Preferred Study Timings:"}),(0,jb.jsx)(TH,{placeholder:"No Preference",options:["No preference","Morning","Afternoon","Evening","Night"],onChange:function(e){return d(e.value)},onSelect:function(e){return d(e.value)},onClose:function(e){return console.log("closedBySelection?:",e)},onOpen:function(){return console.log("open!")}})]}),(0,jb.jsx)("br",{}),(0,jb.jsxs)("div",{className:fq,children:[(0,jb.jsx)("label",{htmlFor:"gender",children:"Preferred Gender:"}),(0,jb.jsx)(TH,{placeholder:"No Preference",options:["No preference","Male only","Female only"],onChange:function(e){return g(e.value)},onSelect:function(e){return g(e.value)},onClose:function(e){return console.log("closedBySelection?:",e)},onOpen:function(){return console.log("open!")}})]}),(0,jb.jsx)("br",{}),(0,jb.jsxs)("div",{className:fq,children:[(0,jb.jsx)("label",{htmlFor:"faculty",children:"Preferred Faculty:"}),(0,jb.jsx)(TH,{placeholder:"No Preference",options:["No preference","Business","College of Humanities and Sciences (CHS)","College of Design and Engineering (CDE)","Computing","Dentistry","Law","Medicine","Science","Nursing","Pharmacy","Music"],onChange:function(e){return b(e.value)},onSelect:function(e){return b(e.value)},onClose:function(e){return console.log("closedBySelection?:",e)},onOpen:function(){return console.log("open!")}})]}),(0,jb.jsx)("br",{}),(0,jb.jsx)("div",{className:hq,children:(0,jb.jsx)("button",{children:"Submit"})})]})})};var IH,PH,OH,AH,DH,NH=function(e){var t=Ke(),n=e.userUID;return(0,jb.jsx)("section",{children:(0,jb.jsx)(CH,{onAddSB:function(e){console.log("sheesh"),ob.collection("SB Posts").doc(n).set(e).then((function(){t.replace("/findstudybuddy")}))},userUID:n})})},RH=On.div(IH||(IH=nt(["\n  max-width: 100%;\n"]))),jH=On.div(PH||(PH=nt(["\n  max-width: 1128px;\n  margin: auto;\n"]))),MH=(On.section(OH||(OH=nt(["\n  min-height: 50px;\n  margin: 16px 0 -30px;\n  box-sizing: content-box;\n  text-align: center;\n  text-decoration: underline;\n  display: flex;\n  justify-content: center;\n  h5 {\n    color: #0a66c2;\n    font-size: 14px;\n    margin-block-start: 0;\n    margin-block-end: 0;\n    a {\n      font-weight: 700;\n    }\n  }\n  p {\n    font-size: 14px;\n    color: #434649;\n    margin-block-start: 0;\n    margin-block-end: 0;\n    font-weight: 600;\n  }\n\n  @media (max-width: 768px) {\n    flex-direction: column;\n    padding: 0 5px;\n    margin: 16px 0;\n  }\n"]))),On.div(AH||(AH=nt(['\n  display: grid;\n  grid-template-areas: "left main right";\n  grid-template-columns: minmax(0, 5fr) minmax(0, 12fr) minmax(300px, 7fr);\n  column-gap: 25px;\n  row-gap: 25px;\n  margin: 25px 0;\n  @media (max-width: 768px) {\n    display: flex;\n    flex-direction: column;\n    padding: 0 5px;\n  }\n']))),On.section(DH||(DH=nt(["\n  margin-bottom: 0.5rem;\n  input,\n  textarea {\n    display: block;\n    font: inherit;\n    border-radius: 4px;\n    border: 1px solid #ccc;\n    padding: 0.25rem;\n    width: 100%;\n  }\n"]))));var LH,FH,UH,BH,qH,VH,zH,WH,HH,KH,GH=F((function(e){return{user:e.userState.user}}))((function(t){var n=t.user.uid,r=jn((0,e.useState)(null),2),i=(r[0],r[1]);return ob.collection("DPDB").where(Mn.default.firestore.FieldPath.documentId(),"==",n).get().then((function(e){return e.docs.forEach((function(e){i(e.data())}))})),(0,jb.jsxs)(RH,{children:[(0,jb.jsx)(Xb,{}),!t.user&&(0,jb.jsx)(Re,{to:"/"}),(0,jb.jsxs)(jH,{children:[(0,jb.jsx)(MH,{children:(0,jb.jsx)(Ze,{to:"/findstudybuddy",children:(0,jb.jsx)("a",{href:"/findstudybuddy",children:(0,jb.jsx)("img",{src:"/images/Backbtn1.svg",alt:""})})})}),(0,jb.jsx)(NH,{userUID:n})]})]})})),YH=On.div(LH||(LH=nt(["\n  grid-area: main;\n"]))),$H=On.div(FH||(FH=nt(["\n  text-align: center;\n  overflow: hidden;\n  margin-bottom: 8px;\n  background-color: #fff;\n  border-radius: 5px;\n  position: relative;\n  border: none;\n  box-shadow: 0 0 0 1px rgb(0 0 0 / 15%), 0 0 0 rgb(0 0 0 / 20%);\n"]))),QH=(On($H)(UH||(UH=nt(["\n  display: flex;\n  flex-direction: column;\n  margin: 0 0 8px;\n  color: #958b7b;\n  div {\n    button {\n      outline: none;\n      color: rgba(0, 0, 0, 0.6);\n      font-size: 14px;\n      line-height: 1.5;\n      min-height: 48px;\n      display: flex;\n      align-items: center;\n      border: none;\n      background-color: transparent;\n      font-weight: 600;\n    }\n    &:first-child {\n      display: flex;\n      align-items: center;\n      padding: 8px 16px;\n      img {\n        width: 48px;\n        border-radius: 50%;\n        margin-right: 8px;\n      }\n      button {\n        margin: 4px 0;\n        flex-grow: 1;\n        padding-left: 16px;\n        border: 1px solid rgba(0, 0, 0, 0.15);\n        border-radius: 35px;\n        text-align: left;\n      }\n    }\n    &:nth-child(2) {\n      display: flex;\n      flex-wrap: wrap;\n      justify-content: space-around;\n      padding-bottom: 4px;\n      button {\n        img {\n          margin: 0 4px 0 -2px;\n        }\n      }\n    }\n  }\n"]))),On($H)(BH||(BH=nt(["\n  padding: 0;\n  margin: 0 0 8px;\n  overflow: visible;\n"])))),XH=(On.div(qH||(qH=nt(["\n  padding-right: 40px;\n  flex-wrap: nowrap;\n  padding: 12px 16px 0;\n  margin-bottom: 8px;\n  display: flex;\n  align-items: center;\n  a {\n    margin-right: 12px;\n    flex-grow: 1;\n    overflow: hidden;\n    display: flex;\n    img {\n      width: 48px;\n      height: 48px;\n      border-radius: 50%;\n    }\n    & > div {\n      display: flex;\n      flex-direction: column;\n      flex-grow: 1;\n      flex-basis: 0;\n      margin-left: 8px;\n      overflow: hidden;\n      span {\n        text-align: left;\n        &:first-child {\n          font-size: 14px;\n          font-weight: 700;\n          color: #000;\n        }\n        &:nth-child(n + 2) {\n          font-size: 12px;\n          color: rgba(0, 0, 0, 0.6);\n        }\n      }\n    }\n  }\n  button {\n    position: absolute;\n    top: 0;\n    right: 12px;\n    border: none;\n    outline: none;\n    background: transparent;\n  }\n"]))),On.div(VH||(VH=nt(["\n  padding: 0 16px;\n  overflow: hidden;\n  font-size: 14px;\n  text-align: left;\n"]))),On.div(zH||(zH=nt(["\n  margin: 8px 16px 0;\n  background-color: #f9fafb;\n  img {\n    width: 100%;\n    height: 100%;\n  }\n"]))),On.ul(WH||(WH=nt(["\n  line-height: 1.3;\n  display: flex;\n  align-items: flex-start;\n  overflow: auto;\n  margin: 0 16px;\n  padding: 8px 0;\n  border-bottom: 1px solid #e9efdf;\n  color: rgba(0, 0, 0, 0.6);\n  list-style: none;\n  li {\n    margin-right: 5px;\n    font-size: 12px;\n    button {\n      display: flex;\n      border: none;\n      color: rgba(0, 0, 0, 0.6);\n      background: transparent;\n      span {\n        padding-left: 5px;\n      }\n    }\n  }\n"]))),On.div(HH||(HH=nt(["\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  margin: 4px 12px;\n  min-height: 40px;\n  padding-bottom: 5px;\n  button {\n    display: inline-flex;\n    align-items: center;\n    padding: 8px;\n    border: none;\n    background: transparent;\n    span {\n      margin-left: 4px;\n      color: rgba(0, 0, 0, 0.6);\n      font-size: 14px;\n    }\n  }\n  button.active {\n    span {\n      color: #0a66c2;\n      font-weight: 600;\n    }\n    svg {\n      fill: #0a66c2;\n    }\n  }\n"])))),JH=On.div(KH||(KH=nt(["\n  text-align: center;\n  & > img {\n    width: 30px;\n  }\n"])));var ZH,eK,tK,nK,rK,iK,oK,aK,sK=F((function(e){return{user:e.userState.user,loading:e.calendarState.loading,calendars:e.calendarState.calendars,ids:e.calendarState.ids}}),(function(e){return{getCalendar:function(t){return e(_b(t))},calendarDelete:function(t){return e(function(e){return function(t){ob.collection("CLDDB").doc(e).delete()}}(t))}}}))((function(t){var n=t.user.uid;return(0,e.useEffect)((function(){t.getCalendar(n)}),[]),(0,jb.jsx)(YH,{children:(0,jb.jsxs)(JH,{children:[t.loading&&(0,jb.jsx)("img",{src:"/images/spin-loader.gif",alt:""}),t.calendars.length>0&&t.calendars.map((function(e,n){return(0,jb.jsxs)(QH,{children:[(0,jb.jsx)("br",{}),(0,jb.jsxs)("h2",{children:["Title: ",e.title]}),(0,jb.jsxs)("h3",{children:["Start Date: ",e.startDate," ",e.startTime]}),(0,jb.jsxs)("h3",{children:["End Date: ",e.endDate," ",e.endTime]}),(0,jb.jsx)(XH,{children:(0,jb.jsx)("img",{src:"/images/Deletebtn1.svg",alt:"",onClick:function(e){return function(e,n){e.preventDefault(),t.calendarDelete(n)}(e,t.ids[n])}})})]},n)}))]})})})),uK=On.div(ZH||(ZH=nt(["\n  max-width: 100%;\n"]))),cK=(On.div(eK||(eK=nt(["\n  max-width: 1128px;\n  margin: auto;\n"]))),On.section(tK||(tK=nt(["\n  min-height: 50px;\n  margin: 16px 0 -30px;\n  box-sizing: content-box;\n  text-align: center;\n  text-decoration: underline;\n  display: flex;\n  justify-content: center;\n  h5 {\n    color: #0a66c2;\n    font-size: 14px;\n    margin-block-start: 0;\n    margin-block-end: 0;\n    a {\n      font-weight: 700;\n    }\n  }\n  p {\n    font-size: 14px;\n    color: #434649;\n    margin-block-start: 0;\n    margin-block-end: 0;\n    font-weight: 600;\n  }\n\n  @media (max-width: 768px) {\n    flex-direction: column;\n    padding: 0 5px;\n    margin: 16px 0;\n  }\n"]))),On.div(nK||(nK=nt(['\n  display: grid;\n  grid-template-areas: "left main right";\n  grid-template-columns: minmax(0, 5fr) minmax(0, 12fr) minmax(300px, 7fr);\n  column-gap: 25px;\n  row-gap: 25px;\n  margin: 25px 0;\n  @media (max-width: 768px) {\n    display: flex;\n    flex-direction: column;\n    padding: 0 5px;\n  }\n']))),On.div(rK||(rK=nt(["\n  display: flex;\n  flex-flow: column nowrap;\n  align-items: center;\n  justify-content: space-evenly;\n  background-color: white;\n  width: 100%;\n  margin-left: auto;\n  margin-right: auto;\n\n  button {\n    border: 0.0625rem solid rgb(17, 109, 255);\n    background-color: rgb(17, 109, 255);\n    border-radius: 1.875rem;\n    font-family: var(--main-text-font);\n    width: 20rem;\n    height: 3.5rem;\n    cursor: pointer;\n    color: #ffffff;\n    font-size: 1.5rem;\n    font-weight: 300;\n    margin-top: 2rem;\n    align-items: left;\n    a:link {\n      text-decoration: none;\n    }\n\n    a:visited {\n      text-decoration: none;\n    }\n\n    a:hover {\n      text-decoration: none;\n    }\n\n    a:active {\n      text-decoration: none;\n    }\n\n    span {\n      color: white;\n      text-decoration: none;\n      background-color: none;\n    }\n  }\n"]))),On.nav(iK||(iK=nt(["\n  margin-left: auto;\n  margin-bottom: -20px;\n  display: block;\n  @media (max-width: 768px) {\n    position: fixed;\n    left: 0;\n    bottom: 0;\n    background: white;\n    width: 100%;\n  }\n"])))),lK=On.ul(oK||(oK=nt(["\n  display: flex;\n  flex-wrap: nowrap;\n  list-style-type: none;\n  justify-content: space-between;\n"]))),fK=On.li(aK||(aK=nt(["\n  display: flex;\n  align-items: center;\n  a {\n    align-items: center;\n    background: transparent;\n    display: flex;\n    flex-direction: column;\n    font-size: 12px;\n    font-weight: 400;\n    justify-content: center;\n    line-height: 1.5;\n    min-height: 52px;\n    min-width: 100px;\n    position: relative;\n    text-decoration: none;\n    span {\n      color: rgba(0, 0, 0, 0.6);\n      display: flex;\n      align-items: center;\n      text-align: center;\n    }\n    @media (max-width: 768px) {\n      min-width: 50px;\n      font-size: 9px;\n      span > img {\n        width: 60%;\n      }\n    }\n  }\n"])));var hK=F((function(e){return{user:e.userState.user}}))((function(t){var n=jn((0,e.useState)([]),2),r=n[0];return n[1],t.user.uid,r.sort((function(e,t){var n=Tb(e.startDate,e.startTime),r=Tb(t.startDate,t.startTime);return n.getTime()-r.getTime()})),(0,jb.jsxs)(uK,{children:[!t.user&&(0,jb.jsx)(Re,{to:"/"}),(0,jb.jsx)(Xb,{}),(0,jb.jsx)(cK,{children:(0,jb.jsx)(lK,{children:(0,jb.jsx)(fK,{children:(0,jb.jsx)(Ze,{to:"/mycalendar",children:(0,jb.jsx)("a",{href:"/mycalendar",children:(0,jb.jsx)("img",{src:"/images/Backbtn1.svg",alt:""})})})})})}),(0,jb.jsx)("br",{}),(0,jb.jsx)(sK,{})]})})),dK="EditProfileForm_form__Hv6h0",pK="EditProfileForm_control__dmDvm",vK="EditProfileForm_actions__dXryF";var gK=function(t){var n=jn((0,e.useState)(""),2),r=n[0],i=n[1],o=jn((0,e.useState)(""),2),a=o[0],s=o[1],u=jn((0,e.useState)(""),2),c=u[0],l=u[1],f=jn((0,e.useState)(""),2),h=f[0],d=f[1],p=t.userUID,v=jn((0,e.useState)(""),2),g=v[0],m=v[1],y=jn((0,e.useState)(""),2),b=y[0],w=y[1],_=jn((0,e.useState)(""),2),x=_[0],S=_[1],E=jn((0,e.useState)(""),2),k=E[0],T=E[1],C=jn((0,e.useState)(""),2),I=C[0],P=C[1],O=jn((0,e.useState)(""),2),A=O[0],D=O[1],N=[];return ob.collection("DPDB").where(Mn.default.firestore.FieldPath.documentId(),"==",p).get().then((function(e){return e.docs.forEach((function(e){!function(e){var t=e.data().Actor.contact_info,n=e.data().Actor.display_info,r=e.data().Actor.display_name,o=e.data().Actor.gender,a=e.data().Actor.faculty,u=e.data().Actor.year;d(e.data().Actor.display_picture),i(r),s(t),l(n),N.push(r,t,n,o,a,u)}(e)}))})),(0,jb.jsx)(Cw,{children:(0,jb.jsxs)("form",{className:dK,onSubmit:function(e){e.preventDefault();var n=[],r=[];n.push(g,b,x,k,I,A);for(var i=0;i<N.length;i++){var o=N[i],a=n[i];""===a?r.push(o):r.push(a)}var s={Actor:{display_name:r[0],contact_info:r[1],display_picture:h,display_info:r[2],gender:r[3],faculty:r[4],year:r[5]}};t.onAddData(s)},children:[(0,jb.jsxs)("div",{className:pK,children:[(0,jb.jsxs)("label",{htmlFor:"name",children:["Display Name: ",r]}),(0,jb.jsx)("input",{type:"text",onChange:function(e){m(e.target.value)},placeholder:"New Name"})]}),(0,jb.jsx)("br",{}),(0,jb.jsxs)("div",{className:pK,children:[(0,jb.jsxs)("label",{htmlFor:"email",children:["Contact Info: ",a]}),(0,jb.jsx)("input",{type:"text",onChange:function(e){w(e.target.value)},placeholder:"New Email/ Telehandle/ Phone number"})]}),(0,jb.jsx)("br",{}),(0,jb.jsxs)("div",{className:pK,children:[(0,jb.jsxs)("label",{htmlFor:"displayinfo",children:["Display Info: ",c]}),(0,jb.jsx)("textarea",{id:"displayinfo",rows:"3",onChange:function(e){S(e.target.value)},placeholder:"New Display Info"})]}),(0,jb.jsx)("br",{}),(0,jb.jsxs)("div",{className:pK,children:[(0,jb.jsx)("label",{htmlFor:"gender",children:"Gender: "}),(0,jb.jsx)(TH,{placeholder:"Select Gender",options:["Male","Female","Others","Prefer not to say"],onChange:function(e){return T(e.value)},onSelect:function(e){return T(e.value)},onClose:function(e){return console.log("closedBySelection?:",e)},onOpen:function(){return console.log("open!")}})]}),(0,jb.jsx)("br",{}),(0,jb.jsxs)("div",{className:pK,children:[(0,jb.jsx)("label",{htmlFor:"faculty",children:"Faculty:"}),(0,jb.jsx)(TH,{placeholder:"Select Faculty",options:["No preference","Business","College of Humanities and Sciences (CHS)","College of Design and Engineering (CDE)","Computing","Dentistry","Law","Medicine","Science","Nursing","Pharmacy","Music"],onChange:function(e){return P(e.value)},onSelect:function(e){return P(e.value)},onClose:function(e){return console.log("closedBySelection?:",e)},onOpen:function(){return console.log("open!")}})]}),(0,jb.jsx)("br",{}),(0,jb.jsxs)("div",{className:pK,children:[(0,jb.jsx)("label",{htmlFor:"year",children:"Year of Study:"}),(0,jb.jsx)(TH,{placeholder:"Select Year of Study",options:["Year 1","Year 2","Year 3","Year 4","PHD","Graduated"],onChange:function(e){return D(e.value)},onSelect:function(e){return D(e.value)},onClose:function(e){return console.log("closedBySelection?:",e)},onOpen:function(){return console.log("open!")}})]}),(0,jb.jsx)("div",{className:vK,children:(0,jb.jsx)("button",{children:"Submit"})})]})})};var mK,yK,bK,wK,_K,xK,SK,EK,kK,TK=function(e){var t=Ke(),n=e.userUID;return(0,jb.jsx)("section",{children:(0,jb.jsx)(gK,{onAddData:function(e){ob.collection("DPDB").doc(n).set(e).then((function(){t.replace("/myprofile")}))},userUID:n})})},CK=On.div(mK||(mK=nt(["\n  max-width: 100%;\n"]))),IK=On.div(yK||(yK=nt(["\n  max-width: 1128px;\n  margin: auto;\n"]))),PK=(On.section(bK||(bK=nt(["\n  min-height: 50px;\n  margin: 16px 0 -30px;\n  box-sizing: content-box;\n  text-align: center;\n  text-decoration: underline;\n  display: flex;\n  justify-content: center;\n  h5 {\n    color: #0a66c2;\n    font-size: 14px;\n    margin-block-start: 0;\n    margin-block-end: 0;\n    a {\n      font-weight: 700;\n    }\n  }\n  p {\n    font-size: 14px;\n    color: #434649;\n    margin-block-start: 0;\n    margin-block-end: 0;\n    font-weight: 600;\n  }\n\n  @media (max-width: 768px) {\n    flex-direction: column;\n    padding: 0 5px;\n    margin: 16px 0;\n  }\n"]))),On.div(wK||(wK=nt(['\n  display: grid;\n  grid-template-areas: "left main ";\n  grid-template-columns: minmax(0, 5fr) minmax(0, 17fr);\n  column-gap: 25px;\n  row-gap: 25px;\n  margin: 25px 0;\n  @media (max-width: 768px) {\n    display: flex;\n    flex-direction: column;\n    padding: 0 5px;\n  }\n'])))),OK=(On.div(_K||(_K=nt(["\n  img {\n    margin-top: 5px;\n    width: 830px;\n    border-radius: 100px;\n    float: left;\n    margin-right: 10px;\n    object-fit: cover;\n  }\n"]))),On.div(xK||(xK=nt(["\n  input,\n  textarea {\n    display: block;\n    font: inherit;\n    border-radius: 4px;\n    border: 1px solid #ccc;\n    padding: 0.25rem;\n    width: 100%;\n  }\n"]))),On.div(SK||(SK=nt(["\n  border-bottom: 1px solid rgba(0, 0, 0, 0.15);\n  padding: 12px 12px 16px;\n  word-wrap: break-word;\n  word-break: break-word;\n"]))),On.div(EK||(EK=nt(["\n  box-shadow: none;\n  background: url(",");\n  width: 72px;\n  height: 72px;\n  box-sizing: border-box;\n  background-clip: content-box;\n  background-color: #fff;\n  background-position: center;\n  /* background-size: 60%; */\n  background-repeat: no-repeat;\n  border: 2px solid white;\n  margin: -38px auto 12px;\n  border-radius: 50%;\n"])),(function(e){return e.photoURL}))),AK=On.div(kK||(kK=nt(["\n  img {\n    cursor: pointer;\n  }\n  input {\n    display: none;\n  }\n"])));var DK,NK,RK,jK=F((function(e){return{user:e.userState.user}}))((function(t){var n=t.user.uid,r=jn((0,e.useState)(""),2),i=(r[0],r[1]),o=jn((0,e.useState)(""),2),a=(o[0],o[1]),s=jn((0,e.useState)(""),2),u=(s[0],s[1]),c=jn((0,e.useState)(""),2),l=c[0],f=c[1];ob.collection("DPDB").where(Mn.default.firestore.FieldPath.documentId(),"==",n).get().then((function(e){return e.docs.forEach((function(e){!function(e){i(e.data().Actor.contact_info),a(e.data().Actor.display_info),u(e.data().Actor.display_name),f(e.data().Actor.display_picture)}(e)}))}));var h=function(){var t=jn((0,e.useState)(null),2),r=t[0],i=t[1],o=jn((0,e.useState)(""),2),a=(o[0],o[1]);return(0,jb.jsxs)(AK,{children:[(0,jb.jsx)("br",{}),(0,jb.jsx)("label",{for:"file-input",children:(0,jb.jsx)("img",{src:"/images/Uploadbtn1.svg"})}),(0,jb.jsx)("input",{id:"file-input",type:"file",onChange:function(e){e.target.files[0]&&i(e.target.files[0])}}),(0,jb.jsx)("img",{src:"/images/Submitbtn1.svg",alt:"",onClick:function(){ib.ref("".concat(n,"/images/").concat(r.name)).put(r).on("state_changed",(function(e){}),(function(e){console.log(e)}),(function(){ib.ref("".concat(n,"/images")).child(r.name).getDownloadURL().then((function(e){console.log(e),a(e),ob.collection("DPDB").doc(n).update({"Actor.display_picture":e})}))}))}}),(0,jb.jsx)("br",{})]})};return(0,jb.jsxs)(CK,{children:[(0,jb.jsx)(Xb,{}),!t.user&&(0,jb.jsx)(Re,{to:"/"}),(0,jb.jsxs)(IK,{children:[(0,jb.jsxs)(Cw,{children:[(0,jb.jsx)(PK,{children:(0,jb.jsx)(Ze,{to:"/myprofile",children:(0,jb.jsx)("a",{href:"/myprofile",children:(0,jb.jsx)("img",{src:"/images/Backbtn1.svg",alt:""})})})}),(0,jb.jsx)(OK,{photoURL:l}),(0,jb.jsx)("h3",{children:"Add a new photo"}),(0,jb.jsx)(h,{}),(0,jb.jsx)("br",{})]}),(0,jb.jsx)(TK,{userUID:n})]})]})})),MK=On.div(DK||(DK=nt(["\n  max-width: 100%;\n  background-color: black;\n"]))),LK=(On.div(NK||(NK=nt(["\n  margin: auto;\n"]))),On.div(RK||(RK=nt(["\n  display: flex;\n  flex-flow: column nowrap;\n  align-items: center;\n  justify-content: space-evenly;\n  width: 100%;\n  margin-left: auto;\n  margin-right: auto;\n  color: white;\n  font-size: 2rem;\n  backgroundcolor: black;\n  button {\n    border: 0.0625rem solid rgb(17, 109, 255);\n    background-color: rgb(17, 109, 255);\n    border-radius: 1.875rem;\n    font-family: var(--main-text-font);\n    width: 20rem;\n    height: 3.5rem;\n    cursor: pointer;\n    color: #ffffff;\n    font-size: 1.5rem;\n    font-weight: 300;\n    margin-top: 5.5rem;\n    margin-bottom: 10rem;\n    align-items: center;\n    a:link {\n      text-decoration: none;\n    }\n    a:visited {\n      text-decoration: none;\n    }\n    a:hover {\n      text-decoration: none;\n    }\n    a:active {\n      text-decoration: none;\n    }\n    span {\n      color: white;\n      text-decoration: none;\n      background-color: none;\n    }\n  }\n"]))));var FK=F((function(e){return{user:e.userState.user}}),(function(e){return{signOut:function(){return e(mb())}}}))((function(e){return(0,jb.jsxs)(MK,{children:[!e.user&&(0,jb.jsx)(Re,{to:"/"}),(0,jb.jsxs)(LK,{children:[(0,jb.jsx)("br",{}),(0,jb.jsxs)("h1",{children:["Oh no! you're Leaving... ",(0,jb.jsx)("br",{})," Are you sure?"]}),(0,jb.jsx)("button",{className:"btn",onClick:function(){return e.signOut()},children:(0,jb.jsx)("span",{children:"Sign Out"})}),(0,jb.jsx)(Ze,{to:"/home",children:(0,jb.jsx)("button",{className:"btn",children:(0,jb.jsx)("span",{children:"Back"})})})]})]})})),UK="SearchSBForm_form__FUTTM",BK="SearchSBForm_control__-RpLt",qK="SearchSBForm_actions__Rdm9d";var VK=function(t){var n=jn((0,e.useState)(""),2),r=n[0],i=n[1],o=jn((0,e.useState)(""),2),a=o[0],s=o[1],u=jn((0,e.useState)(""),2),c=u[0],l=u[1],f=jn((0,e.useState)(""),2),h=f[0],d=f[1],p=jn((0,e.useState)(""),2),v=p[0],g=p[1];return(0,jb.jsx)(Cw,{children:(0,jb.jsxs)("form",{className:UK,onSubmit:function(e){e.preventDefault();var n={number:r,location:a,timing:c,gender:h,faculty:v};t.onAddData(n)},children:[(0,jb.jsxs)("div",{className:BK,children:[(0,jb.jsx)("label",{htmlFor:"numberSBs",children:"Preferred Number of Study Buddies:"}),(0,jb.jsx)(TH,{placeholder:"No Preference",options:["No preference","1","2","3","4","5","Big Group Studying!"],onChange:function(e){return i(e.value)},onSelect:function(e){return i(e.value)},onClose:function(e){return console.log("closedBySelection?:",e)},onOpen:function(){return console.log("open!")}})]}),(0,jb.jsx)("br",{}),(0,jb.jsxs)("div",{className:BK,children:[(0,jb.jsx)("label",{htmlFor:"location",children:"Preferred Study Locations:"}),(0,jb.jsx)(TH,{placeholder:"No Preference",options:["No preference","Business","Central Library","Computing","Faculty of Arts and Social Science","Halls, Residential Colleges and Residences","Law","Medicine","NUH","Science","School of Design and Engineering","UTown","Others"],onChange:function(e){return s(e.value)},onSelect:function(e){return s(e.value)},onClose:function(e){return console.log("closedBySelection?:",e)},onOpen:function(){return console.log("open!")}})]}),(0,jb.jsx)("br",{}),(0,jb.jsxs)("div",{className:BK,children:[(0,jb.jsx)("label",{htmlFor:"timing",children:"Preferred Study Timings:"}),(0,jb.jsx)(TH,{placeholder:"No Preference",options:["No preference","Morning","Afternoon","Evening","Night"],onChange:function(e){return l(e.value)},onSelect:function(e){return l(e.value)},onClose:function(e){return console.log("closedBySelection?:",e)},onOpen:function(){return console.log("open!")}})]}),(0,jb.jsx)("br",{}),(0,jb.jsxs)("div",{className:BK,children:[(0,jb.jsx)("label",{htmlFor:"gender",children:"Preferred Gender:"}),(0,jb.jsx)(TH,{placeholder:"No Preference",options:["No preference","Male only","Female only"],onChange:function(e){return d(e.value)},onSelect:function(e){return d(e.value)},onClose:function(e){return console.log("closedBySelection?:",e)},onOpen:function(){return console.log("open!")}})]}),(0,jb.jsx)("br",{}),(0,jb.jsxs)("div",{className:BK,children:[(0,jb.jsx)("label",{htmlFor:"faculty",children:"Preferred Faculty:"}),(0,jb.jsx)(TH,{placeholder:"No Preference",options:["No preference","Business","College of Humanities and Sciences (CHS)","College of Design and Engineering (CDE)","Computing","Dentistry","Law","Medicine","Science","Nursing","Pharmacy","Music"],onChange:function(e){return g(e.value)},onSelect:function(e){return g(e.value)},onClose:function(e){return console.log("closedBySelection?:",e)},onOpen:function(){return console.log("open!")}})]}),(0,jb.jsx)("br",{}),(0,jb.jsx)("div",{className:qK,children:(0,jb.jsx)("button",{children:"Submit"})})]})})};var zK,WK,HK,KK,GK,YK,$K=function(e){var t=Ke(),n=e.userUID;return(0,jb.jsx)("section",{children:(0,jb.jsx)(VK,{onAddData:function(e){ob.collection("SB Searches").doc(n).set(e).then((function(){t.replace("/searchedSB")}))},userUID:n})})},QK=On.div(zK||(zK=nt(["\n  max-width: 100%;\n"]))),XK=On.div(WK||(WK=nt(["\n  max-width: 1128px;\n  margin: auto;\n"]))),JK=(On.section(HK||(HK=nt(["\n  min-height: 50px;\n  margin: 16px 0 -30px;\n  box-sizing: content-box;\n  text-align: center;\n  text-decoration: underline;\n  display: flex;\n  justify-content: center;\n  h5 {\n    color: #0a66c2;\n    font-size: 14px;\n    margin-block-start: 0;\n    margin-block-end: 0;\n    a {\n      font-weight: 700;\n    }\n  }\n  p {\n    font-size: 14px;\n    color: #434649;\n    margin-block-start: 0;\n    margin-block-end: 0;\n    font-weight: 600;\n  }\n\n  @media (max-width: 768px) {\n    flex-direction: column;\n    padding: 0 5px;\n    margin: 16px 0;\n  }\n"]))),On.div(KK||(KK=nt(['\n  display: grid;\n  grid-template-areas: "left main";\n  grid-template-columns: minmax(0, 5fr) minmax(0, 17fr);\n  column-gap: 25px;\n  row-gap: 25px;\n  margin: 25px 0;\n  @media (max-width: 768px) {\n    display: flex;\n    flex-direction: column;\n    padding: 0 5px;\n  }\n']))));On.div(GK||(GK=nt(["\n  display: block;\n  flex-flow: column nowrap;\n  align-items: center;\n  justify-content: space-evenly;\n  background-color: white;\n  width: 100%;\n  margin-left: auto;\n  margin-right: auto;\n  button {\n    border: 0.0625rem solid rgb(17, 109, 255);\n    background-color: rgb(17, 109, 255);\n    border-radius: 1.875rem;\n    font-family: var(--main-text-font);\n    width: 20rem;\n    height: 3.5rem;\n    cursor: pointer;\n    color: #ffffff;\n    font-size: 1.5rem;\n    font-weight: 300;\n    margin-top: 2rem;\n    align-items: center;\n    a:link {\n      text-decoration: none;\n    }\n\n    a:visited {\n      text-decoration: none;\n    }\n\n    a:hover {\n      text-decoration: none;\n    }\n\n    a:active {\n      text-decoration: none;\n    }\n\n    span {\n      color: white;\n      text-decoration: none;\n      background-color: none;\n    }\n  }\n"]))),On.div(YK||(YK=nt(["\n  input,\n  textarea {\n    display: block;\n    font: inherit;\n    border-radius: 4px;\n    border: 1px solid #ccc;\n    padding: 0.25rem;\n    width: 100%;\n  }\n"])));var ZK,eG,tG,nG,rG,iG=F((function(e){return{user:e.userState.user}}))((function(e){var t=e.user.uid;return(0,jb.jsxs)(QK,{children:[(0,jb.jsx)(Xb,{}),!e.user&&(0,jb.jsx)(Re,{to:"/"}),(0,jb.jsxs)(XK,{children:[(0,jb.jsx)(Ze,{to:"/findstudybuddy",children:(0,jb.jsx)("a",{href:"/findstudybuddy",children:(0,jb.jsx)("img",{src:"/images/Backbtn1.svg",alt:""})})}),(0,jb.jsxs)(JK,{children:[(0,jb.jsx)(bw,{}),(0,jb.jsx)("h1",{children:"Filter and search for study buddies!"})]}),(0,jb.jsx)($K,{userUID:t})]})]})})),oG=On.div(ZK||(ZK=nt(["\n  max-width: 100%;\n"]))),aG=On.div(eG||(eG=nt(["\n  max-width: 1128px;\n  margin: auto;\n"]))),sG=(On.section(tG||(tG=nt(["\n  min-height: 50px;\n  margin: 16px 0 -30px;\n  box-sizing: content-box;\n  text-align: center;\n  text-decoration: underline;\n  display: flex;\n  justify-content: center;\n  h5 {\n    color: #0a66c2;\n    font-size: 14px;\n    margin-block-start: 0;\n    margin-block-end: 0;\n    a {\n      font-weight: 700;\n    }\n  }\n  p {\n    font-size: 14px;\n    color: #434649;\n    margin-block-start: 0;\n    margin-block-end: 0;\n    font-weight: 600;\n  }\n\n  @media (max-width: 768px) {\n    flex-direction: column;\n    padding: 0 5px;\n    margin: 16px 0;\n  }\n"]))),On.div(nG||(nG=nt(['\n  display: grid;\n  grid-template-areas: "left main";\n  grid-template-columns: minmax(0, 5fr) minmax(0, 17fr);\n  column-gap: 25px;\n  row-gap: 25px;\n  margin: 25px 0;\n  @media (max-width: 768px) {\n    display: flex;\n    flex-direction: column;\n    padding: 0 5px;\n  }\n']))));On.div(rG||(rG=nt(["\n  display: block;\n  flex-flow: column nowrap;\n  align-items: center;\n  justify-content: space-evenly;\n  background-color: white;\n  width: 100%;\n  margin-left: auto;\n  margin-right: auto;\n  button {\n    border: 0.0625rem solid rgb(17, 109, 255);\n    background-color: rgb(17, 109, 255);\n    border-radius: 1.875rem;\n    font-family: var(--main-text-font);\n    width: 20rem;\n    height: 3.5rem;\n    cursor: pointer;\n    color: #ffffff;\n    font-size: 1.5rem;\n    font-weight: 300;\n    margin-top: 2rem;\n    align-items: center;\n    a:link {\n      text-decoration: none;\n    }\n\n    a:visited {\n      text-decoration: none;\n    }\n\n    a:hover {\n      text-decoration: none;\n    }\n\n    a:active {\n      text-decoration: none;\n    }\n\n    span {\n      color: white;\n      text-decoration: none;\n      background-color: none;\n    }\n  }\n"])));var uG=F((function(e){return{user:e.userState.user}}))((function(t){var n=t.user.uid,r=jn((0,e.useState)([]),2),i=r[0],o=r[1],a=jn((0,e.useState)(!1),2),s=(a[0],a[1]),u=jn((0,e.useState)(""),2),c=(u[0],u[1],jn((0,e.useState)(""),2)),l=(c[0],c[1],jn((0,e.useState)(""),2)),f=(l[0],l[1],jn((0,e.useState)(""),2)),h=(f[0],f[1],[]);return(0,e.useEffect)((function(){ob.collection("SB Searches").where(Mn.default.firestore.FieldPath.documentId(),"==",n).get().then((function(e){return e.docs.forEach((function(e){var t=e.data().number,n=e.data().location,r=e.data().timing,i=e.data().gender,o=e.data().faculty;h.push(t,n,r,i,o)}))})),ob.collection("SB Posts").get().then((function(e){var t=[];e.docs.forEach((function(e){var r=[],i=0,o=e.data().number,a=e.data().location,s=e.data().timing,u=e.data().gender,c=e.data().subjects;r.push(o,a,s,u,c);for(var l=0;l<r.length;l++){var f=r[l],d=h[l];""!==d&&d!==f||i++}if(console.log(i),i===r.length&&e.data().posterUID!==n){var p=wx({id:e.id},e.data());t.push(p)}})),s(!1),o(t)}))}),[]),(0,jb.jsxs)(oG,{children:[(0,jb.jsx)(Xb,{}),!t.user&&(0,jb.jsx)(Re,{to:"/"}),(0,jb.jsxs)(aG,{children:[(0,jb.jsx)(Ze,{to:"/searchSB",children:(0,jb.jsx)("a",{href:"/searchSB",children:(0,jb.jsx)("img",{src:"/images/Backbtn1.svg",alt:""})})}),(0,jb.jsxs)(sG,{children:[(0,jb.jsx)(bw,{}),(0,jb.jsx)(OF,{events:i,userUID:n})]})]})]})}));var cG=F((function(e){return{}}),(function(e){return{getUserAuth:function(){return e((function(e){nb.onAuthStateChanged((function(t){t&&e(vb(t))}))}))}}}))((function(t){return(0,e.useEffect)((function(){t.getUserAuth()}),[]),(0,jb.jsx)("div",{className:"App",children:(0,jb.jsx)(Ge,{children:(0,jb.jsxs)(We,{children:[(0,jb.jsx)(Fe,{exact:!0,path:"/LastCoffee",children:(0,jb.jsx)(Wb,{})}),(0,jb.jsx)(Fe,{exact:!0,path:"/",children:(0,jb.jsx)(Wb,{})}),(0,jb.jsx)(Fe,{path:"/LastCoffee",children:(0,jb.jsx)(fw,{})}),(0,jb.jsx)(Fe,{path:"/home",children:(0,jb.jsx)(fw,{})}),(0,jb.jsx)(Fe,{path:"/myprofile",children:(0,jb.jsx)(Aw,{})}),(0,jb.jsx)(Fe,{path:"/editprofile",children:(0,jb.jsx)(jK,{})}),(0,jb.jsx)(Fe,{path:"/mycalendar",children:(0,jb.jsx)(UN,{})}),(0,jb.jsx)(Fe,{path:"/todolist",children:(0,jb.jsx)(wF,{})}),(0,jb.jsx)(Fe,{path:"/studybuddies",children:(0,jb.jsx)(EF,{})}),(0,jb.jsx)(Fe,{path:"/aboutus",children:(0,jb.jsx)(nB,{})}),(0,jb.jsx)(Fe,{path:"/findstudybuddy",children:(0,jb.jsx)(eU,{})}),(0,jb.jsx)(Fe,{path:"/mystudybuddies",children:(0,jb.jsx)(bU,{})}),(0,jb.jsx)(Fe,{path:"/studybuddynotifications",children:(0,jb.jsx)(NU,{})}),(0,jb.jsx)(Fe,{path:"/studybuddyrequests",children:(0,jb.jsx)(yB,{})}),(0,jb.jsx)(Fe,{path:"/createnewtodo",children:(0,jb.jsx)(DB,{})}),(0,jb.jsx)(Fe,{path:"/todolistdone",children:(0,jb.jsx)(QB,{})}),(0,jb.jsx)(Fe,{path:"/createnewcalendar",children:(0,jb.jsx)(cq,{})}),(0,jb.jsx)(Fe,{path:"/findnewsb",children:(0,jb.jsx)(GH,{})}),(0,jb.jsx)(Fe,{path:"/calendarevents",children:(0,jb.jsx)(hK,{})}),(0,jb.jsx)(Fe,{path:"/signout",children:(0,jb.jsx)(FK,{})}),(0,jb.jsx)(Fe,{path:"/searchSB",children:(0,jb.jsx)(iG,{})}),(0,jb.jsx)(Fe,{path:"/searchedSB",children:(0,jb.jsx)(uG,{})})]})})})}));function lG(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var fG="function"===typeof Symbol&&Symbol.observable||"@@observable",hG=function(){return Math.random().toString(36).substring(7).split("").join(".")},dG={INIT:"@@redux/INIT"+hG(),REPLACE:"@@redux/REPLACE"+hG(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+hG()}};function pG(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function vG(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function gG(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var mG=gG();mG.withExtraArgument=gG;var yG=mG,bG={user:null},wG=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bG,t=arguments.length>1?arguments[1]:void 0;return t.type===ab?wx(wx({},e),{},{user:t.user}):e},_G={loading:!1,articles:[]};var xG=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ub:return wx(wx({},e),{},{articles:t.payload,ids:t.id});case sb:return wx(wx({},e),{},{loading:t.status});default:return e}},SG={loading:!1,TDLdone:[]};var EG=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:SG,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case lb:return wx(wx({},e),{},{TDLdone:t.payload,ids:t.id});case sb:return wx(wx({},e),{},{loading:t.status});default:return e}},kG={loading:!1,TDLundone:[]};var TG=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kG,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case cb:return wx(wx({},e),{},{TDLundone:t.payload,ids:t.id});case sb:return wx(wx({},e),{},{loading:t.status});default:return e}},CG={loading:!1,calendars:[]};var IG=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:CG,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case fb:return wx(wx({},e),{},{calendars:t.payload,ids:t.id});case sb:return wx(wx({},e),{},{loading:t.status});default:return e}},PG={loading:!1,mySBs:[]};var OG=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:PG,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case db:return wx(wx({},e),{},{mySBs:t.payload,ids:t.id});case sb:return wx(wx({},e),{},{loading:t.status});default:return e}},AG={loading:!1,SBrequests:[]};var DG=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:AG,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case hb:return wx(wx({},e),{},{SBrequests:t.payload,ids:t.id});case sb:return wx(wx({},e),{},{loading:t.status});default:return e}},NG={loading:!1,SBnotifs:[]};var RG=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:NG,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pb:return wx(wx({},e),{},{SBnotifs:t.payload,ids:t.id});case sb:return wx(wx({},e),{},{loading:t.status});default:return e}},jG=function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var o,a=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:dG.INIT}))throw new Error(lG(12));if("undefined"===typeof n(void 0,{type:dG.PROBE_UNKNOWN_ACTION()}))throw new Error(lG(13))}))}(n)}catch(wm){o=wm}return function(e,t){if(void 0===e&&(e={}),o)throw o;for(var r=!1,i={},s=0;s<a.length;s++){var u=a[s],c=n[u],l=e[u],f=c(l,t);if("undefined"===typeof f){t&&t.type;throw new Error(lG(14))}i[u]=f,r=r||f!==l}return(r=r||a.length!==Object.keys(e).length)?i:e}}({userState:wG,articleState:xG,TDLdoneState:EG,TDLundoneState:TG,calendarState:IG,mySBState:OG,SBrequestsState:DG,SBnotifsState:RG}),MG=function e(t,n,r){var i;if("function"===typeof n&&"function"===typeof r||"function"===typeof r&&"function"===typeof arguments[3])throw new Error(lG(0));if("function"===typeof n&&"undefined"===typeof r&&(r=n,n=void 0),"undefined"!==typeof r){if("function"!==typeof r)throw new Error(lG(1));return r(e)(t,n)}if("function"!==typeof t)throw new Error(lG(2));var o=t,a=n,s=[],u=s,c=!1;function l(){u===s&&(u=s.slice())}function f(){if(c)throw new Error(lG(3));return a}function h(e){if("function"!==typeof e)throw new Error(lG(4));if(c)throw new Error(lG(5));var t=!0;return l(),u.push(e),function(){if(t){if(c)throw new Error(lG(6));t=!1,l();var n=u.indexOf(e);u.splice(n,1),s=null}}}function d(e){if(!pG(e))throw new Error(lG(7));if("undefined"===typeof e.type)throw new Error(lG(8));if(c)throw new Error(lG(9));try{c=!0,a=o(a,e)}finally{c=!1}for(var t=s=u,n=0;n<t.length;n++){(0,t[n])()}return e}function p(e){if("function"!==typeof e)throw new Error(lG(10));o=e,d({type:dG.REPLACE})}function v(){var e,t=h;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(lG(11));function n(){e.next&&e.next(f())}return n(),{unsubscribe:t(n)}}})[fG]=function(){return this},e}return d({type:dG.INIT}),(i={dispatch:d,subscribe:h,getState:f,replaceReducer:p})[fG]=v,i}(jG,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(lG(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},o=t.map((function(e){return e(i)}));return r=vG.apply(void 0,o)(n.dispatch),wx(wx({},n),{},{dispatch:r})}}}(yG)),LG=MG;t.render((0,jb.jsx)(c,{store:LG,children:(0,jb.jsx)(cG,{})}),document.getElementById("root"))}()}();
//# sourceMappingURL=main.48353a69.js.map